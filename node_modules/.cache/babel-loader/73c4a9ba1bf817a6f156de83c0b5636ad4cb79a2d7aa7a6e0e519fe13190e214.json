{"ast":null,"code":"var _jsxFileName = \"/Users/roshan/Desktop/spring8/spring8-mdrcg-system/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Upload, Search, FileText, Brain, Loader, ChevronDown, ChevronUp, Filter, X, Link2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  var _getAdvancedSearchSug;\n  const [currentView, setCurrentView] = useState('upload'); // 'upload', 'form', 'search'\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [formData, setFormData] = useState({});\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showFilters, setShowFilters] = useState({\n    field: true,\n    method: true,\n    application: false,\n    beamline: false,\n    year: false\n  });\n  const [showAdvancedSearch, setShowAdvancedSearch] = useState(false);\n  const [advancedSearchQuery, setAdvancedSearchQuery] = useState('');\n  const [selectedPath, setSelectedPath] = useState([]);\n  const [currentBranch, setCurrentBranch] = useState(null);\n  const [advancedSearchRows, setAdvancedSearchRows] = useState([{\n    id: 1,\n    boolean: 'AND',\n    term: '',\n    field: 'all'\n  }]);\n  const [selectedDisciplines, setSelectedDisciplines] = useState([]);\n  const [dateFrom, setDateFrom] = useState('');\n  const [dateTo, setDateTo] = useState('');\n  const [selectedItemTypes, setSelectedItemTypes] = useState([]);\n  const [selectedFilters, setSelectedFilters] = useState({\n    field: [],\n    method: [],\n    application: [],\n    beamline: [],\n    year: []\n  });\n  const [viewingPaper, setViewingPaper] = useState(null);\n  const [papers, setPapers] = useState([]);\n  const [selectedRelatedPapers, setSelectedRelatedPapers] = useState([]);\n  const [pdfText, setPdfText] = useState('');\n  const relationshipTypes = ['Cited', 'Builds upon', 'Contradicts', 'Extends', 'Similar method', 'Different approach', 'Complements'];\n\n  // サンプル研究データ (Sample Research Data)\n  const samplePapersInitial = [{\n    id: 1,\n    title: '高エネルギーX線回折による新規触媒材料の構造解析',\n    titleEn: 'Structural Analysis of Novel Catalyst Materials using High-Energy X-ray Diffraction',\n    authors: 'Hatsui, T., Takeshita, K.',\n    year: 2024,\n    field: '材料科学 (Materials Science)',\n    method: 'X線回折 (X-ray Diffraction)',\n    beamline: 'BL19B2',\n    application: '自動車産業 (Automotive)',\n    mainConclusion: '新規Pt-Co合金触媒の原子配列構造を解明し、触媒活性が30%向上することを実証',\n    industrialApplication: '自動車用燃料電池の効率向上、環境触媒技術',\n    crossDomain: '化学工学、エネルギー工学への応用可能',\n    failedApproach: '従来のTEM観察では動的変化を捉えられなかった'\n  }, {\n    id: 2,\n    title: 'タンパク質結晶構造解析による創薬ターゲット同定',\n    titleEn: 'Drug Target Identification through Protein Crystal Structure Analysis',\n    authors: 'Yamamoto, M., Tanaka, Y.',\n    year: 2024,\n    field: '生命科学 (Life Sciences)',\n    method: 'X線結晶構造解析 (X-ray Crystallography)',\n    beamline: 'BL41XU',\n    application: '製薬・医療 (Pharmaceutical)',\n    mainConclusion: '新規抗がん剤標的タンパク質の活性部位構造を原子レベルで解明',\n    industrialApplication: '製薬業界における新薬開発、個別化医療',\n    crossDomain: '構造生物学、計算化学への展開',\n    failedApproach: '低温凍結条件では生理的構造が維持できなかった'\n  }, {\n    id: 3,\n    title: 'ナノ材料の時間分解分光による電子状態ダイナミクス研究',\n    titleEn: 'Electronic State Dynamics of Nanomaterials via Time-Resolved Spectroscopy',\n    authors: 'Sato, K., Nakamura, H.',\n    year: 2023,\n    field: 'ナノサイエンス (Nanoscience)',\n    method: '時間分解分光 (Time-Resolved Spectroscopy)',\n    beamline: 'BL43IR',\n    application: 'エネルギー産業 (Energy)',\n    mainConclusion: '量子ドットの励起状態寿命が表面修飾により10倍延長可能',\n    industrialApplication: '高効率太陽電池、量子コンピュータ素子開発',\n    crossDomain: '半導体工学、光エレクトロニクス',\n    failedApproach: '室温測定では熱揺らぎの影響が大きすぎた'\n  }, {\n    id: 4,\n    title: '高分子材料の放射光X線小角散乱による階層構造解析',\n    titleEn: 'Hierarchical Structure Analysis of Polymer Materials by Synchrotron SAXS',\n    authors: 'Kobayashi, R., Ishida, M.',\n    year: 2023,\n    field: '高分子科学 (Polymer Science)',\n    method: '小角X線散乱 (SAXS)',\n    beamline: 'BL40B2',\n    application: '化学産業 (Chemical)',\n    mainConclusion: '新規生分解性プラスチックのナノ構造制御により強度が2倍向上',\n    industrialApplication: '環境対応型プラスチック製品、包装材料の高性能化',\n    crossDomain: '材料工学、環境科学への応用',\n    failedApproach: '従来のDSC測定では階層構造の詳細が不明瞭だった'\n  }, {\n    id: 5,\n    title: '磁性材料のX線磁気円二色性による電子状態観察',\n    titleEn: 'Electronic State Observation of Magnetic Materials by XMCD',\n    authors: 'Fujimoto, S., Watanabe, K.',\n    year: 2024,\n    field: '物性物理学 (Condensed Matter Physics)',\n    method: 'X線磁気円二色性 (XMCD)',\n    beamline: 'BL25SU',\n    application: 'エレクトロニクス (Electronics)',\n    mainConclusion: 'スピントロニクス材料の磁気異方性起源を原子レベルで解明',\n    industrialApplication: '次世代ハードディスク、磁気メモリの高密度化',\n    crossDomain: '情報工学、量子技術への展開',\n    failedApproach: 'SQUID測定では局所的な磁気構造が観測できなかった'\n  }, {\n    id: 6,\n    title: '半導体デバイスの高速X線イメージングによる動作解析',\n    titleEn: 'Operational Analysis of Semiconductor Devices by High-Speed X-ray Imaging',\n    authors: 'Suzuki, H., Ito, T.',\n    year: 2022,\n    field: '半導体工学 (Semiconductor Engineering)',\n    method: '高速X線イメージング (High-Speed X-ray Imaging)',\n    beamline: 'BL20XU',\n    application: 'エレクトロニクス (Electronics)',\n    mainConclusion: '次世代パワー半導体の熱応力分布をリアルタイムで可視化',\n    industrialApplication: '電気自動車用パワーデバイスの信頼性向上',\n    crossDomain: '電気工学、熱工学への応用',\n    failedApproach: '可視光観察では内部構造の変化が観測不可能だった'\n  }, {\n    id: 7,\n    title: '文化財の非破壊X線分析による製作技法の解明',\n    titleEn: 'Non-Destructive X-ray Analysis for Understanding Cultural Heritage Production Techniques',\n    authors: 'Nakamura, Y., Kimura, A.',\n    year: 2023,\n    field: '文化財科学 (Cultural Heritage Science)',\n    method: 'X線蛍光分析 (XRF)',\n    beamline: 'BL08W',\n    application: '文化・芸術 (Culture & Arts)',\n    mainConclusion: '江戸時代の陶磁器の釉薬組成と焼成温度を非破壊で特定',\n    industrialApplication: '文化財保存技術、伝統工芸の復元',\n    crossDomain: '考古学、歴史学への応用',\n    failedApproach: '従来の顕微鏡観察では内部構造が分からなかった'\n  }, {\n    id: 8,\n    title: '地球深部物質の高圧X線回折実験',\n    titleEn: 'High-Pressure X-ray Diffraction Experiments on Deep Earth Materials',\n    authors: 'Takahashi, N., Mori, D.',\n    year: 2024,\n    field: '地球科学 (Earth Science)',\n    method: '高圧X線回折 (High-Pressure XRD)',\n    beamline: 'BL10XU',\n    application: '資源探査 (Resource Exploration)',\n    mainConclusion: 'マントル遷移層の鉱物相転移圧力を精密決定し、地震波速度異常を説明',\n    industrialApplication: '鉱物資源探査、地震予測技術への貢献',\n    crossDomain: '地震学、鉱物学への展開',\n    failedApproach: '常圧実験では高圧相の構造が再現できなかった'\n  }, {\n    id: 9,\n    title: '食品成分の放射光赤外分光による分子構造解析',\n    titleEn: 'Molecular Structure Analysis of Food Components by Synchrotron Infrared Spectroscopy',\n    authors: 'Tanaka, M., Saito, E.',\n    year: 2023,\n    field: '食品科学 (Food Science)',\n    method: '赤外分光 (Infrared Spectroscopy)',\n    beamline: 'BL43IR',\n    application: '食品産業 (Food Industry)',\n    mainConclusion: '発酵食品中のタンパク質構造変化と風味の相関を解明',\n    industrialApplication: '機能性食品開発、発酵プロセス最適化',\n    crossDomain: '栄養学、微生物学への応用',\n    failedApproach: '通常の赤外分光では微量成分の検出が困難だった'\n  }];\n\n  // Initialize papers on first render\n  React.useEffect(() => {\n    if (papers.length === 0) {\n      setPapers(samplePapersInitial);\n    }\n  }, []);\n\n  // 学術分野データ (Academic Disciplines Data)\n  const disciplines = {\n    'Materials Science': {\n      label: '材料科学 (Materials Science)',\n      journals: ['Advanced Materials Research', 'Journal of Materials Chemistry', 'Materials Science and Engineering', 'Acta Materialia', 'Scripta Materialia']\n    },\n    'Life Sciences': {\n      label: '生命科学 (Life Sciences)',\n      journals: ['Cell', 'Nature Structural & Molecular Biology', 'Journal of Biological Chemistry', 'Protein Science', 'FEBS Letters']\n    },\n    'Nanoscience': {\n      label: 'ナノサイエンス (Nanoscience)',\n      journals: ['Nature Nanotechnology', 'Nano Letters', 'ACS Nano', 'Small', 'Nanoscale']\n    },\n    'Polymer Science': {\n      label: '高分子科学 (Polymer Science)',\n      journals: ['Macromolecules', 'Polymer', 'Journal of Polymer Science', 'Polymer Chemistry', 'European Polymer Journal']\n    },\n    'Condensed Matter Physics': {\n      label: '物性物理学 (Condensed Matter Physics)',\n      journals: ['Physical Review B', 'Journal of Physics: Condensed Matter', 'Applied Physics Letters', 'Physical Review Letters', 'Nature Physics']\n    },\n    'Semiconductor Engineering': {\n      label: '半導体工学 (Semiconductor Engineering)',\n      journals: ['IEEE Transactions on Electron Devices', 'Journal of Applied Physics', 'Semiconductor Science and Technology', 'Applied Physics Express', 'Solid-State Electronics']\n    },\n    'Cultural Heritage Science': {\n      label: '文化財科学 (Cultural Heritage Science)',\n      journals: ['Journal of Cultural Heritage', 'Studies in Conservation', 'Archaeometry', 'Heritage Science', 'Journal of Archaeological Science']\n    },\n    'Earth Science': {\n      label: '地球科学 (Earth Science)',\n      journals: ['Earth and Planetary Science Letters', 'Geology', 'Geophysical Research Letters', 'Journal of Geophysical Research', 'Nature Geoscience']\n    },\n    'Food Science': {\n      label: '食品科学 (Food Science)',\n      journals: ['Food Chemistry', 'Journal of Agricultural and Food Chemistry', 'Food Research International', 'Trends in Food Science & Technology', 'Food Hydrocolloids']\n    },\n    'Chemistry': {\n      label: '化学 (Chemistry)',\n      journals: ['Journal of the American Chemical Society', 'Angewandte Chemie', 'Chemical Reviews', 'Analytical Chemistry', 'Inorganic Chemistry']\n    }\n  };\n\n  // 高度検索ナレッジツリー (Advanced Search Knowledge Tree)\n  const searchKnowledgeTree = {\n    'x線': {\n      type: 'category',\n      label: 'X線技術 (X-ray Technology)',\n      branches: {\n        'x線回折': {\n          type: 'category',\n          label: 'X線回折 (X-ray Diffraction)',\n          branches: {\n            '高エネルギー': {\n              type: 'subcategory',\n              label: '高エネルギーX線回折 (High-Energy XRD)',\n              papers: [1]\n            },\n            '高圧': {\n              type: 'subcategory',\n              label: '高圧X線回折 (High-Pressure XRD)',\n              papers: [8]\n            },\n            '一般': {\n              type: 'subcategory',\n              label: '一般X線回折 (General XRD)',\n              papers: [1]\n            }\n          }\n        },\n        'x線結晶構造解析': {\n          type: 'subcategory',\n          label: 'X線結晶構造解析 (X-ray Crystallography)',\n          papers: [2]\n        },\n        'x線散乱': {\n          type: 'category',\n          label: 'X線散乱 (X-ray Scattering)',\n          branches: {\n            '小角散乱': {\n              type: 'subcategory',\n              label: '小角X線散乱 (SAXS)',\n              papers: [4]\n            }\n          }\n        },\n        'x線分光': {\n          type: 'category',\n          label: 'X線分光 (X-ray Spectroscopy)',\n          branches: {\n            '磁気円二色性': {\n              type: 'subcategory',\n              label: 'X線磁気円二色性 (XMCD)',\n              papers: [5]\n            },\n            '蛍光分析': {\n              type: 'subcategory',\n              label: 'X線蛍光分析 (XRF)',\n              papers: [7]\n            }\n          }\n        },\n        'x線イメージング': {\n          type: 'subcategory',\n          label: 'X線イメージング (X-ray Imaging)',\n          papers: [6]\n        }\n      }\n    },\n    '分光': {\n      type: 'category',\n      label: '分光技術 (Spectroscopy)',\n      branches: {\n        '時間分解': {\n          type: 'subcategory',\n          label: '時間分解分光 (Time-Resolved Spectroscopy)',\n          papers: [3]\n        },\n        '赤外分光': {\n          type: 'subcategory',\n          label: '赤外分光 (Infrared Spectroscopy)',\n          papers: [9]\n        }\n      }\n    },\n    '触媒': {\n      type: 'category',\n      label: '触媒研究 (Catalyst Research)',\n      branches: {\n        '合金触媒': {\n          type: 'subcategory',\n          label: '合金触媒 (Alloy Catalysts)',\n          papers: [1]\n        },\n        '構造解析': {\n          type: 'subcategory',\n          label: '触媒構造解析 (Catalyst Structure Analysis)',\n          papers: [1]\n        }\n      }\n    },\n    'タンパク質': {\n      type: 'category',\n      label: 'タンパク質研究 (Protein Research)',\n      branches: {\n        '結晶構造': {\n          type: 'subcategory',\n          label: 'タンパク質結晶構造 (Protein Crystal Structure)',\n          papers: [2]\n        },\n        '創薬': {\n          type: 'subcategory',\n          label: '創薬ターゲット (Drug Targets)',\n          papers: [2]\n        }\n      }\n    },\n    'ナノ材料': {\n      type: 'category',\n      label: 'ナノ材料 (Nanomaterials)',\n      branches: {\n        '量子ドット': {\n          type: 'subcategory',\n          label: '量子ドット (Quantum Dots)',\n          papers: [3]\n        },\n        '電子状態': {\n          type: 'subcategory',\n          label: '電子状態解析 (Electronic State Analysis)',\n          papers: [3, 5]\n        }\n      }\n    },\n    '高分子': {\n      type: 'category',\n      label: '高分子材料 (Polymer Materials)',\n      branches: {\n        '生分解性': {\n          type: 'subcategory',\n          label: '生分解性プラスチック (Biodegradable Plastics)',\n          papers: [4]\n        },\n        '階層構造': {\n          type: 'subcategory',\n          label: '階層構造解析 (Hierarchical Structure)',\n          papers: [4]\n        }\n      }\n    },\n    '磁性材料': {\n      type: 'category',\n      label: '磁性材料 (Magnetic Materials)',\n      branches: {\n        'スピントロニクス': {\n          type: 'subcategory',\n          label: 'スピントロニクス (Spintronics)',\n          papers: [5]\n        }\n      }\n    },\n    '半導体': {\n      type: 'category',\n      label: '半導体 (Semiconductors)',\n      branches: {\n        'パワーデバイス': {\n          type: 'subcategory',\n          label: 'パワー半導体 (Power Semiconductors)',\n          papers: [6]\n        },\n        '熱応力解析': {\n          type: 'subcategory',\n          label: '熱応力解析 (Thermal Stress Analysis)',\n          papers: [6]\n        }\n      }\n    },\n    '文化財': {\n      type: 'category',\n      label: '文化財 (Cultural Heritage)',\n      branches: {\n        '非破壊分析': {\n          type: 'subcategory',\n          label: '非破壊分析 (Non-Destructive Analysis)',\n          papers: [7]\n        },\n        '陶磁器': {\n          type: 'subcategory',\n          label: '陶磁器分析 (Ceramic Analysis)',\n          papers: [7]\n        }\n      }\n    },\n    '地球科学': {\n      type: 'category',\n      label: '地球科学 (Earth Science)',\n      branches: {\n        '高圧実験': {\n          type: 'subcategory',\n          label: '高圧実験 (High-Pressure Experiments)',\n          papers: [8]\n        },\n        'マントル': {\n          type: 'subcategory',\n          label: 'マントル研究 (Mantle Research)',\n          papers: [8]\n        }\n      }\n    },\n    '食品': {\n      type: 'category',\n      label: '食品科学 (Food Science)',\n      branches: {\n        '発酵食品': {\n          type: 'subcategory',\n          label: '発酵食品 (Fermented Foods)',\n          papers: [9]\n        },\n        'タンパク質構造': {\n          type: 'subcategory',\n          label: '食品タンパク質 (Food Proteins)',\n          papers: [9]\n        }\n      }\n    },\n    '産業応用': {\n      type: 'category',\n      label: '産業応用 (Industrial Applications)',\n      branches: {\n        '自動車': {\n          type: 'subcategory',\n          label: '自動車産業 (Automotive)',\n          papers: [1, 6]\n        },\n        '製薬': {\n          type: 'subcategory',\n          label: '製薬・医療 (Pharmaceutical)',\n          papers: [2]\n        },\n        'エネルギー': {\n          type: 'subcategory',\n          label: 'エネルギー (Energy)',\n          papers: [3]\n        },\n        '化学': {\n          type: 'subcategory',\n          label: '化学産業 (Chemical)',\n          papers: [4]\n        },\n        'エレクトロニクス': {\n          type: 'subcategory',\n          label: 'エレクトロニクス (Electronics)',\n          papers: [5, 6]\n        }\n      }\n    }\n  };\n\n  // 高度検索でマッチする項目を取得 (Get matching items for advanced search)\n  const getAdvancedSearchSuggestions = query => {\n    if (!query) return null;\n    const lowerQuery = query.toLowerCase().trim();\n    const matches = [];\n    Object.keys(searchKnowledgeTree).forEach(key => {\n      if (key.includes(lowerQuery) || searchKnowledgeTree[key].label.toLowerCase().includes(lowerQuery)) {\n        matches.push({\n          key: key,\n          data: searchKnowledgeTree[key],\n          path: [key]\n        });\n      }\n    });\n    return matches;\n  };\n\n  // MDRCG質問項目 (MDRCG Question Items)\n  const mdrcgQuestions = [{\n    id: 'mainConclusion',\n    label: '主な結論 (Main Conclusion)',\n    placeholder: 'この研究で明らかになった最も重要な発見を1-2文で記述してください',\n    type: 'textarea',\n    required: true,\n    aiDraft: 'SPring-8-II第四世代光源用に340台のボタン型BPMシステムを開発し、0.1 nC入射バンチで100 μm標準偏差以下のシングルパス分解能、COD分解能1 μm標準偏差以下、数週間で5 μm以内の長期安定性、電気中心変位150 μm標準偏差以下を達成し、コミッショニングと運用要件を完全に満たすことを実証しました。'\n  }, {\n    id: 'priorWork',\n    label: '先行研究との関係 (Relationship to Prior Work)',\n    placeholder: 'この研究が基づいている3-5つの重要な先行研究を挙げてください',\n    type: 'textarea',\n    required: true,\n    aiDraft: '1) SPring-8の既存BPMシステムと放射線損傷ケーブルの湿度感度問題に関する研究\\n2) NanoTerasu 3 GeV光源用BPM実装（2020-2024年）でほぼ同一のシステム設計を採用\\n3) SPring-8の高速ヘリシティ切替ビームラインの適応フィードフォワード補正用MicroTCA.4ベース電子回路開発\\n4) 菱形形状への変更前の元の圧縮八角形ビームパイプ設計\\n5) 加速器コンポーネント用CST Studio RF シミュレーションとANSYS熱解析技術'\n  }, {\n    id: 'novelty',\n    label: '新規性 (Novelty)',\n    placeholder: 'この研究の独自の貢献は何ですか？',\n    type: 'textarea',\n    required: true,\n    aiDraft: '第四世代光源応用において、耐放射線性PEEKインシュレーター同軸ケーブルとMicroTCA.4プラットフォームの包括的統合を初めて実現。異なる放射線ゾーンに最適化された新規3ケーブルシステム（A/B/Cケーブル）の開発。電極設計においてスプリング材料を排除した逆極性SMAコネクタの先駆的使用。八角形から菱形ビームパイプ断面へのBPMヘッド設計の適応を性能仕様を維持しながら実現。極限放射線環境下でのリアルタイムゲインドリフト監視用パイロットトーン生成器の実装。'\n  }, {\n    id: 'unknownQuestions',\n    label: '未解明の課題 (Remaining Unknown Questions)',\n    placeholder: 'この研究では答えられなかった2-3の具体的な疑問',\n    type: 'textarea',\n    required: false,\n    aiDraft: '1) 数年間の運転を超える長期的な電磁加熱が電極材料に与える影響\\n2) 様々なバンチフィルパターンに対する最適な冷却水流量と冷却チャンネル配置\\n3) 測定された放射線被曝レベルを超えるPEEKケーブル劣化曲線の挙動\\n4) 未試験の極端なバンチパターン（406バンチ以上）での性能\\n5) サブミクロン位置安定性要件に対する機械的振動の影響'\n  }, {\n    id: 'failedApproach',\n    label: '失敗したアプローチ (Failed Approaches)',\n    placeholder: 'うまくいかなかった手法とその理由',\n    type: 'textarea',\n    required: false,\n    aiDraft: '当初の八角形ビームパイプ設計では、高い抵抗壁インピーダンスのためステンレス鋼内面への銅メッキが必要で、製造の複雑さとコストが増加しました。標準フレキシブルケーブルは高放射線ゾーンで湿度感度により故障し、環境条件との相関が測定に現れました。水冷なしの室温動作では10°C以上の温度上昇と10 μm以上の熱変位が発生し、安定性要件を超過しました。スプリング材料を含む従来のSMAコネクタは、放射線被曝下での電極接続において信頼性の問題を経験しました。'\n  }, {\n    id: 'crossDomain',\n    label: '異分野翻訳レイヤー (Cross-Domain Translation)',\n    placeholder: '他分野での類似問題や応用可能性',\n    type: 'textarea',\n    required: true,\n    aiDraft: '素粒子物理学：サブミクロン軌道安定性を要する将来円形衝突型加速器（FCC、CEPC）の精密ビーム診断への応用\\n医学物理学：がん治療用小型放射光源の信頼性の高いビーム位置モニタリング\\n自由電子レーザー：コヒーレントX線生成のための超安定電子ビーム軌道制御\\n産業用イオン注入装置：半導体製造用高精度ビームステアリング\\n宇宙技術：衛星計測用耐放射線電子回路設計原理\\n量子コンピューティング：量子ビット読み出しシステムに適用可能な極低温センサー開発技術'\n  }, {\n    id: 'industrialPain',\n    label: '産業応用可能性 (Industrial Application Potential)',\n    placeholder: 'この研究が解決できる具体的な産業課題',\n    type: 'textarea',\n    required: true,\n    aiDraft: '世界中の放射光施設：100倍の輝度向上を必要とする既存第三世代光源のアップグレードプロジェクトへの直接適用（ESRF-EBS、APS-U、PETRA IV）\\n半導体産業：次世代チップ製造のための先進リソグラフィーと材料キャラクタリゼーションを可能にする超精密ビーム位置制御\\n製薬研究開発：創薬におけるタイムリゾルブドタンパク質結晶構造解析に必要な安定X線ビーム\\n材料科学：材料加工中の原子レベル現象のその場観察にはサブミクロンビーム安定性が必要\\n自動車産業：放射光ベースのオペランド分光法による触媒コンバーター最適化\\n航空宇宙：高輝度X線源を使用した重要部品の非破壊検査'\n  }, {\n    id: 'abstractPrinciple',\n    label: '抽象化された原理 (Abstracted Principle - 5th Grade Level)',\n    placeholder: '小学5年生でも理解できるように説明してください',\n    type: 'textarea',\n    required: true,\n    aiDraft: '巨大な円形トラック（レースカーのトラックみたいだけど、電子用だよ！）の周りを超高速で回る小さな粒を撮影する超高速カメラがあると想像してね。この電子はとても小さくて目では見えないんだ。BPM（ビーム位置モニター）は、トラック全体にセンサーがあって、電子がどこにいるかを正確に教えてくれるんだ。小さな粒子用のGPSみたいなもの！なぜそんなに正確に知る必要があるかというと（髪の毛よりも細く！）、この走っている電子が特別なX線の光を作り出して、科学者たちがそれを使って物質の内側を見るんだ。お医者さんがX線であなたの骨を見るのと同じようにね。電子がほんの少しでも揺れると、X線の写真がぼやけちゃうんだ。私たちの新しいシステムはとても正確で、鉛筆が髪の毛の幅より小さく動いたかどうかを測るようなものなんだよ！'\n  }, {\n    id: 'experimentalReason',\n    label: '実験設計の理由 (Experimental Design Rationale)',\n    placeholder: 'なぜこのパラメータ・手法を選んだのか',\n    type: 'textarea',\n    required: false,\n    aiDraft: 'RF周波数508.76 MHzの選択理由：SPring-8-IIの加速RF周波数に同期し、バンチ信号を正確に抽出可能\\nサンプリングレート363.40 MHz（RF周波数の5/7）の選択：アンダーサンプリング方式により145.36 MHzの中間周波数を得て、FPGAでの高速処理を実現\\n7次多項式変換の採用理由：ビーム位置の非線形性を高精度で補正し、広範囲での位置測定精度を確保\\nPEEK絶縁同軸ケーブルの選択：高放射線環境下での長期耐久性と湿度非感受性を両立\\n水冷19インチキャビネットの採用：±0.1°Cの温度安定性により長期ドリフトを5 μm以内に抑制\\nモリブデン電極材料の選択：ステンレス鋼より優れた電気伝導性により電磁加熱を分散し、温度上昇を緩和'\n  }, {\n    id: 'scalingPossibility',\n    label: 'スケーリング可能性 (Scaling Possibilities)',\n    placeholder: 'この技術は異なるスケールで機能しますか？',\n    type: 'textarea',\n    required: false,\n    aiDraft: 'エネルギースケール：3 GeV（NanoTerasu）から6 GeV（SPring-8-II）、さらに高エネルギー衝突型加速器まで適用可能。電極直径とビームパイプ寸法をスケーリングすることで異なるビームエネルギーに対応。\\n施設規模：周長約500 mのコンパクト光源から数kmの大型施設まで、BPM数を10台から数千台まで拡張可能。MicroTCA.4プラットフォームの拡張性により大規模展開に対応。\\nビーム電流：0.1 nC（シングルパス）から数百mA（蓄積電流）まで、ステップアッテネーターとアンプの調整により広範囲をカバー。\\n時間分解能：ターンバイターン（208.85 kHz）から10 Hzスローデータまで、異なるタイムスケールでの軌道監視を並列実行可能。'\n  }, {\n    id: 'combinationPotential',\n    label: '組み合わせ可能性 (Combination Potential)',\n    placeholder: '他の技術と組み合わせる可能性',\n    type: 'textarea',\n    required: false,\n    aiDraft: '機械学習との組合せ：ターンバイターンBPMデータ（208.85 kHz）をリアルタイム解析し、ビーム不安定性の予測と自動補正が可能。AIによる軌道補正アルゴリズム開発により、コミッショニング時間を大幅短縮。\\nフィードバックシステムとの統合：高速10 kHzデータを用いた適応型フィードフォワード制御により、アンジュレータの高速ヘリシティ切替による軌道擾乱を5 μm以内に抑制。\\nビームベースアライメント：BPMと四極磁石の磁気中心変位測定により、150 μm標準偏差以内での精密アライメントを実現。\\nデジタルツイン技術：BPMリアルタイムデータと加速器シミュレーションを統合し、仮想加速器モデルで運転最適化と故障予測を実現。\\n量子センサー技術：極低温BPM電子回路の開発知見を量子ビット読み出し回路に応用可能。\\nIoT監視システム：パイロットトーン生成器による自己診断機能を拡張し、予防保全と遠隔監視を実現。'\n  }];\n  const [isDragging, setIsDragging] = useState(false);\n  const processFile = file => {\n    if (file && file.type === 'application/pdf') {\n      setUploadedFile(file);\n      setIsProcessing(true);\n      setTimeout(() => {\n        // Check if filename contains \"TUP16\"\n        if (file.name.includes('TUP16')) {\n          const draftData = {};\n          mdrcgQuestions.forEach(q => {\n            if (q.aiDraft) {\n              draftData[q.id] = q.aiDraft;\n            }\n          });\n          setFormData(draftData);\n        } else {\n          setFormData({}); // Empty form for other files\n        }\n        setIsProcessing(false);\n        setCurrentView('form');\n      }, 3000);\n    } else {\n      alert('PDFファイルのみアップロード可能です');\n    }\n  };\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    processFile(file);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    const file = e.dataTransfer.files[0];\n    processFile(file);\n  };\n  const handleInputChange = (id, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [id]: value\n    }));\n  };\n  const handleSubmit = () => {\n    // Create new paper from form data\n    const newPaper = {\n      id: Date.now(),\n      title: uploadedFile ? uploadedFile.name.replace('.pdf', '') : '新規論文',\n      titleEn: 'New Research Paper',\n      authors: 'Kitagawa, H.',\n      year: new Date().getFullYear(),\n      field: '材料科学 (Materials Science)',\n      method: 'X線回折 (X-ray Diffraction)',\n      beamline: 'BL19B2',\n      application: '自動車産業 (Automotive)',\n      mainConclusion: formData.mainConclusion || '新しく登録された研究論文です',\n      industrialApplication: formData.industrialPain || '産業応用の詳細',\n      crossDomain: formData.crossDomain || '異分野応用の可能性',\n      failedApproach: formData.failedApproach || '',\n      uploadedFile: uploadedFile,\n      formData: formData,\n      relatedPapers: selectedRelatedPapers,\n      pdfText: pdfText\n    };\n\n    // Add to papers state\n    setPapers(prevPapers => [newPaper, ...prevPapers]);\n\n    // Reset form and go to search\n    setFormData({});\n    setUploadedFile(null);\n    setSelectedRelatedPapers([]);\n    setPdfText('');\n    setCurrentView('search');\n  };\n  const toggleFilter = (category, value) => {\n    setSelectedFilters(prev => {\n      const current = prev[category];\n      const updated = current.includes(value) ? current.filter(v => v !== value) : [...current, value];\n      return {\n        ...prev,\n        [category]: updated\n      };\n    });\n  };\n  const filteredPapers = papers.filter(paper => {\n    const matchesSearch = searchQuery === '' || paper.title.toLowerCase().includes(searchQuery.toLowerCase()) || paper.titleEn.toLowerCase().includes(searchQuery.toLowerCase()) || paper.authors.toLowerCase().includes(searchQuery.toLowerCase()) || paper.mainConclusion.toLowerCase().includes(searchQuery.toLowerCase()) || paper.industrialApplication.toLowerCase().includes(searchQuery.toLowerCase()) || paper.crossDomain.toLowerCase().includes(searchQuery.toLowerCase()) || paper.field.toLowerCase().includes(searchQuery.toLowerCase()) || paper.method.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesField = selectedFilters.field.length === 0 || selectedFilters.field.includes(paper.field);\n    const matchesMethod = selectedFilters.method.length === 0 || selectedFilters.method.includes(paper.method);\n    const matchesApplication = selectedFilters.application.length === 0 || selectedFilters.application.includes(paper.application);\n    const matchesBeamline = selectedFilters.beamline.length === 0 || selectedFilters.beamline.includes(paper.beamline);\n    const matchesYear = selectedFilters.year.length === 0 || selectedFilters.year.includes(paper.year);\n    return matchesSearch && matchesField && matchesMethod && matchesApplication && matchesBeamline && matchesYear;\n  });\n\n  // アップロードビュー (Upload View)\n  if (currentView === 'upload') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-full mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-b border-gray-200 px-8 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"SPring-8 \\u7814\\u7A76\\u30C7\\u30FC\\u30BF\\u30D9\\u30FC\\u30B9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 795,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentView('search'),\n                className: \"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\",\n                children: \"\\u691C\\u7D22\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\",\n                children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 805,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-4xl mx-auto p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-4xl font-serif text-gray-900 mb-2\",\n              children: \"\\u7814\\u7A76\\u8AD6\\u6587\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"\\u591A\\u6B21\\u5143\\u7814\\u7A76\\u30B3\\u30F3\\u30C6\\u30AD\\u30B9\\u30C8\\u30B0\\u30E9\\u30D5\\u30B7\\u30B9\\u30C6\\u30E0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 816,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border-2 border-gray-300 rounded-lg p-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              onDragOver: handleDragOver,\n              onDragLeave: handleDragLeave,\n              onDrop: handleDrop,\n              className: `border-4 border-dashed rounded-lg p-16 text-center transition-all ${isDragging ? 'border-blue-500 bg-blue-50' : 'border-gray-300 bg-gray-50 hover:bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(Upload, {\n                className: `w-20 h-20 mx-auto mb-6 transition-colors ${isDragging ? 'text-blue-500' : 'text-gray-400'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 830,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-2xl font-semibold text-gray-800 mb-3\",\n                children: isDragging ? 'ここにドロップしてください' : '研究論文をアップロード'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 833,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-8 max-w-2xl mx-auto\",\n                children: isDragging ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 font-semibold\",\n                  children: \"\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u30C9\\u30ED\\u30C3\\u30D7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 838,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"PDF\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u30C9\\u30E9\\u30C3\\u30B0&\\u30C9\\u30ED\\u30C3\\u30D7\\u3001\\u307E\\u305F\\u306F\\u30AF\\u30EA\\u30C3\\u30AF\\u3057\\u3066\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 841,\n                    columnNumber: 56\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: \"(Drag & drop or click to upload PDF)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 842,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 836,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"inline-block\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \".pdf\",\n                  onChange: handleFileUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 848,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold cursor-pointer inline-block\",\n                  children: \"PDF\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u9078\\u629E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 854,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 847,\n                columnNumber: 17\n              }, this), uploadedFile && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-8 inline-flex items-center gap-3 bg-white p-4 rounded-lg border border-gray-300\",\n                children: [/*#__PURE__*/_jsxDEV(FileText, {\n                  className: \"w-6 h-6 text-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 861,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: uploadedFile.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 15\n            }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-12 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Loader, {\n                className: \"w-16 h-16 mx-auto animate-spin text-red-800 mb-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl font-semibold text-gray-800 mb-2\",\n                children: \"AI\\u304C\\u8AD6\\u6587\\u3092\\u89E3\\u6790\\u4E2D...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"MDRCG\\u60C5\\u5831\\u3092\\u81EA\\u52D5\\u751F\\u6210\\u3057\\u3066\\u3044\\u307E\\u3059\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 873,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-gray-900 mb-3\",\n              children: \"\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\\u5F8C\\u306E\\u6D41\\u308C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-2 text-sm text-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 885,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"AI\\u304C\\u7814\\u7A76\\u8AD6\\u6587\\u3092\\u5206\\u6790\\u3057\\u3001\\u91CD\\u8981\\u306A\\u60C5\\u5831\\u3092\\u62BD\\u51FA\\u3057\\u307E\\u3059\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 886,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 889,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u81EA\\u52D5\\u751F\\u6210\\u3055\\u308C\\u305FMDRCG\\u30D5\\u30A9\\u30FC\\u30E0\\u3092\\u78BA\\u8A8D\\u30FB\\u7DE8\\u96C6\\u3067\\u304D\\u307E\\u3059\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 890,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 888,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 893,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u3042\\u306A\\u305F\\u306E\\u7814\\u7A76\\u304C\\u591A\\u6B21\\u5143\\u3067\\u691C\\u7D22\\u53EF\\u80FD\\u306B\\u306A\\u308A\\u307E\\u3059\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 894,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 892,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 897,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u7570\\u5206\\u91CE\\u3068\\u306E\\u95A2\\u9023\\u6027\\u304C\\u81EA\\u52D5\\u7684\\u306B\\u7279\\u5B9A\\u3055\\u308C\\u307E\\u3059\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 898,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 813,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 791,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 7\n    }, this);\n  }\n\n  // フォームビュー (Form View)\n  if (currentView === 'form') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-full mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-b border-gray-200 px-8 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"SPring-8 \\u7814\\u7A76\\u30C7\\u30FC\\u30BF\\u30D9\\u30FC\\u30B9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentView('search'),\n                className: \"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\",\n                children: \"\\u691C\\u7D22\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 920,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\",\n                children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 926,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 914,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-5xl mx-auto p-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-300 rounded-lg p-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-bold text-gray-800 mb-2\",\n                children: \"MDRCG \\u60C5\\u5831\\u5165\\u529B\\u30D5\\u30A9\\u30FC\\u30E0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 937,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: \"Research Context Information Form\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 940,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 936,\n              columnNumber: 13\n            }, this), papers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-8 p-6 bg-blue-50 border-2 border-blue-200 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(Link2, {\n                  className: \"w-5 h-5 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 947,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-xl font-bold text-gray-800\",\n                  children: \"\\u95A2\\u9023\\u8AD6\\u6587\\u306E\\u9078\\u629E (Related Papers)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 948,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 946,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600 mb-4\",\n                children: \"\\u3053\\u306E\\u8AD6\\u6587\\u3068\\u95A2\\u9023\\u3059\\u308B\\u65E2\\u5B58\\u306E\\u8AD6\\u6587\\u3092\\u9078\\u629E\\u3057\\u3001\\u95A2\\u4FC2\\u6027\\u3092\\u6307\\u5B9A\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3 max-h-64 overflow-y-auto\",\n                children: papers.map(paper => {\n                  const existingRelation = selectedRelatedPapers.find(r => r.paperId === paper.id);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3 p-3 bg-white rounded border border-gray-300\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: !!existingRelation,\n                      onChange: e => {\n                        if (e.target.checked) {\n                          setSelectedRelatedPapers([...selectedRelatedPapers, {\n                            paperId: paper.id,\n                            relationshipType: 'Cited'\n                          }]);\n                        } else {\n                          setSelectedRelatedPapers(selectedRelatedPapers.filter(r => r.paperId !== paper.id));\n                        }\n                      },\n                      className: \"w-4 h-4 accent-blue-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 960,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-semibold text-gray-800\",\n                        children: paper.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 976,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [paper.authors, \" (\", paper.year, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 977,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 975,\n                      columnNumber: 25\n                    }, this), existingRelation && /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: existingRelation.relationshipType,\n                      onChange: e => {\n                        setSelectedRelatedPapers(selectedRelatedPapers.map(r => r.paperId === paper.id ? {\n                          ...r,\n                          relationshipType: e.target.value\n                        } : r));\n                      },\n                      className: \"px-3 py-1 border-2 border-gray-300 rounded text-sm font-medium\",\n                      children: relationshipTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: type,\n                        children: type\n                      }, type, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 990,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 980,\n                      columnNumber: 27\n                    }, this)]\n                  }, paper.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 959,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 955,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 945,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6 max-h-[600px] overflow-y-auto pr-4\",\n              children: mdrcgQuestions.map(question => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-b pb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-lg font-semibold text-gray-800\",\n                    children: [question.label, question.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-red-500 ml-1\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1007,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1005,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1004,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: formData[question.id] || '',\n                  onChange: e => handleInputChange(question.id, e.target.value),\n                  placeholder: question.placeholder,\n                  className: \"w-full p-4 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none min-h-[120px] bg-yellow-50\",\n                  required: question.required\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1010,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 mt-1\",\n                  children: \"\\uD83D\\uDCA1 AI\\u304C\\u751F\\u6210\\u3057\\u305F\\u5185\\u5BB9\\u3067\\u3059\\u3002\\u5FC5\\u8981\\u306B\\u5FDC\\u3058\\u3066\\u4FEE\\u6B63\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1017,\n                  columnNumber: 19\n                }, this)]\n              }, question.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1003,\n                columnNumber: 17\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1001,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-8 flex gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentView('upload'),\n                className: \"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\",\n                children: \"\\u2190 \\u623B\\u308B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1025,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSubmit,\n                className: \"flex-1 px-6 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\",\n                children: \"\\u767B\\u9332\\u3057\\u3066\\u516C\\u958B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 935,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 934,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 912,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 911,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 高度検索ビュー (Advanced Search View)\n  if (currentView === 'advancedSearch') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-4xl font-serif text-gray-900\",\n              children: \"\\u9AD8\\u5EA6\\u691C\\u7D22\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1053,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentView('search'),\n              className: \"text-sm text-blue-700 hover:text-blue-900 underline\",\n              children: \"\\u2190 \\u7C21\\u6613\\u691C\\u7D22\\u306B\\u623B\\u308B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1054,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1052,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"text-sm text-blue-700 hover:underline\",\n            children: \"\\u691C\\u7D22\\u30D8\\u30EB\\u30D7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1061,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1051,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b-2 border-gray-300 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"px-6 py-3 text-sm font-semibold border-b-4 border-black -mb-0.5\",\n            children: \"\\u5168\\u30B3\\u30F3\\u30C6\\u30F3\\u30C4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1066,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"px-6 py-3 text-sm text-gray-600 hover:text-gray-900\",\n            children: \"\\u753B\\u50CF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1069,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1065,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg border border-gray-300 p-8 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-serif text-gray-900 mb-6\",\n            children: \"\\u691C\\u7D22\\u30AF\\u30A8\\u30EA\\u3092\\u69CB\\u7BC9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1076,\n            columnNumber: 13\n          }, this), advancedSearchRows.map((row, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-12 gap-4 items-start\",\n              children: [index > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-semibold text-gray-700 mb-1\",\n                  children: \"\\u8AD6\\u7406\\u6F14\\u7B97\\u5B50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1083,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: row.boolean,\n                  onChange: e => {\n                    const newRows = [...advancedSearchRows];\n                    newRows[index].boolean = e.target.value;\n                    setAdvancedSearchRows(newRows);\n                  },\n                  className: \"w-full px-3 py-2 border border-gray-400 rounded text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"AND\",\n                    children: \"AND\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1093,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"OR\",\n                    children: \"OR\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1094,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"NOT\",\n                    children: \"NOT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1095,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"NEAR 5\",\n                    children: \"NEAR 5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1096,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"NEAR 10\",\n                    children: \"NEAR 10\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1097,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"NEAR 25\",\n                    children: \"NEAR 25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1098,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1084,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1082,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: index === 0 ? 'col-span-6' : 'col-span-5',\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-semibold text-gray-700 mb-1\",\n                  children: \"\\u691C\\u7D22\\u8A9E\\u53E5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1104,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: row.term,\n                  onChange: e => {\n                    const newRows = [...advancedSearchRows];\n                    newRows[index].term = e.target.value;\n                    setAdvancedSearchRows(newRows);\n                  },\n                  className: \"w-full px-3 py-2 border border-gray-400 rounded text-sm\",\n                  placeholder: \"\\u691C\\u7D22\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1105,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1103,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-semibold text-gray-700 mb-1\",\n                  children: \"\\u691C\\u7D22\\u30D5\\u30A3\\u30FC\\u30EB\\u30C9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1119,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: row.field,\n                  onChange: e => {\n                    const newRows = [...advancedSearchRows];\n                    newRows[index].field = e.target.value;\n                    setAdvancedSearchRows(newRows);\n                  },\n                  className: \"w-full px-3 py-2 border border-gray-400 rounded text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"all\",\n                    children: \"\\u5168\\u30D5\\u30A3\\u30FC\\u30EB\\u30C9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1129,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"title\",\n                    children: \"\\u30BF\\u30A4\\u30C8\\u30EB\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1130,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"author\",\n                    children: \"\\u8457\\u8005\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1131,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"abstract\",\n                    children: \"\\u8981\\u65E8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1132,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"caption\",\n                    children: \"\\u8AAC\\u660E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1133,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1120,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1118,\n                columnNumber: 19\n              }, this), index > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-1 pt-6\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setAdvancedSearchRows(advancedSearchRows.filter(r => r.id !== row.id));\n                  },\n                  className: \"text-gray-600 hover:text-red-600\",\n                  children: /*#__PURE__*/_jsxDEV(X, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1145,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1139,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1138,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1080,\n              columnNumber: 17\n            }, this)\n          }, row.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1079,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setAdvancedSearchRows([...advancedSearchRows, {\n                id: Date.now(),\n                boolean: 'AND',\n                term: '',\n                field: 'all'\n              }]);\n            },\n            className: \"mt-4 px-4 py-2 text-sm border border-gray-400 rounded hover:bg-gray-50 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1162,\n              columnNumber: 15\n            }, this), \" \\u884C\\u3092\\u8FFD\\u52A0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-xs font-semibold text-gray-700 mb-2\",\n              children: \"\\u30A2\\u30AF\\u30BB\\u30B9\\u30BF\\u30A4\\u30D7\\u3092\\u9078\\u629E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1167,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"w-80 px-3 py-2 border border-gray-400 rounded text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"\\u3059\\u3079\\u3066\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"\\u30A2\\u30AF\\u30BB\\u30B9\\u53EF\\u80FD\\u306A\\u30B3\\u30F3\\u30C6\\u30F3\\u30C4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1170,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1168,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              // Apply advanced search and go back to results\n              setCurrentView('search');\n            },\n            className: \"mt-6 px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\",\n            children: \"\\u9AD8\\u5EA6\\u691C\\u7D22\\u3092\\u5B9F\\u884C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1075,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg border border-gray-300 p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-serif text-gray-900 mb-6\",\n            children: \"\\u691C\\u7D22\\u7D50\\u679C\\u3092\\u7D5E\\u308A\\u8FBC\\u3080\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-semibold text-gray-900 mb-3\",\n              children: \"\\u30A2\\u30A4\\u30C6\\u30E0\\u30BF\\u30A4\\u30D7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: ['論文', '研究報告', 'レビュー', 'その他', '書籍'].map(type => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center gap-2 text-sm cursor-pointer\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedItemTypes.includes(type),\n                  onChange: () => {\n                    setSelectedItemTypes(prev => prev.includes(type) ? prev.filter(t => t !== type) : [...prev, type]);\n                  },\n                  className: \"w-4 h-4 accent-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1195,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1205,\n                  columnNumber: 21\n                }, this)]\n              }, type, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1194,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1192,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-semibold text-gray-900 mb-3\",\n              children: \"\\u51FA\\u7248\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs text-gray-600 mb-1\",\n                  children: \"\\u958B\\u59CB\\u65E5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: dateFrom,\n                  onChange: e => setDateFrom(e.target.value),\n                  placeholder: \"yyyy/mm/dd\",\n                  className: \"w-32 px-3 py-2 border border-gray-400 rounded text-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1217,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-6\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"\\u301C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1226,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1225,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs text-gray-600 mb-1\",\n                  children: \"\\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1229,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: dateTo,\n                  onChange: e => setDateTo(e.target.value),\n                  placeholder: \"yyyy/mm/dd\",\n                  className: \"w-32 px-3 py-2 border border-gray-400 rounded text-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1230,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1228,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1214,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-semibold text-gray-900 mb-3\",\n              children: \"\\u5B66\\u8853\\u5206\\u91CE\\u3067\\u7D5E\\u308A\\u8FBC\\u3080\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 max-h-96 overflow-y-auto border border-gray-300 rounded p-4\",\n              children: Object.entries(disciplines).map(([key, discipline]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-50 p-1 rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: selectedDisciplines.includes(key),\n                    onChange: () => {\n                      setSelectedDisciplines(prev => prev.includes(key) ? prev.filter(d => d !== key) : [...prev, key]);\n                    },\n                    className: \"w-4 h-4 mt-0.5 accent-red-800\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1248,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium text-gray-900\",\n                      children: discipline.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1259,\n                      columnNumber: 25\n                    }, this), selectedDisciplines.includes(key) && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ml-6 mt-2 space-y-1\",\n                      children: discipline.journals.map(journal => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-blue-700 hover:underline cursor-pointer\",\n                        children: journal\n                      }, journal, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1263,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1261,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1258,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1247,\n                  columnNumber: 21\n                }, this)\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1246,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setCurrentView('search');\n            },\n            className: \"px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\",\n            children: \"\\u9AD8\\u5EA6\\u691C\\u7D22\\u3092\\u5B9F\\u884C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1049,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1048,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 論文詳細ビュー (Paper Detail View)\n  if (currentView === 'search' && viewingPaper) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-full mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-b border-gray-200 px-8 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"SPring-8 \\u7814\\u7A76\\u30C7\\u30FC\\u30BF\\u30D9\\u30FC\\u30B9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setViewingPaper(null),\n                className: \"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\",\n                children: \"\\u2190 \\u691C\\u7D22\\u7D50\\u679C\\u306B\\u623B\\u308B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\",\n                children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1301,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1297,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-5xl mx-auto p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-300 rounded-lg p-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-600 uppercase tracking-wide\",\n                children: \"\\u5B66\\u8853\\u8AD6\\u6587\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1320,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-serif text-gray-900 mt-2 mb-4\",\n                children: viewingPaper.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1321,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl text-gray-600 mb-4\",\n                children: viewingPaper.titleEn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700 mb-2\",\n                children: [\"\\u8457\\u8005: \", viewingPaper.authors]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm italic text-gray-600\",\n                children: [\"SPring-8 Research Journal, Vol. \", viewingPaper.id, \", No. 1 (\", viewingPaper.year, \"), pp. 1-20\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1326,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 mb-8 pb-8 border-b border-gray-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  if (viewingPaper.uploadedFile) {\n                    const fileURL = URL.createObjectURL(viewingPaper.uploadedFile);\n                    window.open(fileURL, '_blank');\n                  } else {\n                    alert('この論文のPDFファイルは利用できません');\n                  }\n                },\n                className: \"px-6 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\",\n                children: \"PDF\\u3092\\u958B\\u304F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\",\n                children: \"\\u4FDD\\u5B58\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1346,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\",\n                children: \"\\u5F15\\u7528\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1349,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-6 mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"\\u7814\\u7A76\\u5206\\u91CE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1357,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: viewingPaper.field\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1358,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"\\u6E2C\\u5B9A\\u624B\\u6CD5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1361,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: viewingPaper.method\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1362,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1360,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"\\u30D3\\u30FC\\u30E0\\u30E9\\u30A4\\u30F3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1365,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: viewingPaper.beamline\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1366,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1364,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"\\u7523\\u696D\\u5FDC\\u7528\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1369,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: viewingPaper.application\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1370,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1368,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1355,\n              columnNumber: 15\n            }, this), viewingPaper.formData && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-300\",\n                children: \"MDRCG \\u8A73\\u7D30\\u60C5\\u5831\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1377,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u4E3B\\u306A\\u7D50\\u8AD6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1382,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.mainConclusion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1383,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1381,\n                columnNumber: 19\n              }, this), viewingPaper.formData.priorWork && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u5148\\u884C\\u7814\\u7A76\\u3068\\u306E\\u95A2\\u4FC2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1388,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed whitespace-pre-line\",\n                  children: viewingPaper.formData.priorWork\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1389,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1387,\n                columnNumber: 21\n              }, this), viewingPaper.formData.novelty && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u65B0\\u898F\\u6027\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1395,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.formData.novelty\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1396,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1394,\n                columnNumber: 21\n              }, this), viewingPaper.formData.unknownQuestions && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u672A\\u89E3\\u660E\\u306E\\u8AB2\\u984C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1402,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed whitespace-pre-line\",\n                  children: viewingPaper.formData.unknownQuestions\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1403,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1401,\n                columnNumber: 21\n              }, this), viewingPaper.failedApproach && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u5931\\u6557\\u3057\\u305F\\u30A2\\u30D7\\u30ED\\u30FC\\u30C1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1409,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.failedApproach\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1410,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1408,\n                columnNumber: 21\n              }, this), viewingPaper.crossDomain && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u7570\\u5206\\u91CE\\u7FFB\\u8A33\\u30EC\\u30A4\\u30E4\\u30FC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1416,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.crossDomain\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1417,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1415,\n                columnNumber: 21\n              }, this), viewingPaper.industrialApplication && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u7523\\u696D\\u5FDC\\u7528\\u53EF\\u80FD\\u6027\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1423,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.industrialApplication\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1424,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1422,\n                columnNumber: 21\n              }, this), viewingPaper.formData.abstractPrinciple && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u62BD\\u8C61\\u5316\\u3055\\u308C\\u305F\\u539F\\u7406\\uFF08\\u5C0F\\u5B665\\u5E74\\u751F\\u30EC\\u30D9\\u30EB\\uFF09\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1430,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.formData.abstractPrinciple\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1431,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1429,\n                columnNumber: 21\n              }, this), viewingPaper.formData.experimentalReason && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u5B9F\\u9A13\\u8A2D\\u8A08\\u306E\\u7406\\u7531\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1437,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.formData.experimentalReason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1438,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1436,\n                columnNumber: 21\n              }, this), viewingPaper.formData.scalingPossibility && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u30B9\\u30B1\\u30FC\\u30EA\\u30F3\\u30B0\\u53EF\\u80FD\\u6027\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1444,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.formData.scalingPossibility\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1445,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1443,\n                columnNumber: 21\n              }, this), viewingPaper.formData.combinationPotential && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u7D44\\u307F\\u5408\\u308F\\u305B\\u53EF\\u80FD\\u6027\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1451,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.formData.combinationPotential\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1452,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1450,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1376,\n              columnNumber: 17\n            }, this), viewingPaper.relatedPapers && viewingPaper.relatedPapers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-8 pt-8 border-t-2 border-gray-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Link2, {\n                  className: \"w-6 h-6 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1462,\n                  columnNumber: 21\n                }, this), \"\\u95A2\\u9023\\u8AD6\\u6587 (Related Papers)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1461,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: viewingPaper.relatedPapers.map(relation => {\n                  const relatedPaper = papers.find(p => p.id === relation.paperId);\n                  return relatedPaper ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-4 bg-blue-50 border-l-4 border-blue-500 rounded\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-start justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-semibold text-gray-900\",\n                          children: relatedPaper.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1472,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600 mt-1\",\n                          children: [relatedPaper.authors, \" (\", relatedPaper.year, \")\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1473,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1471,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-4 px-3 py-1 bg-blue-600 text-white text-xs font-semibold rounded-full\",\n                        children: relation.relationshipType\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1475,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1470,\n                      columnNumber: 27\n                    }, this)\n                  }, relation.paperId, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1469,\n                    columnNumber: 25\n                  }, this) : null;\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1465,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1460,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setViewingPaper(null),\n              className: \"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\",\n              children: \"\\u2190 \\u691C\\u7D22\\u7D50\\u679C\\u306B\\u623B\\u308B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1489,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1488,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1294,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1293,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 検索ビュー (Search View)\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-full mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border-b border-gray-200 px-8 py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: \"SPring-8 Research Database\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1509,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentView('upload'),\n              className: \"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\",\n              children: \"\\u8AD6\\u6587\\u767B\\u9332 (Upload)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1513,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\",\n              children: \"Log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1519,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1512,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1508,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-3xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              placeholder: \"\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9\\u3001\\u7523\\u696D\\u5FDC\\u7528\\u3001\\u7570\\u5206\\u91CE\\u5FDC\\u7528\\u306A\\u3069\\u3067\\u691C\\u7D22...\",\n              className: \"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded focus:border-gray-400 focus:outline-none text-base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1527,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"absolute right-3 top-3 text-gray-600 hover:text-gray-900\",\n              children: /*#__PURE__*/_jsxDEV(Search, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1535,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1534,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentView('advancedSearch'),\n            className: \"mt-2 text-sm text-blue-700 hover:text-blue-900 underline\",\n            children: \"\\u9AD8\\u5EA6\\u691C\\u7D22\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1538,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1525,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1507,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-64 border-r border-gray-200 bg-gray-50 p-6 min-h-screen\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold text-gray-900 mb-4\",\n            children: \"Refine Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1551,\n            columnNumber: 13\n          }, this), showAdvancedSearch && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-purple-600 to-blue-600 p-6 text-white\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                      className: \"text-2xl font-bold\",\n                      children: \"\\u9AD8\\u5EA6\\u691C\\u7D22 (Advanced Search)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1560,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm mt-1\",\n                      children: \"\\u968E\\u5C64\\u7684\\u306A\\u30CA\\u30EC\\u30C3\\u30B8\\u30C4\\u30EA\\u30FC\\u3067\\u63A2\\u7D22 (Explore through hierarchical knowledge tree)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1561,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1559,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setShowAdvancedSearch(false);\n                      setAdvancedSearchQuery('');\n                      setSelectedPath([]);\n                      setCurrentBranch(null);\n                    },\n                    className: \"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2\",\n                    children: /*#__PURE__*/_jsxDEV(X, {\n                      className: \"w-6 h-6\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1572,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1563,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1558,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1557,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6\",\n                children: [selectedPath.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4 flex items-center gap-2 text-sm text-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setSelectedPath([]);\n                      setCurrentBranch(null);\n                    },\n                    className: \"hover:text-blue-600\",\n                    children: \"\\u30DB\\u30FC\\u30E0 (Home)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1581,\n                    columnNumber: 23\n                  }, this), selectedPath.map((pathItem, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\u2192\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1592,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        setSelectedPath(selectedPath.slice(0, index + 1));\n                        // Navigate to this level\n                        let branch = searchKnowledgeTree;\n                        for (let i = 0; i <= index; i++) {\n                          branch = branch[selectedPath[i]];\n                        }\n                        setCurrentBranch(branch);\n                      },\n                      className: \"hover:text-blue-600 font-semibold\",\n                      children: pathItem\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1593,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1591,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1580,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative mb-6\",\n                  children: [/*#__PURE__*/_jsxDEV(Search, {\n                    className: \"absolute left-4 top-4 text-gray-400 w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1614,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: advancedSearchQuery,\n                    onChange: e => setAdvancedSearchQuery(e.target.value),\n                    placeholder: \"\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B... (Enter keywords...)\",\n                    className: \"w-full pl-12 pr-4 py-4 border-2 border-purple-300 rounded-lg focus:border-purple-500 focus:outline-none text-lg\",\n                    autoFocus: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1615,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1613,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"max-h-[400px] overflow-y-auto\",\n                  children: advancedSearchQuery === '' && selectedPath.length === 0 ?\n                  /*#__PURE__*/\n                  // Show top level categories\n                  _jsxDEV(\"div\", {\n                    className: \"space-y-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 mb-4\",\n                      children: \"\\u30AB\\u30C6\\u30B4\\u30EA\\u30FC\\u3092\\u9078\\u629E\\u3059\\u308B\\u304B\\u3001\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044 (Select a category or enter keywords)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1630,\n                      columnNumber: 25\n                    }, this), Object.keys(searchKnowledgeTree).map(key => /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: () => {\n                        setSelectedPath([key]);\n                        setCurrentBranch(searchKnowledgeTree[key]);\n                      },\n                      className: \"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                            className: \"font-bold text-gray-800\",\n                            children: searchKnowledgeTree[key].label\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1642,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500 mt-1\",\n                            children: searchKnowledgeTree[key].branches ? `${Object.keys(searchKnowledgeTree[key].branches).length} サブカテゴリー` : '論文を表示'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1643,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1641,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                          className: \"w-5 h-5 text-gray-400 transform -rotate-90\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1649,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1640,\n                        columnNumber: 29\n                      }, this)\n                    }, key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1632,\n                      columnNumber: 27\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1629,\n                    columnNumber: 23\n                  }, this) : advancedSearchQuery !== '' ?\n                  /*#__PURE__*/\n                  // Show search suggestions\n                  _jsxDEV(\"div\", {\n                    className: \"space-y-3\",\n                    children: ((_getAdvancedSearchSug = getAdvancedSearchSuggestions(advancedSearchQuery)) === null || _getAdvancedSearchSug === void 0 ? void 0 : _getAdvancedSearchSug.length) > 0 ? getAdvancedSearchSuggestions(advancedSearchQuery).map((match, index) => {\n                      var _match$data$papers;\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: () => {\n                          setSelectedPath(match.path);\n                          setCurrentBranch(match.data);\n                          setAdvancedSearchQuery('');\n                        },\n                        className: \"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-between\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                              className: \"font-bold text-gray-800\",\n                              children: match.data.label\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1670,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-xs text-gray-500 mt-1\",\n                              children: match.data.branches ? `${Object.keys(match.data.branches).length} サブカテゴリー` : `${((_match$data$papers = match.data.papers) === null || _match$data$papers === void 0 ? void 0 : _match$data$papers.length) || 0} 件の論文`\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1671,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1669,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                            className: \"w-5 h-5 text-gray-400 transform -rotate-90\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1677,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1668,\n                          columnNumber: 31\n                        }, this)\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1659,\n                        columnNumber: 29\n                      }, this);\n                    }) : /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-center text-gray-500 py-8\",\n                      children: \"\\u8A72\\u5F53\\u3059\\u308B\\u7D50\\u679C\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\\u3067\\u3057\\u305F (No results found)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1682,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1656,\n                    columnNumber: 23\n                  }, this) : currentBranch ?\n                  /*#__PURE__*/\n                  // Show current branch contents\n                  _jsxDEV(\"div\", {\n                    className: \"space-y-3\",\n                    children: [currentBranch.branches && Object.keys(currentBranch.branches).map(key => {\n                      var _currentBranch$branch;\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: () => {\n                          setSelectedPath([...selectedPath, key]);\n                          setCurrentBranch(currentBranch.branches[key]);\n                        },\n                        className: \"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-between\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                              className: \"font-bold text-gray-800\",\n                              children: currentBranch.branches[key].label\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1699,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-xs text-gray-500 mt-1\",\n                              children: currentBranch.branches[key].branches ? `${Object.keys(currentBranch.branches[key].branches).length} サブカテゴリー` : `${((_currentBranch$branch = currentBranch.branches[key].papers) === null || _currentBranch$branch === void 0 ? void 0 : _currentBranch$branch.length) || 0} 件の論文`\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1700,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1698,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                            className: \"w-5 h-5 text-gray-400 transform -rotate-90\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1706,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1697,\n                          columnNumber: 29\n                        }, this)\n                      }, key, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1689,\n                        columnNumber: 27\n                      }, this);\n                    }), currentBranch.papers && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-3 mt-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"font-bold text-gray-700 border-t pt-4\",\n                        children: \"\\u95A2\\u9023\\u8AD6\\u6587 (Related Papers)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1712,\n                        columnNumber: 29\n                      }, this), currentBranch.papers.map(paperId => {\n                        const paper = papers.find(p => p.id === paperId);\n                        return paper ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          onClick: () => {\n                            var _document$getElementB;\n                            setShowAdvancedSearch(false);\n                            // Scroll to paper in main view\n                            (_document$getElementB = document.getElementById(`paper-${paper.id}`)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.scrollIntoView({\n                              behavior: 'smooth'\n                            });\n                          },\n                          className: \"p-4 border-2 border-blue-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition-all\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                            className: \"font-bold text-gray-800\",\n                            children: paper.title\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1725,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm text-gray-600 mt-1\",\n                            children: paper.titleEn\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1726,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500 mt-2\",\n                            children: [paper.authors, \" (\", paper.year, \")\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1727,\n                            columnNumber: 35\n                          }, this)]\n                        }, paper.id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1716,\n                          columnNumber: 33\n                        }, this) : null;\n                      })]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1711,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1687,\n                    columnNumber: 23\n                  }, this) : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1626,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1577,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1556,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1555,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowFilters({\n                ...showFilters,\n                field: !showFilters.field\n              }),\n              className: \"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u7814\\u7A76\\u5206\\u91CE (Research Field)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1747,\n                columnNumber: 17\n              }, this), showFilters.field ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1748,\n                columnNumber: 38\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1748,\n                columnNumber: 74\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1743,\n              columnNumber: 15\n            }, this), showFilters.field && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: ['材料科学 (Materials Science)', '生命科学 (Life Sciences)', 'ナノサイエンス (Nanoscience)', '高分子科学 (Polymer Science)', '物性物理学 (Condensed Matter Physics)'].map(field => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedFilters.field.includes(field),\n                  onChange: () => toggleFilter('field', field),\n                  className: \"mt-0.5 w-4 h-4 accent-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1754,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: field.split(' (')[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1760,\n                  columnNumber: 23\n                }, this)]\n              }, field, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1753,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1751,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1742,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowFilters({\n                ...showFilters,\n                method: !showFilters.method\n              }),\n              className: \"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u6E2C\\u5B9A\\u624B\\u6CD5 (Method)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1773,\n                columnNumber: 17\n              }, this), showFilters.method ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1774,\n                columnNumber: 39\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1774,\n                columnNumber: 75\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1769,\n              columnNumber: 15\n            }, this), showFilters.method && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: ['X線回折 (X-ray Diffraction)', 'X線結晶構造解析 (X-ray Crystallography)', '時間分解分光 (Time-Resolved Spectroscopy)', '小角X線散乱 (SAXS)'].map(method => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedFilters.method.includes(method),\n                  onChange: () => toggleFilter('method', method),\n                  className: \"mt-0.5 w-4 h-4 accent-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1780,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: method.split(' (')[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1786,\n                  columnNumber: 23\n                }, this)]\n              }, method, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1779,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1777,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1768,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowFilters({\n                ...showFilters,\n                application: !showFilters.application\n              }),\n              className: \"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u7523\\u696D\\u5FDC\\u7528 (Application)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1799,\n                columnNumber: 17\n              }, this), showFilters.application ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1800,\n                columnNumber: 44\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1800,\n                columnNumber: 80\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1795,\n              columnNumber: 15\n            }, this), showFilters.application && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: ['自動車産業 (Automotive)', '製薬・医療 (Pharmaceutical)', 'エネルギー産業 (Energy)', '化学産業 (Chemical)'].map(app => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedFilters.application.includes(app),\n                  onChange: () => toggleFilter('application', app),\n                  className: \"mt-0.5 w-4 h-4 accent-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1806,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: app.split(' (')[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1812,\n                  columnNumber: 23\n                }, this)]\n              }, app, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1805,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1803,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1794,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowFilters({\n                ...showFilters,\n                year: !showFilters.year\n              }),\n              className: \"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u5E74\\u5EA6 (Year)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1825,\n                columnNumber: 17\n              }, this), showFilters.year ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1826,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1826,\n                columnNumber: 73\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1821,\n              columnNumber: 15\n            }, this), showFilters.year && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: [2024, 2023, 2022].map(year => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedFilters.year.includes(year),\n                  onChange: () => toggleFilter('year', year),\n                  className: \"mt-0.5 w-4 h-4 accent-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1832,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1838,\n                  columnNumber: 23\n                }, this)]\n              }, year, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1831,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1829,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1820,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1550,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 flex items-center justify-between\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: filteredPapers.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1850,\n                columnNumber: 17\n              }, this), \" \\u4EF6\\u306E\\u7D50\\u679C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1849,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1848,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: filteredPapers.map(paper => /*#__PURE__*/_jsxDEV(\"div\", {\n              id: `paper-${paper.id}`,\n              className: \"border-b border-gray-200 pb-6 mb-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    className: \"w-4 h-4 mt-1 accent-red-800\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1859,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1858,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-600 uppercase tracking-wide\",\n                      children: \"\\u5B66\\u8853\\u8AD6\\u6587\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1864,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1863,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    onClick: () => setViewingPaper(paper),\n                    className: \"text-xl font-serif text-gray-900 mb-2 hover:underline cursor-pointer\",\n                    children: paper.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1867,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-700 mb-2\",\n                    children: paper.authors\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1874,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm italic text-gray-600 mb-3\",\n                    children: [\"SPring-8 Research Journal, Vol. \", paper.id, \", No. 1 (\", paper.year, \"), pp. 1-20\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1876,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-800 leading-relaxed mb-3\",\n                    children: [\"...\", paper.mainConclusion.substring(0, 150), \"...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1880,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setViewingPaper(paper),\n                    className: \"text-sm text-blue-700 hover:underline font-medium\",\n                    children: \"\\u8A73\\u7D30\\u3092\\u8868\\u793A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1884,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1862,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0 flex flex-col gap-2 w-32\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      if (paper.uploadedFile) {\n                        const fileURL = URL.createObjectURL(paper.uploadedFile);\n                        window.open(fileURL, '_blank');\n                      } else {\n                        alert('この論文のPDFファイルは利用できません');\n                      }\n                    },\n                    className: \"px-4 py-2 bg-red-800 text-white text-sm rounded hover:bg-red-900 font-medium\",\n                    children: \"\\u30AA\\u30F3\\u30E9\\u30A4\\u30F3\\u95B2\\u89A7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1893,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 font-medium\",\n                    children: \"\\u4FDD\\u5B58\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1906,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 font-medium\",\n                    children: \"\\u5F15\\u7528\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1909,\n                    columnNumber: 21\n                  }, this), paper.uploadedFile && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      if (window.confirm('この論文を削除しますか？')) {\n                        setPapers(prevPapers => prevPapers.filter(p => p.id !== paper.id));\n                      }\n                    },\n                    className: \"px-4 py-2 border border-red-300 text-red-700 text-sm rounded hover:bg-red-50 font-medium\",\n                    children: \"\\u524A\\u9664\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1913,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1892,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1857,\n                columnNumber: 17\n              }, this)\n            }, paper.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1856,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1854,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1847,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1548,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1505,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1504,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"bQzg0O/6RdhR+1+Af/oCk+tQgqM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Upload","Search","FileText","Brain","Loader","ChevronDown","ChevronUp","Filter","X","Link2","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","_getAdvancedSearchSug","currentView","setCurrentView","uploadedFile","setUploadedFile","isProcessing","setIsProcessing","formData","setFormData","searchQuery","setSearchQuery","showFilters","setShowFilters","field","method","application","beamline","year","showAdvancedSearch","setShowAdvancedSearch","advancedSearchQuery","setAdvancedSearchQuery","selectedPath","setSelectedPath","currentBranch","setCurrentBranch","advancedSearchRows","setAdvancedSearchRows","id","boolean","term","selectedDisciplines","setSelectedDisciplines","dateFrom","setDateFrom","dateTo","setDateTo","selectedItemTypes","setSelectedItemTypes","selectedFilters","setSelectedFilters","viewingPaper","setViewingPaper","papers","setPapers","selectedRelatedPapers","setSelectedRelatedPapers","pdfText","setPdfText","relationshipTypes","samplePapersInitial","title","titleEn","authors","mainConclusion","industrialApplication","crossDomain","failedApproach","useEffect","length","disciplines","label","journals","searchKnowledgeTree","type","branches","getAdvancedSearchSuggestions","query","lowerQuery","toLowerCase","trim","matches","Object","keys","forEach","key","includes","push","data","path","mdrcgQuestions","placeholder","required","aiDraft","isDragging","setIsDragging","processFile","file","setTimeout","name","draftData","q","alert","handleFileUpload","e","target","files","handleDragOver","preventDefault","stopPropagation","handleDragLeave","handleDrop","dataTransfer","handleInputChange","value","prev","handleSubmit","newPaper","Date","now","replace","getFullYear","industrialPain","relatedPapers","prevPapers","toggleFilter","category","current","updated","filter","v","filteredPapers","paper","matchesSearch","matchesField","matchesMethod","matchesApplication","matchesBeamline","matchesYear","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onDragOver","onDragLeave","onDrop","accept","onChange","map","existingRelation","find","r","paperId","checked","relationshipType","question","row","index","newRows","t","entries","discipline","d","journal","fileURL","URL","createObjectURL","window","open","priorWork","novelty","unknownQuestions","abstractPrinciple","experimentalReason","scalingPossibility","combinationPotential","relation","relatedPaper","p","pathItem","slice","branch","i","autoFocus","match","_match$data$papers","_currentBranch$branch","_document$getElementB","document","getElementById","scrollIntoView","behavior","split","app","substring","confirm","_c","$RefreshReg$"],"sources":["/Users/roshan/Desktop/spring8/spring8-mdrcg-system/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Upload, Search, FileText, Brain, Loader, ChevronDown, ChevronUp, Filter, X, Link2 } from 'lucide-react';\n\nconst App = () => {\n  const [currentView, setCurrentView] = useState('upload'); // 'upload', 'form', 'search'\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [formData, setFormData] = useState({});\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showFilters, setShowFilters] = useState({\n    field: true,\n    method: true,\n    application: false,\n    beamline: false,\n    year: false\n  });\n  const [showAdvancedSearch, setShowAdvancedSearch] = useState(false);\n  const [advancedSearchQuery, setAdvancedSearchQuery] = useState('');\n  const [selectedPath, setSelectedPath] = useState([]);\n  const [currentBranch, setCurrentBranch] = useState(null);\n  const [advancedSearchRows, setAdvancedSearchRows] = useState([\n    { id: 1, boolean: 'AND', term: '', field: 'all' }\n  ]);\n  const [selectedDisciplines, setSelectedDisciplines] = useState([]);\n  const [dateFrom, setDateFrom] = useState('');\n  const [dateTo, setDateTo] = useState('');\n  const [selectedItemTypes, setSelectedItemTypes] = useState([]);\n  const [selectedFilters, setSelectedFilters] = useState({\n    field: [],\n    method: [],\n    application: [],\n    beamline: [],\n    year: []\n  });\nconst [viewingPaper, setViewingPaper] = useState(null);\n  const [papers, setPapers] = useState([]);\n  const [selectedRelatedPapers, setSelectedRelatedPapers] = useState([]);\n  const [pdfText, setPdfText] = useState('');\n\n  const relationshipTypes = [\n    'Cited',\n    'Builds upon',\n    'Contradicts',\n    'Extends',\n    'Similar method',\n    'Different approach',\n    'Complements'\n  ];\n\n  // サンプル研究データ (Sample Research Data)\n  const samplePapersInitial = [\n    {\n      id: 1,\n      title: '高エネルギーX線回折による新規触媒材料の構造解析',\n      titleEn: 'Structural Analysis of Novel Catalyst Materials using High-Energy X-ray Diffraction',\n      authors: 'Hatsui, T., Takeshita, K.',\n      year: 2024,\n      field: '材料科学 (Materials Science)',\n      method: 'X線回折 (X-ray Diffraction)',\n      beamline: 'BL19B2',\n      application: '自動車産業 (Automotive)',\n      mainConclusion: '新規Pt-Co合金触媒の原子配列構造を解明し、触媒活性が30%向上することを実証',\n      industrialApplication: '自動車用燃料電池の効率向上、環境触媒技術',\n      crossDomain: '化学工学、エネルギー工学への応用可能',\n      failedApproach: '従来のTEM観察では動的変化を捉えられなかった'\n    },\n    {\n      id: 2,\n      title: 'タンパク質結晶構造解析による創薬ターゲット同定',\n      titleEn: 'Drug Target Identification through Protein Crystal Structure Analysis',\n      authors: 'Yamamoto, M., Tanaka, Y.',\n      year: 2024,\n      field: '生命科学 (Life Sciences)',\n      method: 'X線結晶構造解析 (X-ray Crystallography)',\n      beamline: 'BL41XU',\n      application: '製薬・医療 (Pharmaceutical)',\n      mainConclusion: '新規抗がん剤標的タンパク質の活性部位構造を原子レベルで解明',\n      industrialApplication: '製薬業界における新薬開発、個別化医療',\n      crossDomain: '構造生物学、計算化学への展開',\n      failedApproach: '低温凍結条件では生理的構造が維持できなかった'\n    },\n    {\n      id: 3,\n      title: 'ナノ材料の時間分解分光による電子状態ダイナミクス研究',\n      titleEn: 'Electronic State Dynamics of Nanomaterials via Time-Resolved Spectroscopy',\n      authors: 'Sato, K., Nakamura, H.',\n      year: 2023,\n      field: 'ナノサイエンス (Nanoscience)',\n      method: '時間分解分光 (Time-Resolved Spectroscopy)',\n      beamline: 'BL43IR',\n      application: 'エネルギー産業 (Energy)',\n      mainConclusion: '量子ドットの励起状態寿命が表面修飾により10倍延長可能',\n      industrialApplication: '高効率太陽電池、量子コンピュータ素子開発',\n      crossDomain: '半導体工学、光エレクトロニクス',\n      failedApproach: '室温測定では熱揺らぎの影響が大きすぎた'\n    },\n    {\n      id: 4,\n      title: '高分子材料の放射光X線小角散乱による階層構造解析',\n      titleEn: 'Hierarchical Structure Analysis of Polymer Materials by Synchrotron SAXS',\n      authors: 'Kobayashi, R., Ishida, M.',\n      year: 2023,\n      field: '高分子科学 (Polymer Science)',\n      method: '小角X線散乱 (SAXS)',\n      beamline: 'BL40B2',\n      application: '化学産業 (Chemical)',\n      mainConclusion: '新規生分解性プラスチックのナノ構造制御により強度が2倍向上',\n      industrialApplication: '環境対応型プラスチック製品、包装材料の高性能化',\n      crossDomain: '材料工学、環境科学への応用',\n      failedApproach: '従来のDSC測定では階層構造の詳細が不明瞭だった'\n    },\n    {\n      id: 5,\n      title: '磁性材料のX線磁気円二色性による電子状態観察',\n      titleEn: 'Electronic State Observation of Magnetic Materials by XMCD',\n      authors: 'Fujimoto, S., Watanabe, K.',\n      year: 2024,\n      field: '物性物理学 (Condensed Matter Physics)',\n      method: 'X線磁気円二色性 (XMCD)',\n      beamline: 'BL25SU',\n      application: 'エレクトロニクス (Electronics)',\n      mainConclusion: 'スピントロニクス材料の磁気異方性起源を原子レベルで解明',\n      industrialApplication: '次世代ハードディスク、磁気メモリの高密度化',\n      crossDomain: '情報工学、量子技術への展開',\n      failedApproach: 'SQUID測定では局所的な磁気構造が観測できなかった'\n    },\n    {\n      id: 6,\n      title: '半導体デバイスの高速X線イメージングによる動作解析',\n      titleEn: 'Operational Analysis of Semiconductor Devices by High-Speed X-ray Imaging',\n      authors: 'Suzuki, H., Ito, T.',\n      year: 2022,\n      field: '半導体工学 (Semiconductor Engineering)',\n      method: '高速X線イメージング (High-Speed X-ray Imaging)',\n      beamline: 'BL20XU',\n      application: 'エレクトロニクス (Electronics)',\n      mainConclusion: '次世代パワー半導体の熱応力分布をリアルタイムで可視化',\n      industrialApplication: '電気自動車用パワーデバイスの信頼性向上',\n      crossDomain: '電気工学、熱工学への応用',\n      failedApproach: '可視光観察では内部構造の変化が観測不可能だった'\n    },\n    {\n      id: 7,\n      title: '文化財の非破壊X線分析による製作技法の解明',\n      titleEn: 'Non-Destructive X-ray Analysis for Understanding Cultural Heritage Production Techniques',\n      authors: 'Nakamura, Y., Kimura, A.',\n      year: 2023,\n      field: '文化財科学 (Cultural Heritage Science)',\n      method: 'X線蛍光分析 (XRF)',\n      beamline: 'BL08W',\n      application: '文化・芸術 (Culture & Arts)',\n      mainConclusion: '江戸時代の陶磁器の釉薬組成と焼成温度を非破壊で特定',\n      industrialApplication: '文化財保存技術、伝統工芸の復元',\n      crossDomain: '考古学、歴史学への応用',\n      failedApproach: '従来の顕微鏡観察では内部構造が分からなかった'\n    },\n    {\n      id: 8,\n      title: '地球深部物質の高圧X線回折実験',\n      titleEn: 'High-Pressure X-ray Diffraction Experiments on Deep Earth Materials',\n      authors: 'Takahashi, N., Mori, D.',\n      year: 2024,\n      field: '地球科学 (Earth Science)',\n      method: '高圧X線回折 (High-Pressure XRD)',\n      beamline: 'BL10XU',\n      application: '資源探査 (Resource Exploration)',\n      mainConclusion: 'マントル遷移層の鉱物相転移圧力を精密決定し、地震波速度異常を説明',\n      industrialApplication: '鉱物資源探査、地震予測技術への貢献',\n      crossDomain: '地震学、鉱物学への展開',\n      failedApproach: '常圧実験では高圧相の構造が再現できなかった'\n    },\n    {\n      id: 9,\n      title: '食品成分の放射光赤外分光による分子構造解析',\n      titleEn: 'Molecular Structure Analysis of Food Components by Synchrotron Infrared Spectroscopy',\n      authors: 'Tanaka, M., Saito, E.',\n      year: 2023,\n      field: '食品科学 (Food Science)',\n      method: '赤外分光 (Infrared Spectroscopy)',\n      beamline: 'BL43IR',\n      application: '食品産業 (Food Industry)',\n      mainConclusion: '発酵食品中のタンパク質構造変化と風味の相関を解明',\n      industrialApplication: '機能性食品開発、発酵プロセス最適化',\n      crossDomain: '栄養学、微生物学への応用',\n      failedApproach: '通常の赤外分光では微量成分の検出が困難だった'\n    }\n  ];\n\n  // Initialize papers on first render\n  React.useEffect(() => {\n    if (papers.length === 0) {\n      setPapers(samplePapersInitial);\n    }\n  }, []);\n\n  // 学術分野データ (Academic Disciplines Data)\n  const disciplines = {\n    'Materials Science': {\n      label: '材料科学 (Materials Science)',\n      journals: [\n        'Advanced Materials Research',\n        'Journal of Materials Chemistry',\n        'Materials Science and Engineering',\n        'Acta Materialia',\n        'Scripta Materialia'\n      ]\n    },\n    'Life Sciences': {\n      label: '生命科学 (Life Sciences)',\n      journals: [\n        'Cell',\n        'Nature Structural & Molecular Biology',\n        'Journal of Biological Chemistry',\n        'Protein Science',\n        'FEBS Letters'\n      ]\n    },\n    'Nanoscience': {\n      label: 'ナノサイエンス (Nanoscience)',\n      journals: [\n        'Nature Nanotechnology',\n        'Nano Letters',\n        'ACS Nano',\n        'Small',\n        'Nanoscale'\n      ]\n    },\n    'Polymer Science': {\n      label: '高分子科学 (Polymer Science)',\n      journals: [\n        'Macromolecules',\n        'Polymer',\n        'Journal of Polymer Science',\n        'Polymer Chemistry',\n        'European Polymer Journal'\n      ]\n    },\n    'Condensed Matter Physics': {\n      label: '物性物理学 (Condensed Matter Physics)',\n      journals: [\n        'Physical Review B',\n        'Journal of Physics: Condensed Matter',\n        'Applied Physics Letters',\n        'Physical Review Letters',\n        'Nature Physics'\n      ]\n    },\n    'Semiconductor Engineering': {\n      label: '半導体工学 (Semiconductor Engineering)',\n      journals: [\n        'IEEE Transactions on Electron Devices',\n        'Journal of Applied Physics',\n        'Semiconductor Science and Technology',\n        'Applied Physics Express',\n        'Solid-State Electronics'\n      ]\n    },\n    'Cultural Heritage Science': {\n      label: '文化財科学 (Cultural Heritage Science)',\n      journals: [\n        'Journal of Cultural Heritage',\n        'Studies in Conservation',\n        'Archaeometry',\n        'Heritage Science',\n        'Journal of Archaeological Science'\n      ]\n    },\n    'Earth Science': {\n      label: '地球科学 (Earth Science)',\n      journals: [\n        'Earth and Planetary Science Letters',\n        'Geology',\n        'Geophysical Research Letters',\n        'Journal of Geophysical Research',\n        'Nature Geoscience'\n      ]\n    },\n    'Food Science': {\n      label: '食品科学 (Food Science)',\n      journals: [\n        'Food Chemistry',\n        'Journal of Agricultural and Food Chemistry',\n        'Food Research International',\n        'Trends in Food Science & Technology',\n        'Food Hydrocolloids'\n      ]\n    },\n    'Chemistry': {\n      label: '化学 (Chemistry)',\n      journals: [\n        'Journal of the American Chemical Society',\n        'Angewandte Chemie',\n        'Chemical Reviews',\n        'Analytical Chemistry',\n        'Inorganic Chemistry'\n      ]\n    }\n  };\n\n  // 高度検索ナレッジツリー (Advanced Search Knowledge Tree)\n  const searchKnowledgeTree = {\n    'x線': {\n      type: 'category',\n      label: 'X線技術 (X-ray Technology)',\n      branches: {\n        'x線回折': {\n          type: 'category',\n          label: 'X線回折 (X-ray Diffraction)',\n          branches: {\n            '高エネルギー': {\n              type: 'subcategory',\n              label: '高エネルギーX線回折 (High-Energy XRD)',\n              papers: [1]\n            },\n            '高圧': {\n              type: 'subcategory',\n              label: '高圧X線回折 (High-Pressure XRD)',\n              papers: [8]\n            },\n            '一般': {\n              type: 'subcategory',\n              label: '一般X線回折 (General XRD)',\n              papers: [1]\n            }\n          }\n        },\n        'x線結晶構造解析': {\n          type: 'subcategory',\n          label: 'X線結晶構造解析 (X-ray Crystallography)',\n          papers: [2]\n        },\n        'x線散乱': {\n          type: 'category',\n          label: 'X線散乱 (X-ray Scattering)',\n          branches: {\n            '小角散乱': {\n              type: 'subcategory',\n              label: '小角X線散乱 (SAXS)',\n              papers: [4]\n            }\n          }\n        },\n        'x線分光': {\n          type: 'category',\n          label: 'X線分光 (X-ray Spectroscopy)',\n          branches: {\n            '磁気円二色性': {\n              type: 'subcategory',\n              label: 'X線磁気円二色性 (XMCD)',\n              papers: [5]\n            },\n            '蛍光分析': {\n              type: 'subcategory',\n              label: 'X線蛍光分析 (XRF)',\n              papers: [7]\n            }\n          }\n        },\n        'x線イメージング': {\n          type: 'subcategory',\n          label: 'X線イメージング (X-ray Imaging)',\n          papers: [6]\n        }\n      }\n    },\n    '分光': {\n      type: 'category',\n      label: '分光技術 (Spectroscopy)',\n      branches: {\n        '時間分解': {\n          type: 'subcategory',\n          label: '時間分解分光 (Time-Resolved Spectroscopy)',\n          papers: [3]\n        },\n        '赤外分光': {\n          type: 'subcategory',\n          label: '赤外分光 (Infrared Spectroscopy)',\n          papers: [9]\n        }\n      }\n    },\n    '触媒': {\n      type: 'category',\n      label: '触媒研究 (Catalyst Research)',\n      branches: {\n        '合金触媒': {\n          type: 'subcategory',\n          label: '合金触媒 (Alloy Catalysts)',\n          papers: [1]\n        },\n        '構造解析': {\n          type: 'subcategory',\n          label: '触媒構造解析 (Catalyst Structure Analysis)',\n          papers: [1]\n        }\n      }\n    },\n    'タンパク質': {\n      type: 'category',\n      label: 'タンパク質研究 (Protein Research)',\n      branches: {\n        '結晶構造': {\n          type: 'subcategory',\n          label: 'タンパク質結晶構造 (Protein Crystal Structure)',\n          papers: [2]\n        },\n        '創薬': {\n          type: 'subcategory',\n          label: '創薬ターゲット (Drug Targets)',\n          papers: [2]\n        }\n      }\n    },\n    'ナノ材料': {\n      type: 'category',\n      label: 'ナノ材料 (Nanomaterials)',\n      branches: {\n        '量子ドット': {\n          type: 'subcategory',\n          label: '量子ドット (Quantum Dots)',\n          papers: [3]\n        },\n        '電子状態': {\n          type: 'subcategory',\n          label: '電子状態解析 (Electronic State Analysis)',\n          papers: [3, 5]\n        }\n      }\n    },\n    '高分子': {\n      type: 'category',\n      label: '高分子材料 (Polymer Materials)',\n      branches: {\n        '生分解性': {\n          type: 'subcategory',\n          label: '生分解性プラスチック (Biodegradable Plastics)',\n          papers: [4]\n        },\n        '階層構造': {\n          type: 'subcategory',\n          label: '階層構造解析 (Hierarchical Structure)',\n          papers: [4]\n        }\n      }\n    },\n    '磁性材料': {\n      type: 'category',\n      label: '磁性材料 (Magnetic Materials)',\n      branches: {\n        'スピントロニクス': {\n          type: 'subcategory',\n          label: 'スピントロニクス (Spintronics)',\n          papers: [5]\n        }\n      }\n    },\n    '半導体': {\n      type: 'category',\n      label: '半導体 (Semiconductors)',\n      branches: {\n        'パワーデバイス': {\n          type: 'subcategory',\n          label: 'パワー半導体 (Power Semiconductors)',\n          papers: [6]\n        },\n        '熱応力解析': {\n          type: 'subcategory',\n          label: '熱応力解析 (Thermal Stress Analysis)',\n          papers: [6]\n        }\n      }\n    },\n    '文化財': {\n      type: 'category',\n      label: '文化財 (Cultural Heritage)',\n      branches: {\n        '非破壊分析': {\n          type: 'subcategory',\n          label: '非破壊分析 (Non-Destructive Analysis)',\n          papers: [7]\n        },\n        '陶磁器': {\n          type: 'subcategory',\n          label: '陶磁器分析 (Ceramic Analysis)',\n          papers: [7]\n        }\n      }\n    },\n    '地球科学': {\n      type: 'category',\n      label: '地球科学 (Earth Science)',\n      branches: {\n        '高圧実験': {\n          type: 'subcategory',\n          label: '高圧実験 (High-Pressure Experiments)',\n          papers: [8]\n        },\n        'マントル': {\n          type: 'subcategory',\n          label: 'マントル研究 (Mantle Research)',\n          papers: [8]\n        }\n      }\n    },\n    '食品': {\n      type: 'category',\n      label: '食品科学 (Food Science)',\n      branches: {\n        '発酵食品': {\n          type: 'subcategory',\n          label: '発酵食品 (Fermented Foods)',\n          papers: [9]\n        },\n        'タンパク質構造': {\n          type: 'subcategory',\n          label: '食品タンパク質 (Food Proteins)',\n          papers: [9]\n        }\n      }\n    },\n    '産業応用': {\n      type: 'category',\n      label: '産業応用 (Industrial Applications)',\n      branches: {\n        '自動車': {\n          type: 'subcategory',\n          label: '自動車産業 (Automotive)',\n          papers: [1, 6]\n        },\n        '製薬': {\n          type: 'subcategory',\n          label: '製薬・医療 (Pharmaceutical)',\n          papers: [2]\n        },\n        'エネルギー': {\n          type: 'subcategory',\n          label: 'エネルギー (Energy)',\n          papers: [3]\n        },\n        '化学': {\n          type: 'subcategory',\n          label: '化学産業 (Chemical)',\n          papers: [4]\n        },\n        'エレクトロニクス': {\n          type: 'subcategory',\n          label: 'エレクトロニクス (Electronics)',\n          papers: [5, 6]\n        }\n      }\n    }\n  };\n\n  // 高度検索でマッチする項目を取得 (Get matching items for advanced search)\n  const getAdvancedSearchSuggestions = (query) => {\n    if (!query) return null;\n    \n    const lowerQuery = query.toLowerCase().trim();\n    const matches = [];\n\n    Object.keys(searchKnowledgeTree).forEach(key => {\n      if (key.includes(lowerQuery) || searchKnowledgeTree[key].label.toLowerCase().includes(lowerQuery)) {\n        matches.push({\n          key: key,\n          data: searchKnowledgeTree[key],\n          path: [key]\n        });\n      }\n    });\n\n    return matches;\n  };\n\n  // MDRCG質問項目 (MDRCG Question Items)\n  const mdrcgQuestions = [\n    {\n      id: 'mainConclusion',\n      label: '主な結論 (Main Conclusion)',\n      placeholder: 'この研究で明らかになった最も重要な発見を1-2文で記述してください',\n      type: 'textarea',\n      required: true,\n      aiDraft: 'SPring-8-II第四世代光源用に340台のボタン型BPMシステムを開発し、0.1 nC入射バンチで100 μm標準偏差以下のシングルパス分解能、COD分解能1 μm標準偏差以下、数週間で5 μm以内の長期安定性、電気中心変位150 μm標準偏差以下を達成し、コミッショニングと運用要件を完全に満たすことを実証しました。'\n    },\n    {\n      id: 'priorWork',\n      label: '先行研究との関係 (Relationship to Prior Work)',\n      placeholder: 'この研究が基づいている3-5つの重要な先行研究を挙げてください',\n      type: 'textarea',\n      required: true,\n      aiDraft: '1) SPring-8の既存BPMシステムと放射線損傷ケーブルの湿度感度問題に関する研究\\n2) NanoTerasu 3 GeV光源用BPM実装（2020-2024年）でほぼ同一のシステム設計を採用\\n3) SPring-8の高速ヘリシティ切替ビームラインの適応フィードフォワード補正用MicroTCA.4ベース電子回路開発\\n4) 菱形形状への変更前の元の圧縮八角形ビームパイプ設計\\n5) 加速器コンポーネント用CST Studio RF シミュレーションとANSYS熱解析技術'\n    },\n    {\n      id: 'novelty',\n      label: '新規性 (Novelty)',\n      placeholder: 'この研究の独自の貢献は何ですか？',\n      type: 'textarea',\n      required: true,\n      aiDraft: '第四世代光源応用において、耐放射線性PEEKインシュレーター同軸ケーブルとMicroTCA.4プラットフォームの包括的統合を初めて実現。異なる放射線ゾーンに最適化された新規3ケーブルシステム（A/B/Cケーブル）の開発。電極設計においてスプリング材料を排除した逆極性SMAコネクタの先駆的使用。八角形から菱形ビームパイプ断面へのBPMヘッド設計の適応を性能仕様を維持しながら実現。極限放射線環境下でのリアルタイムゲインドリフト監視用パイロットトーン生成器の実装。'\n    },\n    {\n      id: 'unknownQuestions',\n      label: '未解明の課題 (Remaining Unknown Questions)',\n      placeholder: 'この研究では答えられなかった2-3の具体的な疑問',\n      type: 'textarea',\n      required: false,\n      aiDraft: '1) 数年間の運転を超える長期的な電磁加熱が電極材料に与える影響\\n2) 様々なバンチフィルパターンに対する最適な冷却水流量と冷却チャンネル配置\\n3) 測定された放射線被曝レベルを超えるPEEKケーブル劣化曲線の挙動\\n4) 未試験の極端なバンチパターン（406バンチ以上）での性能\\n5) サブミクロン位置安定性要件に対する機械的振動の影響'\n    },\n    {\n      id: 'failedApproach',\n      label: '失敗したアプローチ (Failed Approaches)',\n      placeholder: 'うまくいかなかった手法とその理由',\n      type: 'textarea',\n      required: false,\n      aiDraft: '当初の八角形ビームパイプ設計では、高い抵抗壁インピーダンスのためステンレス鋼内面への銅メッキが必要で、製造の複雑さとコストが増加しました。標準フレキシブルケーブルは高放射線ゾーンで湿度感度により故障し、環境条件との相関が測定に現れました。水冷なしの室温動作では10°C以上の温度上昇と10 μm以上の熱変位が発生し、安定性要件を超過しました。スプリング材料を含む従来のSMAコネクタは、放射線被曝下での電極接続において信頼性の問題を経験しました。'\n    },\n    {\n      id: 'crossDomain',\n      label: '異分野翻訳レイヤー (Cross-Domain Translation)',\n      placeholder: '他分野での類似問題や応用可能性',\n      type: 'textarea',\n      required: true,\n      aiDraft: '素粒子物理学：サブミクロン軌道安定性を要する将来円形衝突型加速器（FCC、CEPC）の精密ビーム診断への応用\\n医学物理学：がん治療用小型放射光源の信頼性の高いビーム位置モニタリング\\n自由電子レーザー：コヒーレントX線生成のための超安定電子ビーム軌道制御\\n産業用イオン注入装置：半導体製造用高精度ビームステアリング\\n宇宙技術：衛星計測用耐放射線電子回路設計原理\\n量子コンピューティング：量子ビット読み出しシステムに適用可能な極低温センサー開発技術'\n    },\n    {\n      id: 'industrialPain',\n      label: '産業応用可能性 (Industrial Application Potential)',\n      placeholder: 'この研究が解決できる具体的な産業課題',\n      type: 'textarea',\n      required: true,\n      aiDraft: '世界中の放射光施設：100倍の輝度向上を必要とする既存第三世代光源のアップグレードプロジェクトへの直接適用（ESRF-EBS、APS-U、PETRA IV）\\n半導体産業：次世代チップ製造のための先進リソグラフィーと材料キャラクタリゼーションを可能にする超精密ビーム位置制御\\n製薬研究開発：創薬におけるタイムリゾルブドタンパク質結晶構造解析に必要な安定X線ビーム\\n材料科学：材料加工中の原子レベル現象のその場観察にはサブミクロンビーム安定性が必要\\n自動車産業：放射光ベースのオペランド分光法による触媒コンバーター最適化\\n航空宇宙：高輝度X線源を使用した重要部品の非破壊検査'\n    },\n    {\n      id: 'abstractPrinciple',\n      label: '抽象化された原理 (Abstracted Principle - 5th Grade Level)',\n      placeholder: '小学5年生でも理解できるように説明してください',\n      type: 'textarea',\n      required: true,\n      aiDraft: '巨大な円形トラック（レースカーのトラックみたいだけど、電子用だよ！）の周りを超高速で回る小さな粒を撮影する超高速カメラがあると想像してね。この電子はとても小さくて目では見えないんだ。BPM（ビーム位置モニター）は、トラック全体にセンサーがあって、電子がどこにいるかを正確に教えてくれるんだ。小さな粒子用のGPSみたいなもの！なぜそんなに正確に知る必要があるかというと（髪の毛よりも細く！）、この走っている電子が特別なX線の光を作り出して、科学者たちがそれを使って物質の内側を見るんだ。お医者さんがX線であなたの骨を見るのと同じようにね。電子がほんの少しでも揺れると、X線の写真がぼやけちゃうんだ。私たちの新しいシステムはとても正確で、鉛筆が髪の毛の幅より小さく動いたかどうかを測るようなものなんだよ！'\n    },\n    {\n      id: 'experimentalReason',\n      label: '実験設計の理由 (Experimental Design Rationale)',\n      placeholder: 'なぜこのパラメータ・手法を選んだのか',\n      type: 'textarea',\n      required: false,\n      aiDraft: 'RF周波数508.76 MHzの選択理由：SPring-8-IIの加速RF周波数に同期し、バンチ信号を正確に抽出可能\\nサンプリングレート363.40 MHz（RF周波数の5/7）の選択：アンダーサンプリング方式により145.36 MHzの中間周波数を得て、FPGAでの高速処理を実現\\n7次多項式変換の採用理由：ビーム位置の非線形性を高精度で補正し、広範囲での位置測定精度を確保\\nPEEK絶縁同軸ケーブルの選択：高放射線環境下での長期耐久性と湿度非感受性を両立\\n水冷19インチキャビネットの採用：±0.1°Cの温度安定性により長期ドリフトを5 μm以内に抑制\\nモリブデン電極材料の選択：ステンレス鋼より優れた電気伝導性により電磁加熱を分散し、温度上昇を緩和'\n    },\n    {\n      id: 'scalingPossibility',\n      label: 'スケーリング可能性 (Scaling Possibilities)',\n      placeholder: 'この技術は異なるスケールで機能しますか？',\n      type: 'textarea',\n      required: false,\n      aiDraft: 'エネルギースケール：3 GeV（NanoTerasu）から6 GeV（SPring-8-II）、さらに高エネルギー衝突型加速器まで適用可能。電極直径とビームパイプ寸法をスケーリングすることで異なるビームエネルギーに対応。\\n施設規模：周長約500 mのコンパクト光源から数kmの大型施設まで、BPM数を10台から数千台まで拡張可能。MicroTCA.4プラットフォームの拡張性により大規模展開に対応。\\nビーム電流：0.1 nC（シングルパス）から数百mA（蓄積電流）まで、ステップアッテネーターとアンプの調整により広範囲をカバー。\\n時間分解能：ターンバイターン（208.85 kHz）から10 Hzスローデータまで、異なるタイムスケールでの軌道監視を並列実行可能。'\n    },\n    {\n      id: 'combinationPotential',\n      label: '組み合わせ可能性 (Combination Potential)',\n      placeholder: '他の技術と組み合わせる可能性',\n      type: 'textarea',\n      required: false,\n      aiDraft: '機械学習との組合せ：ターンバイターンBPMデータ（208.85 kHz）をリアルタイム解析し、ビーム不安定性の予測と自動補正が可能。AIによる軌道補正アルゴリズム開発により、コミッショニング時間を大幅短縮。\\nフィードバックシステムとの統合：高速10 kHzデータを用いた適応型フィードフォワード制御により、アンジュレータの高速ヘリシティ切替による軌道擾乱を5 μm以内に抑制。\\nビームベースアライメント：BPMと四極磁石の磁気中心変位測定により、150 μm標準偏差以内での精密アライメントを実現。\\nデジタルツイン技術：BPMリアルタイムデータと加速器シミュレーションを統合し、仮想加速器モデルで運転最適化と故障予測を実現。\\n量子センサー技術：極低温BPM電子回路の開発知見を量子ビット読み出し回路に応用可能。\\nIoT監視システム：パイロットトーン生成器による自己診断機能を拡張し、予防保全と遠隔監視を実現。'\n    }\n  ];\n\n  const [isDragging, setIsDragging] = useState(false);\n\n  const processFile = (file) => {\n    if (file && file.type === 'application/pdf') {\n      setUploadedFile(file);\n      setIsProcessing(true);\n      \n      setTimeout(() => {\n        // Check if filename contains \"TUP16\"\n        if (file.name.includes('TUP16')) {\n          const draftData = {};\n          mdrcgQuestions.forEach(q => {\n            if (q.aiDraft) {\n              draftData[q.id] = q.aiDraft;\n            }\n          });\n          setFormData(draftData);\n        } else {\n          setFormData({});  // Empty form for other files\n        }\n        setIsProcessing(false);\n        setCurrentView('form');\n      }, 3000);\n    } else {\n      alert('PDFファイルのみアップロード可能です');\n    }\n  };\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    processFile(file);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    \n    const file = e.dataTransfer.files[0];\n    processFile(file);\n  };\n\n  const handleInputChange = (id, value) => {\n    setFormData(prev => ({ ...prev, [id]: value }));\n  };\n\n  const handleSubmit = () => {\n    // Create new paper from form data\n    const newPaper = {\n      id: Date.now(),\n      title: uploadedFile ? uploadedFile.name.replace('.pdf', '') : '新規論文',\n      titleEn: 'New Research Paper',\n      authors: 'Kitagawa, H.',\n      year: new Date().getFullYear(),\n      field: '材料科学 (Materials Science)',\n      method: 'X線回折 (X-ray Diffraction)',\n      beamline: 'BL19B2',\n      application: '自動車産業 (Automotive)',\n      mainConclusion: formData.mainConclusion || '新しく登録された研究論文です',\n      industrialApplication: formData.industrialPain || '産業応用の詳細',\n      crossDomain: formData.crossDomain || '異分野応用の可能性',\n      failedApproach: formData.failedApproach || '',\n      uploadedFile: uploadedFile,\n      formData: formData,\n      relatedPapers: selectedRelatedPapers,\n      pdfText: pdfText\n    };\n    \n    // Add to papers state\n    setPapers(prevPapers => [newPaper, ...prevPapers]);\n    \n    // Reset form and go to search\n    setFormData({});\n    setUploadedFile(null);\n    setSelectedRelatedPapers([]);\n    setPdfText('');\n    setCurrentView('search');\n  };\n\n  const toggleFilter = (category, value) => {\n    setSelectedFilters(prev => {\n      const current = prev[category];\n      const updated = current.includes(value)\n        ? current.filter(v => v !== value)\n        : [...current, value];\n      return { ...prev, [category]: updated };\n    });\n  };\n\n  const filteredPapers = papers.filter(paper => {\n    const matchesSearch = searchQuery === '' || \n      paper.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.titleEn.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.authors.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.mainConclusion.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.industrialApplication.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.crossDomain.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.field.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.method.toLowerCase().includes(searchQuery.toLowerCase());\n    \n    const matchesField = selectedFilters.field.length === 0 || selectedFilters.field.includes(paper.field);\n    const matchesMethod = selectedFilters.method.length === 0 || selectedFilters.method.includes(paper.method);\n    const matchesApplication = selectedFilters.application.length === 0 || selectedFilters.application.includes(paper.application);\n    const matchesBeamline = selectedFilters.beamline.length === 0 || selectedFilters.beamline.includes(paper.beamline);\n    const matchesYear = selectedFilters.year.length === 0 || selectedFilters.year.includes(paper.year);\n    \n    return matchesSearch && matchesField && matchesMethod && matchesApplication && matchesBeamline && matchesYear;\n  });\n\n  // アップロードビュー (Upload View)\n  if (currentView === 'upload') {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <div className=\"max-w-full mx-auto\">\n          {/* Header */}\n          <div className=\"bg-white border-b border-gray-200 px-8 py-4\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                SPring-8 研究データベース\n              </h1>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setCurrentView('search')}\n                  className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\"\n                >\n                  検索\n                </button>\n                <button className=\"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\">\n                  ログイン\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"max-w-4xl mx-auto p-8\">\n            <div className=\"mb-8\">\n              <h2 className=\"text-4xl font-serif text-gray-900 mb-2\">研究論文アップロード</h2>\n              <p className=\"text-gray-600\">多次元研究コンテキストグラフシステム</p>\n            </div>\n\n            <div className=\"bg-white border-2 border-gray-300 rounded-lg p-12\">\n              <div \n                onDragOver={handleDragOver}\n                onDragLeave={handleDragLeave}\n                onDrop={handleDrop}\n                className={`border-4 border-dashed rounded-lg p-16 text-center transition-all ${\n                  isDragging \n                    ? 'border-blue-500 bg-blue-50' \n                    : 'border-gray-300 bg-gray-50 hover:bg-gray-100'\n                }`}\n              >\n                <Upload className={`w-20 h-20 mx-auto mb-6 transition-colors ${\n                  isDragging ? 'text-blue-500' : 'text-gray-400'\n                }`} />\n                <h3 className=\"text-2xl font-semibold text-gray-800 mb-3\">\n                  {isDragging ? 'ここにドロップしてください' : '研究論文をアップロード'}\n                </h3>\n                <p className=\"text-gray-600 mb-8 max-w-2xl mx-auto\">\n                  {isDragging ? (\n                    <span className=\"text-blue-600 font-semibold\">ファイルをドロップ</span>\n                  ) : (\n                    <>\n                      PDFファイルをドラッグ&ドロップ、またはクリックしてアップロード<br/>\n                      <span className=\"text-sm\">(Drag & drop or click to upload PDF)</span>\n                    </>\n                  )}\n                </p>\n                \n                <label className=\"inline-block\">\n                  <input\n                    type=\"file\"\n                    accept=\".pdf\"\n                    onChange={handleFileUpload}\n                    className=\"hidden\"\n                  />\n                  <span className=\"px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold cursor-pointer inline-block\">\n                    PDFファイルを選択\n                  </span>\n                </label>\n\n                {uploadedFile && (\n                  <div className=\"mt-8 inline-flex items-center gap-3 bg-white p-4 rounded-lg border border-gray-300\">\n                    <FileText className=\"w-6 h-6 text-red-800\" />\n                    <span className=\"font-semibold text-gray-800\">{uploadedFile.name}</span>\n                  </div>\n                )}\n              </div>\n\n              {isProcessing && (\n                <div className=\"mt-12 text-center\">\n                  <Loader className=\"w-16 h-16 mx-auto animate-spin text-red-800 mb-6\" />\n                  <p className=\"text-xl font-semibold text-gray-800 mb-2\">\n                    AIが論文を解析中...\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    MDRCG情報を自動生成しています\n                  </p>\n                </div>\n              )}\n            </div>\n\n            {/* Instructions */}\n            <div className=\"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6\">\n              <h4 className=\"font-semibold text-gray-900 mb-3\">アップロード後の流れ</h4>\n              <ul className=\"space-y-2 text-sm text-gray-700\">\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\">•</span>\n                  <span>AIが研究論文を分析し、重要な情報を抽出します</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\">•</span>\n                  <span>自動生成されたMDRCGフォームを確認・編集できます</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\">•</span>\n                  <span>あなたの研究が多次元で検索可能になります</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\">•</span>\n                  <span>異分野との関連性が自動的に特定されます</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // フォームビュー (Form View)\n  if (currentView === 'form') {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <div className=\"max-w-full mx-auto\">\n          {/* Header */}\n          <div className=\"bg-white border-b border-gray-200 px-8 py-4\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                SPring-8 研究データベース\n              </h1>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setCurrentView('search')}\n                  className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\"\n                >\n                  検索\n                </button>\n                <button className=\"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\">\n                  ログイン\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"max-w-5xl mx-auto p-8\">\n            <div className=\"bg-white border border-gray-300 rounded-lg p-8\">\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\n                MDRCG 情報入力フォーム\n              </h1>\n              <p className=\"text-gray-600\">Research Context Information Form</p>\n            </div>\n\n            {/* Paper Relationships Section */}\n            {papers.length > 0 && (\n              <div className=\"mb-8 p-6 bg-blue-50 border-2 border-blue-200 rounded-lg\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <Link2 className=\"w-5 h-5 text-blue-600\" />\n                  <h2 className=\"text-xl font-bold text-gray-800\">\n                    関連論文の選択 (Related Papers)\n                  </h2>\n                </div>\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  この論文と関連する既存の論文を選択し、関係性を指定してください\n                </p>\n                <div className=\"space-y-3 max-h-64 overflow-y-auto\">\n                  {papers.map(paper => {\n                    const existingRelation = selectedRelatedPapers.find(r => r.paperId === paper.id);\n                    return (\n                      <div key={paper.id} className=\"flex items-center gap-3 p-3 bg-white rounded border border-gray-300\">\n                        <input\n                          type=\"checkbox\"\n                          checked={!!existingRelation}\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              setSelectedRelatedPapers([...selectedRelatedPapers, {\n                                paperId: paper.id,\n                                relationshipType: 'Cited'\n                              }]);\n                            } else {\n                              setSelectedRelatedPapers(selectedRelatedPapers.filter(r => r.paperId !== paper.id));\n                            }\n                          }}\n                          className=\"w-4 h-4 accent-blue-600\"\n                        />\n                        <div className=\"flex-1\">\n                          <p className=\"text-sm font-semibold text-gray-800\">{paper.title}</p>\n                          <p className=\"text-xs text-gray-500\">{paper.authors} ({paper.year})</p>\n                        </div>\n                        {existingRelation && (\n                          <select\n                            value={existingRelation.relationshipType}\n                            onChange={(e) => {\n                              setSelectedRelatedPapers(selectedRelatedPapers.map(r =>\n                                r.paperId === paper.id ? { ...r, relationshipType: e.target.value } : r\n                              ));\n                            }}\n                            className=\"px-3 py-1 border-2 border-gray-300 rounded text-sm font-medium\"\n                          >\n                            {relationshipTypes.map(type => (\n                              <option key={type} value={type}>{type}</option>\n                            ))}\n                          </select>\n                        )}\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            )}\n\n            <div className=\"space-y-6 max-h-[600px] overflow-y-auto pr-4\">\n              {mdrcgQuestions.map((question) => (\n                <div key={question.id} className=\"border-b pb-6\">\n                  <label className=\"block mb-2\">\n                    <span className=\"text-lg font-semibold text-gray-800\">\n                      {question.label}\n                      {question.required && <span className=\"text-red-500 ml-1\">*</span>}\n                    </span>\n                  </label>\n                  <textarea\n                    value={formData[question.id] || ''}\n                    onChange={(e) => handleInputChange(question.id, e.target.value)}\n                    placeholder={question.placeholder}\n                    className=\"w-full p-4 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none min-h-[120px] bg-yellow-50\"\n                    required={question.required}\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    💡 AIが生成した内容です。必要に応じて修正してください\n                  </p>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"mt-8 flex gap-4\">\n              <button\n                onClick={() => setCurrentView('upload')}\n                className=\"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\"\n              >\n                ← 戻る\n              </button>\n              <button\n                onClick={handleSubmit}\n                className=\"flex-1 px-6 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\"\n              >\n                登録して公開\n              </button>\n            </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // 高度検索ビュー (Advanced Search View)\n  if (currentView === 'advancedSearch') {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <div className=\"max-w-6xl mx-auto p-8\">\n          {/* Header */}\n          <div className=\"mb-8\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h1 className=\"text-4xl font-serif text-gray-900\">高度検索</h1>\n              <button\n                onClick={() => setCurrentView('search')}\n                className=\"text-sm text-blue-700 hover:text-blue-900 underline\"\n              >\n                ← 簡易検索に戻る\n              </button>\n            </div>\n            <button className=\"text-sm text-blue-700 hover:underline\">検索ヘルプ</button>\n          </div>\n\n          {/* Tabs */}\n          <div className=\"border-b-2 border-gray-300 mb-8\">\n            <button className=\"px-6 py-3 text-sm font-semibold border-b-4 border-black -mb-0.5\">\n              全コンテンツ\n            </button>\n            <button className=\"px-6 py-3 text-sm text-gray-600 hover:text-gray-900\">\n              画像\n            </button>\n          </div>\n\n          {/* Construct Query Section */}\n          <div className=\"bg-white rounded-lg border border-gray-300 p-8 mb-8\">\n            <h2 className=\"text-2xl font-serif text-gray-900 mb-6\">検索クエリを構築</h2>\n            \n            {advancedSearchRows.map((row, index) => (\n              <div key={row.id} className=\"mb-4\">\n                <div className=\"grid grid-cols-12 gap-4 items-start\">\n                  {index > 0 && (\n                    <div className=\"col-span-2\">\n                      <label className=\"block text-xs font-semibold text-gray-700 mb-1\">論理演算子</label>\n                      <select\n                        value={row.boolean}\n                        onChange={(e) => {\n                          const newRows = [...advancedSearchRows];\n                          newRows[index].boolean = e.target.value;\n                          setAdvancedSearchRows(newRows);\n                        }}\n                        className=\"w-full px-3 py-2 border border-gray-400 rounded text-sm\"\n                      >\n                        <option value=\"AND\">AND</option>\n                        <option value=\"OR\">OR</option>\n                        <option value=\"NOT\">NOT</option>\n                        <option value=\"NEAR 5\">NEAR 5</option>\n                        <option value=\"NEAR 10\">NEAR 10</option>\n                        <option value=\"NEAR 25\">NEAR 25</option>\n                      </select>\n                    </div>\n                  )}\n                  \n                  <div className={index === 0 ? 'col-span-6' : 'col-span-5'}>\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">検索語句</label>\n                    <input\n                      type=\"text\"\n                      value={row.term}\n                      onChange={(e) => {\n                        const newRows = [...advancedSearchRows];\n                        newRows[index].term = e.target.value;\n                        setAdvancedSearchRows(newRows);\n                      }}\n                      className=\"w-full px-3 py-2 border border-gray-400 rounded text-sm\"\n                      placeholder=\"検索キーワードを入力...\"\n                    />\n                  </div>\n                  \n                  <div className=\"col-span-4\">\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">検索フィールド</label>\n                    <select\n                      value={row.field}\n                      onChange={(e) => {\n                        const newRows = [...advancedSearchRows];\n                        newRows[index].field = e.target.value;\n                        setAdvancedSearchRows(newRows);\n                      }}\n                      className=\"w-full px-3 py-2 border border-gray-400 rounded text-sm\"\n                    >\n                      <option value=\"all\">全フィールド</option>\n                      <option value=\"title\">タイトル</option>\n                      <option value=\"author\">著者</option>\n                      <option value=\"abstract\">要旨</option>\n                      <option value=\"caption\">説明</option>\n                    </select>\n                  </div>\n                  \n                  {index > 0 && (\n                    <div className=\"col-span-1 pt-6\">\n                      <button\n                        onClick={() => {\n                          setAdvancedSearchRows(advancedSearchRows.filter(r => r.id !== row.id));\n                        }}\n                        className=\"text-gray-600 hover:text-red-600\"\n                      >\n                        <X className=\"w-5 h-5\" />\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n            \n            <button\n              onClick={() => {\n                setAdvancedSearchRows([\n                  ...advancedSearchRows,\n                  { id: Date.now(), boolean: 'AND', term: '', field: 'all' }\n                ]);\n              }}\n              className=\"mt-4 px-4 py-2 text-sm border border-gray-400 rounded hover:bg-gray-50 flex items-center gap-2\"\n            >\n              <span className=\"text-lg\">+</span> 行を追加\n            </button>\n\n            {/* Access Type */}\n            <div className=\"mt-8\">\n              <label className=\"block text-xs font-semibold text-gray-700 mb-2\">アクセスタイプを選択</label>\n              <select className=\"w-80 px-3 py-2 border border-gray-400 rounded text-sm\">\n                <option>すべて</option>\n                <option>アクセス可能なコンテンツ</option>\n              </select>\n            </div>\n\n            <button\n              onClick={() => {\n                // Apply advanced search and go back to results\n                setCurrentView('search');\n              }}\n              className=\"mt-6 px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\"\n            >\n              高度検索を実行\n            </button>\n          </div>\n\n          {/* Narrow Results Section */}\n          <div className=\"bg-white rounded-lg border border-gray-300 p-8\">\n            <h2 className=\"text-2xl font-serif text-gray-900 mb-6\">検索結果を絞り込む</h2>\n            \n            {/* Item Type */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-900 mb-3\">アイテムタイプ</h3>\n              <div className=\"space-y-2\">\n                {['論文', '研究報告', 'レビュー', 'その他', '書籍'].map(type => (\n                  <label key={type} className=\"flex items-center gap-2 text-sm cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedItemTypes.includes(type)}\n                      onChange={() => {\n                        setSelectedItemTypes(prev =>\n                          prev.includes(type) ? prev.filter(t => t !== type) : [...prev, type]\n                        );\n                      }}\n                      className=\"w-4 h-4 accent-red-800\"\n                    />\n                    <span className=\"text-gray-700\">{type}</span>\n                  </label>\n                ))}\n              </div>\n            </div>\n\n            {/* Publication Date */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-900 mb-3\">出版日</h3>\n              <div className=\"flex items-center gap-4\">\n                <div>\n                  <label className=\"block text-xs text-gray-600 mb-1\">開始日</label>\n                  <input\n                    type=\"text\"\n                    value={dateFrom}\n                    onChange={(e) => setDateFrom(e.target.value)}\n                    placeholder=\"yyyy/mm/dd\"\n                    className=\"w-32 px-3 py-2 border border-gray-400 rounded text-sm\"\n                  />\n                </div>\n                <div className=\"pt-6\">\n                  <span className=\"text-gray-600\">〜</span>\n                </div>\n                <div>\n                  <label className=\"block text-xs text-gray-600 mb-1\">&nbsp;</label>\n                  <input\n                    type=\"text\"\n                    value={dateTo}\n                    onChange={(e) => setDateTo(e.target.value)}\n                    placeholder=\"yyyy/mm/dd\"\n                    className=\"w-32 px-3 py-2 border border-gray-400 rounded text-sm\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Disciplines */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-900 mb-3\">学術分野で絞り込む</h3>\n              <div className=\"space-y-1 max-h-96 overflow-y-auto border border-gray-300 rounded p-4\">\n                {Object.entries(disciplines).map(([key, discipline]) => (\n                  <div key={key}>\n                    <label className=\"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-50 p-1 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedDisciplines.includes(key)}\n                        onChange={() => {\n                          setSelectedDisciplines(prev =>\n                            prev.includes(key) ? prev.filter(d => d !== key) : [...prev, key]\n                          );\n                        }}\n                        className=\"w-4 h-4 mt-0.5 accent-red-800\"\n                      />\n                      <div>\n                        <div className=\"font-medium text-gray-900\">{discipline.label}</div>\n                        {selectedDisciplines.includes(key) && (\n                          <div className=\"ml-6 mt-2 space-y-1\">\n                            {discipline.journals.map(journal => (\n                              <div key={journal} className=\"text-xs text-blue-700 hover:underline cursor-pointer\">\n                                {journal}\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    </label>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <button\n              onClick={() => {\n                setCurrentView('search');\n              }}\n              className=\"px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\"\n            >\n              高度検索を実行\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // 論文詳細ビュー (Paper Detail View)\n  if (currentView === 'search' && viewingPaper) {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <div className=\"max-w-full mx-auto\">\n          {/* Header */}\n          <div className=\"bg-white border-b border-gray-200 px-8 py-4\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                SPring-8 研究データベース\n              </h1>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setViewingPaper(null)}\n                  className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\"\n                >\n                  ← 検索結果に戻る\n                </button>\n                <button className=\"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\">\n                  ログイン\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Paper Detail Content */}\n          <div className=\"max-w-5xl mx-auto p-8\">\n            <div className=\"bg-white border border-gray-300 rounded-lg p-8\">\n              {/* Title Section */}\n              <div className=\"mb-6\">\n                <span className=\"text-xs text-gray-600 uppercase tracking-wide\">学術論文</span>\n                <h1 className=\"text-3xl font-serif text-gray-900 mt-2 mb-4\">\n                  {viewingPaper.title}\n                </h1>\n                <p className=\"text-xl text-gray-600 mb-4\">{viewingPaper.titleEn}</p>\n                <p className=\"text-gray-700 mb-2\">著者: {viewingPaper.authors}</p>\n                <p className=\"text-sm italic text-gray-600\">\n                  SPring-8 Research Journal, Vol. {viewingPaper.id}, No. 1 ({viewingPaper.year}), pp. 1-20\n                </p>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"flex gap-3 mb-8 pb-8 border-b border-gray-300\">\n                <button\n                  onClick={() => {\n                    if (viewingPaper.uploadedFile) {\n                      const fileURL = URL.createObjectURL(viewingPaper.uploadedFile);\n                      window.open(fileURL, '_blank');\n                    } else {\n                      alert('この論文のPDFファイルは利用できません');\n                    }\n                  }}\n                  className=\"px-6 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\"\n                >\n                  PDFを開く\n                </button>\n                <button className=\"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\">\n                  保存\n                </button>\n                <button className=\"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\">\n                  引用\n                </button>\n              </div>\n\n              {/* Metadata */}\n              <div className=\"grid grid-cols-2 gap-6 mb-8\">\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">研究分野</h3>\n                  <p className=\"text-gray-900\">{viewingPaper.field}</p>\n                </div>\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">測定手法</h3>\n                  <p className=\"text-gray-900\">{viewingPaper.method}</p>\n                </div>\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">ビームライン</h3>\n                  <p className=\"text-gray-900\">{viewingPaper.beamline}</p>\n                </div>\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">産業応用</h3>\n                  <p className=\"text-gray-900\">{viewingPaper.application}</p>\n                </div>\n              </div>\n\n              {/* MDRCG Information */}\n              {viewingPaper.formData && (\n                <div className=\"space-y-6\">\n                  <h2 className=\"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-300\">\n                    MDRCG 詳細情報\n                  </h2>\n\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">主な結論</h3>\n                    <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.mainConclusion}</p>\n                  </div>\n\n                  {viewingPaper.formData.priorWork && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">先行研究との関係</h3>\n                      <p className=\"text-gray-700 leading-relaxed whitespace-pre-line\">{viewingPaper.formData.priorWork}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.novelty && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">新規性</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.formData.novelty}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.unknownQuestions && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">未解明の課題</h3>\n                      <p className=\"text-gray-700 leading-relaxed whitespace-pre-line\">{viewingPaper.formData.unknownQuestions}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.failedApproach && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">失敗したアプローチ</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.failedApproach}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.crossDomain && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">異分野翻訳レイヤー</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.crossDomain}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.industrialApplication && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">産業応用可能性</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.industrialApplication}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.abstractPrinciple && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">抽象化された原理（小学5年生レベル）</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.formData.abstractPrinciple}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.experimentalReason && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">実験設計の理由</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.formData.experimentalReason}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.scalingPossibility && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">スケーリング可能性</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.formData.scalingPossibility}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.combinationPotential && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">組み合わせ可能性</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.formData.combinationPotential}</p>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Related Papers Section */}\n              {viewingPaper.relatedPapers && viewingPaper.relatedPapers.length > 0 && (\n                <div className=\"mt-8 pt-8 border-t-2 border-gray-300\">\n                  <h2 className=\"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                    <Link2 className=\"w-6 h-6 text-blue-600\" />\n                    関連論文 (Related Papers)\n                  </h2>\n                  <div className=\"space-y-3\">\n                    {viewingPaper.relatedPapers.map(relation => {\n                      const relatedPaper = papers.find(p => p.id === relation.paperId);\n                      return relatedPaper ? (\n                        <div key={relation.paperId} className=\"p-4 bg-blue-50 border-l-4 border-blue-500 rounded\">\n                          <div className=\"flex items-start justify-between\">\n                            <div className=\"flex-1\">\n                              <p className=\"font-semibold text-gray-900\">{relatedPaper.title}</p>\n                              <p className=\"text-sm text-gray-600 mt-1\">{relatedPaper.authors} ({relatedPaper.year})</p>\n                            </div>\n                            <span className=\"ml-4 px-3 py-1 bg-blue-600 text-white text-xs font-semibold rounded-full\">\n                              {relation.relationshipType}\n                            </span>\n                          </div>\n                        </div>\n                      ) : null;\n                    })}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Back Button */}\n            <div className=\"mt-6\">\n              <button\n                onClick={() => setViewingPaper(null)}\n                className=\"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\"\n              >\n                ← 検索結果に戻る\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // 検索ビュー (Search View)\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <div className=\"max-w-full mx-auto\">\n        {/* Header */}\n        <div className=\"bg-white border-b border-gray-200 px-8 py-4\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              SPring-8 Research Database\n            </h1>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => setCurrentView('upload')}\n                className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\"\n              >\n                論文登録 (Upload)\n              </button>\n              <button className=\"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\">\n                Log in\n              </button>\n            </div>\n          </div>\n\n          <div className=\"max-w-3xl\">\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"キーワード、産業応用、異分野応用などで検索...\"\n                className=\"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded focus:border-gray-400 focus:outline-none text-base\"\n              />\n              <button className=\"absolute right-3 top-3 text-gray-600 hover:text-gray-900\">\n                <Search className=\"w-5 h-5\" />\n              </button>\n            </div>\n            <button\n              onClick={() => setCurrentView('advancedSearch')}\n              className=\"mt-2 text-sm text-blue-700 hover:text-blue-900 underline\"\n            >\n              高度検索\n            </button>\n          </div>\n        </div>\n\n        {/* Main Content Area */}\n        <div className=\"flex\">\n          {/* Left Sidebar - Filters */}\n          <div className=\"w-64 border-r border-gray-200 bg-gray-50 p-6 min-h-screen\">\n            <h2 className=\"text-lg font-bold text-gray-900 mb-4\">Refine Results</h2>\n\n          {/* Advanced Search Modal */}\n          {showAdvancedSearch && (\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n              <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-purple-600 to-blue-600 p-6 text-white\">\n                  <div className=\"flex justify-between items-center\">\n                    <div>\n                      <h2 className=\"text-2xl font-bold\">高度検索 (Advanced Search)</h2>\n                      <p className=\"text-sm mt-1\">階層的なナレッジツリーで探索 (Explore through hierarchical knowledge tree)</p>\n                    </div>\n                    <button\n                      onClick={() => {\n                        setShowAdvancedSearch(false);\n                        setAdvancedSearchQuery('');\n                        setSelectedPath([]);\n                        setCurrentBranch(null);\n                      }}\n                      className=\"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2\"\n                    >\n                      <X className=\"w-6 h-6\" />\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"p-6\">\n                  {/* Breadcrumb Path */}\n                  {selectedPath.length > 0 && (\n                    <div className=\"mb-4 flex items-center gap-2 text-sm text-gray-600\">\n                      <button\n                        onClick={() => {\n                          setSelectedPath([]);\n                          setCurrentBranch(null);\n                        }}\n                        className=\"hover:text-blue-600\"\n                      >\n                        ホーム (Home)\n                      </button>\n                      {selectedPath.map((pathItem, index) => (\n                        <React.Fragment key={index}>\n                          <span>→</span>\n                          <button\n                            onClick={() => {\n                              setSelectedPath(selectedPath.slice(0, index + 1));\n                              // Navigate to this level\n                              let branch = searchKnowledgeTree;\n                              for (let i = 0; i <= index; i++) {\n                                branch = branch[selectedPath[i]];\n                              }\n                              setCurrentBranch(branch);\n                            }}\n                            className=\"hover:text-blue-600 font-semibold\"\n                          >\n                            {pathItem}\n                          </button>\n                        </React.Fragment>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Search Input */}\n                  <div className=\"relative mb-6\">\n                    <Search className=\"absolute left-4 top-4 text-gray-400 w-5 h-5\" />\n                    <input\n                      type=\"text\"\n                      value={advancedSearchQuery}\n                      onChange={(e) => setAdvancedSearchQuery(e.target.value)}\n                      placeholder=\"キーワードを入力... (Enter keywords...)\"\n                      className=\"w-full pl-12 pr-4 py-4 border-2 border-purple-300 rounded-lg focus:border-purple-500 focus:outline-none text-lg\"\n                      autoFocus\n                    />\n                  </div>\n\n                  {/* Results Area */}\n                  <div className=\"max-h-[400px] overflow-y-auto\">\n                    {advancedSearchQuery === '' && selectedPath.length === 0 ? (\n                      // Show top level categories\n                      <div className=\"space-y-3\">\n                        <p className=\"text-sm text-gray-600 mb-4\">カテゴリーを選択するか、キーワードを入力してください (Select a category or enter keywords)</p>\n                        {Object.keys(searchKnowledgeTree).map(key => (\n                          <div\n                            key={key}\n                            onClick={() => {\n                              setSelectedPath([key]);\n                              setCurrentBranch(searchKnowledgeTree[key]);\n                            }}\n                            className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\"\n                          >\n                            <div className=\"flex items-center justify-between\">\n                              <div>\n                                <h3 className=\"font-bold text-gray-800\">{searchKnowledgeTree[key].label}</h3>\n                                <p className=\"text-xs text-gray-500 mt-1\">\n                                  {searchKnowledgeTree[key].branches ? \n                                    `${Object.keys(searchKnowledgeTree[key].branches).length} サブカテゴリー` : \n                                    '論文を表示'}\n                                </p>\n                              </div>\n                              <ChevronDown className=\"w-5 h-5 text-gray-400 transform -rotate-90\" />\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    ) : advancedSearchQuery !== '' ? (\n                      // Show search suggestions\n                      <div className=\"space-y-3\">\n                        {getAdvancedSearchSuggestions(advancedSearchQuery)?.length > 0 ? (\n                          getAdvancedSearchSuggestions(advancedSearchQuery).map((match, index) => (\n                            <div\n                              key={index}\n                              onClick={() => {\n                                setSelectedPath(match.path);\n                                setCurrentBranch(match.data);\n                                setAdvancedSearchQuery('');\n                              }}\n                              className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\"\n                            >\n                              <div className=\"flex items-center justify-between\">\n                                <div>\n                                  <h3 className=\"font-bold text-gray-800\">{match.data.label}</h3>\n                                  <p className=\"text-xs text-gray-500 mt-1\">\n                                    {match.data.branches ? \n                                      `${Object.keys(match.data.branches).length} サブカテゴリー` : \n                                      `${match.data.papers?.length || 0} 件の論文`}\n                                  </p>\n                                </div>\n                                <ChevronDown className=\"w-5 h-5 text-gray-400 transform -rotate-90\" />\n                              </div>\n                            </div>\n                          ))\n                        ) : (\n                          <p className=\"text-center text-gray-500 py-8\">該当する結果が見つかりませんでした (No results found)</p>\n                        )}\n                      </div>\n                    ) : currentBranch ? (\n                      // Show current branch contents\n                      <div className=\"space-y-3\">\n                        {currentBranch.branches && Object.keys(currentBranch.branches).map(key => (\n                          <div\n                            key={key}\n                            onClick={() => {\n                              setSelectedPath([...selectedPath, key]);\n                              setCurrentBranch(currentBranch.branches[key]);\n                            }}\n                            className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\"\n                          >\n                            <div className=\"flex items-center justify-between\">\n                              <div>\n                                <h3 className=\"font-bold text-gray-800\">{currentBranch.branches[key].label}</h3>\n                                <p className=\"text-xs text-gray-500 mt-1\">\n                                  {currentBranch.branches[key].branches ? \n                                    `${Object.keys(currentBranch.branches[key].branches).length} サブカテゴリー` : \n                                    `${currentBranch.branches[key].papers?.length || 0} 件の論文`}\n                                </p>\n                              </div>\n                              <ChevronDown className=\"w-5 h-5 text-gray-400 transform -rotate-90\" />\n                            </div>\n                          </div>\n                        ))}\n                        {currentBranch.papers && (\n                          <div className=\"space-y-3 mt-4\">\n                            <h3 className=\"font-bold text-gray-700 border-t pt-4\">関連論文 (Related Papers)</h3>\n                            {currentBranch.papers.map(paperId => {\n                              const paper = papers.find(p => p.id === paperId);\n                              return paper ? (\n                                <div\n                                  key={paper.id}\n                                  onClick={() => {\n                                    setShowAdvancedSearch(false);\n                                    // Scroll to paper in main view\n                                    document.getElementById(`paper-${paper.id}`)?.scrollIntoView({ behavior: 'smooth' });\n                                  }}\n                                  className=\"p-4 border-2 border-blue-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition-all\"\n                                >\n                                  <h4 className=\"font-bold text-gray-800\">{paper.title}</h4>\n                                  <p className=\"text-sm text-gray-600 mt-1\">{paper.titleEn}</p>\n                                  <p className=\"text-xs text-gray-500 mt-2\">{paper.authors} ({paper.year})</p>\n                                </div>\n                              ) : null;\n                            })}\n                          </div>\n                        )}\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Research Field Filter */}\n            <div className=\"mb-6\">\n              <button\n                onClick={() => setShowFilters({...showFilters, field: !showFilters.field})}\n                className=\"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\"\n              >\n                <span>研究分野 (Research Field)</span>\n                {showFilters.field ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n              </button>\n              {showFilters.field && (\n                <div className=\"space-y-1\">\n                  {['材料科学 (Materials Science)', '生命科学 (Life Sciences)', 'ナノサイエンス (Nanoscience)', '高分子科学 (Polymer Science)', '物性物理学 (Condensed Matter Physics)'].map(field => (\n                    <label key={field} className=\"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedFilters.field.includes(field)}\n                        onChange={() => toggleFilter('field', field)}\n                        className=\"mt-0.5 w-4 h-4 accent-red-800\"\n                      />\n                      <span className=\"text-gray-700\">{field.split(' (')[0]}</span>\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Method Filter */}\n            <div className=\"mb-6\">\n              <button\n                onClick={() => setShowFilters({...showFilters, method: !showFilters.method})}\n                className=\"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\"\n              >\n                <span>測定手法 (Method)</span>\n                {showFilters.method ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n              </button>\n              {showFilters.method && (\n                <div className=\"space-y-1\">\n                  {['X線回折 (X-ray Diffraction)', 'X線結晶構造解析 (X-ray Crystallography)', '時間分解分光 (Time-Resolved Spectroscopy)', '小角X線散乱 (SAXS)'].map(method => (\n                    <label key={method} className=\"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedFilters.method.includes(method)}\n                        onChange={() => toggleFilter('method', method)}\n                        className=\"mt-0.5 w-4 h-4 accent-red-800\"\n                      />\n                      <span className=\"text-gray-700\">{method.split(' (')[0]}</span>\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Application Filter */}\n            <div className=\"mb-6\">\n              <button\n                onClick={() => setShowFilters({...showFilters, application: !showFilters.application})}\n                className=\"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\"\n              >\n                <span>産業応用 (Application)</span>\n                {showFilters.application ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n              </button>\n              {showFilters.application && (\n                <div className=\"space-y-1\">\n                  {['自動車産業 (Automotive)', '製薬・医療 (Pharmaceutical)', 'エネルギー産業 (Energy)', '化学産業 (Chemical)'].map(app => (\n                    <label key={app} className=\"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedFilters.application.includes(app)}\n                        onChange={() => toggleFilter('application', app)}\n                        className=\"mt-0.5 w-4 h-4 accent-red-800\"\n                      />\n                      <span className=\"text-gray-700\">{app.split(' (')[0]}</span>\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Year Filter */}\n            <div className=\"mb-6\">\n              <button\n                onClick={() => setShowFilters({...showFilters, year: !showFilters.year})}\n                className=\"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\"\n              >\n                <span>年度 (Year)</span>\n                {showFilters.year ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n              </button>\n              {showFilters.year && (\n                <div className=\"space-y-1\">\n                  {[2024, 2023, 2022].map(year => (\n                    <label key={year} className=\"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedFilters.year.includes(year)}\n                        onChange={() => toggleFilter('year', year)}\n                        className=\"mt-0.5 w-4 h-4 accent-red-800\"\n                      />\n                      <span className=\"text-gray-700\">{year}</span>\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Right Content Area - Results */}\n          <div className=\"flex-1 p-8\">\n            <div className=\"mb-4 flex items-center justify-between\">\n              <p className=\"text-sm text-gray-600\">\n                <strong>{filteredPapers.length}</strong> 件の結果\n              </p>\n            </div>\n\n            <div className=\"space-y-6\">\n            {filteredPapers.map(paper => (\n              <div key={paper.id} id={`paper-${paper.id}`} className=\"border-b border-gray-200 pb-6 mb-6\">\n                <div className=\"flex gap-4\">\n                  <div className=\"flex-shrink-0\">\n                    <input type=\"checkbox\" className=\"w-4 h-4 mt-1 accent-red-800\" />\n                  </div>\n                  \n                  <div className=\"flex-1\">\n                    <div className=\"mb-2\">\n                      <span className=\"text-xs text-gray-600 uppercase tracking-wide\">学術論文</span>\n                    </div>\n                    \n                    <h3 \n                      onClick={() => setViewingPaper(paper)}\n                      className=\"text-xl font-serif text-gray-900 mb-2 hover:underline cursor-pointer\"\n                    >\n                      {paper.title}\n                    </h3>\n                    \n                    <p className=\"text-sm text-gray-700 mb-2\">{paper.authors}</p>\n                    \n                    <p className=\"text-sm italic text-gray-600 mb-3\">\n                      SPring-8 Research Journal, Vol. {paper.id}, No. 1 ({paper.year}), pp. 1-20\n                    </p>\n                    \n                    <p className=\"text-sm text-gray-800 leading-relaxed mb-3\">\n                      ...{paper.mainConclusion.substring(0, 150)}...\n                    </p>\n                    \n                    <button\n                      onClick={() => setViewingPaper(paper)}\n                      className=\"text-sm text-blue-700 hover:underline font-medium\"\n                    >\n                      詳細を表示\n                    </button>\n                  </div>\n                  \n                  <div className=\"flex-shrink-0 flex flex-col gap-2 w-32\">\n                    <button \n                      onClick={() => {\n                        if (paper.uploadedFile) {\n                          const fileURL = URL.createObjectURL(paper.uploadedFile);\n                          window.open(fileURL, '_blank');\n                        } else {\n                          alert('この論文のPDFファイルは利用できません');\n                        }\n                      }}\n                      className=\"px-4 py-2 bg-red-800 text-white text-sm rounded hover:bg-red-900 font-medium\"\n                    >\n                      オンライン閲覧\n                    </button>\n                    <button className=\"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 font-medium\">\n                      保存\n                    </button>\n                    <button className=\"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 font-medium\">\n                      引用\n                    </button>\n                    {paper.uploadedFile && (\n                      <button \n                        onClick={() => {\n                          if (window.confirm('この論文を削除しますか？')) {\n                            setPapers(prevPapers => prevPapers.filter(p => p.id !== paper.id));\n                          }\n                        }}\n                        className=\"px-4 py-2 border border-red-300 text-red-700 text-sm rounded hover:bg-red-50 font-medium\"\n                      >\n                        削除\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,MAAM,EAAEC,WAAW,EAAEC,SAAS,EAAEC,MAAM,EAAEC,CAAC,EAAEC,KAAK,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjH,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,qBAAA;EAChB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;EAC1D,MAAM,CAACoB,YAAY,EAAEC,eAAe,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACsB,YAAY,EAAEC,eAAe,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACwB,QAAQ,EAAEC,WAAW,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC5C,MAAM,CAAC0B,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC4B,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAC;IAC7C8B,KAAK,EAAE,IAAI;IACXC,MAAM,EAAE,IAAI;IACZC,WAAW,EAAE,KAAK;IAClBC,QAAQ,EAAE,KAAK;IACfC,IAAI,EAAE;EACR,CAAC,CAAC;EACF,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGpC,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACqC,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;EAClE,MAAM,CAACuC,YAAY,EAAEC,eAAe,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACyC,aAAa,EAAEC,gBAAgB,CAAC,GAAG1C,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAAC2C,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG5C,QAAQ,CAAC,CAC3D;IAAE6C,EAAE,EAAE,CAAC;IAAEC,OAAO,EAAE,KAAK;IAAEC,IAAI,EAAE,EAAE;IAAEjB,KAAK,EAAE;EAAM,CAAC,CAClD,CAAC;EACF,MAAM,CAACkB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGjD,QAAQ,CAAC,EAAE,CAAC;EAClE,MAAM,CAACkD,QAAQ,EAAEC,WAAW,CAAC,GAAGnD,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACoD,MAAM,EAAEC,SAAS,CAAC,GAAGrD,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACsD,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGvD,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAACwD,eAAe,EAAEC,kBAAkB,CAAC,GAAGzD,QAAQ,CAAC;IACrD8B,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE,EAAE;IACVC,WAAW,EAAE,EAAE;IACfC,QAAQ,EAAE,EAAE;IACZC,IAAI,EAAE;EACR,CAAC,CAAC;EACJ,MAAM,CAACwB,YAAY,EAAEC,eAAe,CAAC,GAAG3D,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC4D,MAAM,EAAEC,SAAS,CAAC,GAAG7D,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC8D,qBAAqB,EAAEC,wBAAwB,CAAC,GAAG/D,QAAQ,CAAC,EAAE,CAAC;EACtE,MAAM,CAACgE,OAAO,EAAEC,UAAU,CAAC,GAAGjE,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMkE,iBAAiB,GAAG,CACxB,OAAO,EACP,aAAa,EACb,aAAa,EACb,SAAS,EACT,gBAAgB,EAChB,oBAAoB,EACpB,aAAa,CACd;;EAED;EACA,MAAMC,mBAAmB,GAAG,CAC1B;IACEtB,EAAE,EAAE,CAAC;IACLuB,KAAK,EAAE,0BAA0B;IACjCC,OAAO,EAAE,qFAAqF;IAC9FC,OAAO,EAAE,2BAA2B;IACpCpC,IAAI,EAAE,IAAI;IACVJ,KAAK,EAAE,0BAA0B;IACjCC,MAAM,EAAE,0BAA0B;IAClCE,QAAQ,EAAE,QAAQ;IAClBD,WAAW,EAAE,oBAAoB;IACjCuC,cAAc,EAAE,0CAA0C;IAC1DC,qBAAqB,EAAE,sBAAsB;IAC7CC,WAAW,EAAE,oBAAoB;IACjCC,cAAc,EAAE;EAClB,CAAC,EACD;IACE7B,EAAE,EAAE,CAAC;IACLuB,KAAK,EAAE,yBAAyB;IAChCC,OAAO,EAAE,uEAAuE;IAChFC,OAAO,EAAE,0BAA0B;IACnCpC,IAAI,EAAE,IAAI;IACVJ,KAAK,EAAE,sBAAsB;IAC7BC,MAAM,EAAE,kCAAkC;IAC1CE,QAAQ,EAAE,QAAQ;IAClBD,WAAW,EAAE,wBAAwB;IACrCuC,cAAc,EAAE,+BAA+B;IAC/CC,qBAAqB,EAAE,oBAAoB;IAC3CC,WAAW,EAAE,gBAAgB;IAC7BC,cAAc,EAAE;EAClB,CAAC,EACD;IACE7B,EAAE,EAAE,CAAC;IACLuB,KAAK,EAAE,4BAA4B;IACnCC,OAAO,EAAE,2EAA2E;IACpFC,OAAO,EAAE,wBAAwB;IACjCpC,IAAI,EAAE,IAAI;IACVJ,KAAK,EAAE,uBAAuB;IAC9BC,MAAM,EAAE,qCAAqC;IAC7CE,QAAQ,EAAE,QAAQ;IAClBD,WAAW,EAAE,kBAAkB;IAC/BuC,cAAc,EAAE,6BAA6B;IAC7CC,qBAAqB,EAAE,sBAAsB;IAC7CC,WAAW,EAAE,iBAAiB;IAC9BC,cAAc,EAAE;EAClB,CAAC,EACD;IACE7B,EAAE,EAAE,CAAC;IACLuB,KAAK,EAAE,0BAA0B;IACjCC,OAAO,EAAE,0EAA0E;IACnFC,OAAO,EAAE,2BAA2B;IACpCpC,IAAI,EAAE,IAAI;IACVJ,KAAK,EAAE,yBAAyB;IAChCC,MAAM,EAAE,eAAe;IACvBE,QAAQ,EAAE,QAAQ;IAClBD,WAAW,EAAE,iBAAiB;IAC9BuC,cAAc,EAAE,+BAA+B;IAC/CC,qBAAqB,EAAE,yBAAyB;IAChDC,WAAW,EAAE,eAAe;IAC5BC,cAAc,EAAE;EAClB,CAAC,EACD;IACE7B,EAAE,EAAE,CAAC;IACLuB,KAAK,EAAE,wBAAwB;IAC/BC,OAAO,EAAE,4DAA4D;IACrEC,OAAO,EAAE,4BAA4B;IACrCpC,IAAI,EAAE,IAAI;IACVJ,KAAK,EAAE,kCAAkC;IACzCC,MAAM,EAAE,iBAAiB;IACzBE,QAAQ,EAAE,QAAQ;IAClBD,WAAW,EAAE,wBAAwB;IACrCuC,cAAc,EAAE,6BAA6B;IAC7CC,qBAAqB,EAAE,uBAAuB;IAC9CC,WAAW,EAAE,eAAe;IAC5BC,cAAc,EAAE;EAClB,CAAC,EACD;IACE7B,EAAE,EAAE,CAAC;IACLuB,KAAK,EAAE,2BAA2B;IAClCC,OAAO,EAAE,2EAA2E;IACpFC,OAAO,EAAE,qBAAqB;IAC9BpC,IAAI,EAAE,IAAI;IACVJ,KAAK,EAAE,mCAAmC;IAC1CC,MAAM,EAAE,uCAAuC;IAC/CE,QAAQ,EAAE,QAAQ;IAClBD,WAAW,EAAE,wBAAwB;IACrCuC,cAAc,EAAE,4BAA4B;IAC5CC,qBAAqB,EAAE,qBAAqB;IAC5CC,WAAW,EAAE,cAAc;IAC3BC,cAAc,EAAE;EAClB,CAAC,EACD;IACE7B,EAAE,EAAE,CAAC;IACLuB,KAAK,EAAE,uBAAuB;IAC9BC,OAAO,EAAE,0FAA0F;IACnGC,OAAO,EAAE,0BAA0B;IACnCpC,IAAI,EAAE,IAAI;IACVJ,KAAK,EAAE,mCAAmC;IAC1CC,MAAM,EAAE,cAAc;IACtBE,QAAQ,EAAE,OAAO;IACjBD,WAAW,EAAE,wBAAwB;IACrCuC,cAAc,EAAE,2BAA2B;IAC3CC,qBAAqB,EAAE,iBAAiB;IACxCC,WAAW,EAAE,aAAa;IAC1BC,cAAc,EAAE;EAClB,CAAC,EACD;IACE7B,EAAE,EAAE,CAAC;IACLuB,KAAK,EAAE,iBAAiB;IACxBC,OAAO,EAAE,qEAAqE;IAC9EC,OAAO,EAAE,yBAAyB;IAClCpC,IAAI,EAAE,IAAI;IACVJ,KAAK,EAAE,sBAAsB;IAC7BC,MAAM,EAAE,4BAA4B;IACpCE,QAAQ,EAAE,QAAQ;IAClBD,WAAW,EAAE,6BAA6B;IAC1CuC,cAAc,EAAE,kCAAkC;IAClDC,qBAAqB,EAAE,mBAAmB;IAC1CC,WAAW,EAAE,aAAa;IAC1BC,cAAc,EAAE;EAClB,CAAC,EACD;IACE7B,EAAE,EAAE,CAAC;IACLuB,KAAK,EAAE,uBAAuB;IAC9BC,OAAO,EAAE,sFAAsF;IAC/FC,OAAO,EAAE,uBAAuB;IAChCpC,IAAI,EAAE,IAAI;IACVJ,KAAK,EAAE,qBAAqB;IAC5BC,MAAM,EAAE,8BAA8B;IACtCE,QAAQ,EAAE,QAAQ;IAClBD,WAAW,EAAE,sBAAsB;IACnCuC,cAAc,EAAE,0BAA0B;IAC1CC,qBAAqB,EAAE,mBAAmB;IAC1CC,WAAW,EAAE,cAAc;IAC3BC,cAAc,EAAE;EAClB,CAAC,CACF;;EAED;EACA3E,KAAK,CAAC4E,SAAS,CAAC,MAAM;IACpB,IAAIf,MAAM,CAACgB,MAAM,KAAK,CAAC,EAAE;MACvBf,SAAS,CAACM,mBAAmB,CAAC;IAChC;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMU,WAAW,GAAG;IAClB,mBAAmB,EAAE;MACnBC,KAAK,EAAE,0BAA0B;MACjCC,QAAQ,EAAE,CACR,6BAA6B,EAC7B,gCAAgC,EAChC,mCAAmC,EACnC,iBAAiB,EACjB,oBAAoB;IAExB,CAAC;IACD,eAAe,EAAE;MACfD,KAAK,EAAE,sBAAsB;MAC7BC,QAAQ,EAAE,CACR,MAAM,EACN,uCAAuC,EACvC,iCAAiC,EACjC,iBAAiB,EACjB,cAAc;IAElB,CAAC;IACD,aAAa,EAAE;MACbD,KAAK,EAAE,uBAAuB;MAC9BC,QAAQ,EAAE,CACR,uBAAuB,EACvB,cAAc,EACd,UAAU,EACV,OAAO,EACP,WAAW;IAEf,CAAC;IACD,iBAAiB,EAAE;MACjBD,KAAK,EAAE,yBAAyB;MAChCC,QAAQ,EAAE,CACR,gBAAgB,EAChB,SAAS,EACT,4BAA4B,EAC5B,mBAAmB,EACnB,0BAA0B;IAE9B,CAAC;IACD,0BAA0B,EAAE;MAC1BD,KAAK,EAAE,kCAAkC;MACzCC,QAAQ,EAAE,CACR,mBAAmB,EACnB,sCAAsC,EACtC,yBAAyB,EACzB,yBAAyB,EACzB,gBAAgB;IAEpB,CAAC;IACD,2BAA2B,EAAE;MAC3BD,KAAK,EAAE,mCAAmC;MAC1CC,QAAQ,EAAE,CACR,uCAAuC,EACvC,4BAA4B,EAC5B,sCAAsC,EACtC,yBAAyB,EACzB,yBAAyB;IAE7B,CAAC;IACD,2BAA2B,EAAE;MAC3BD,KAAK,EAAE,mCAAmC;MAC1CC,QAAQ,EAAE,CACR,8BAA8B,EAC9B,yBAAyB,EACzB,cAAc,EACd,kBAAkB,EAClB,mCAAmC;IAEvC,CAAC;IACD,eAAe,EAAE;MACfD,KAAK,EAAE,sBAAsB;MAC7BC,QAAQ,EAAE,CACR,qCAAqC,EACrC,SAAS,EACT,8BAA8B,EAC9B,iCAAiC,EACjC,mBAAmB;IAEvB,CAAC;IACD,cAAc,EAAE;MACdD,KAAK,EAAE,qBAAqB;MAC5BC,QAAQ,EAAE,CACR,gBAAgB,EAChB,4CAA4C,EAC5C,6BAA6B,EAC7B,qCAAqC,EACrC,oBAAoB;IAExB,CAAC;IACD,WAAW,EAAE;MACXD,KAAK,EAAE,gBAAgB;MACvBC,QAAQ,EAAE,CACR,0CAA0C,EAC1C,mBAAmB,EACnB,kBAAkB,EAClB,sBAAsB,EACtB,qBAAqB;IAEzB;EACF,CAAC;;EAED;EACA,MAAMC,mBAAmB,GAAG;IAC1B,IAAI,EAAE;MACJC,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,yBAAyB;MAChCI,QAAQ,EAAE;QACR,MAAM,EAAE;UACND,IAAI,EAAE,UAAU;UAChBH,KAAK,EAAE,0BAA0B;UACjCI,QAAQ,EAAE;YACR,QAAQ,EAAE;cACRD,IAAI,EAAE,aAAa;cACnBH,KAAK,EAAE,8BAA8B;cACrClB,MAAM,EAAE,CAAC,CAAC;YACZ,CAAC;YACD,IAAI,EAAE;cACJqB,IAAI,EAAE,aAAa;cACnBH,KAAK,EAAE,4BAA4B;cACnClB,MAAM,EAAE,CAAC,CAAC;YACZ,CAAC;YACD,IAAI,EAAE;cACJqB,IAAI,EAAE,aAAa;cACnBH,KAAK,EAAE,sBAAsB;cAC7BlB,MAAM,EAAE,CAAC,CAAC;YACZ;UACF;QACF,CAAC;QACD,UAAU,EAAE;UACVqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,kCAAkC;UACzClB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,MAAM,EAAE;UACNqB,IAAI,EAAE,UAAU;UAChBH,KAAK,EAAE,yBAAyB;UAChCI,QAAQ,EAAE;YACR,MAAM,EAAE;cACND,IAAI,EAAE,aAAa;cACnBH,KAAK,EAAE,eAAe;cACtBlB,MAAM,EAAE,CAAC,CAAC;YACZ;UACF;QACF,CAAC;QACD,MAAM,EAAE;UACNqB,IAAI,EAAE,UAAU;UAChBH,KAAK,EAAE,2BAA2B;UAClCI,QAAQ,EAAE;YACR,QAAQ,EAAE;cACRD,IAAI,EAAE,aAAa;cACnBH,KAAK,EAAE,iBAAiB;cACxBlB,MAAM,EAAE,CAAC,CAAC;YACZ,CAAC;YACD,MAAM,EAAE;cACNqB,IAAI,EAAE,aAAa;cACnBH,KAAK,EAAE,cAAc;cACrBlB,MAAM,EAAE,CAAC,CAAC;YACZ;UACF;QACF,CAAC;QACD,UAAU,EAAE;UACVqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,0BAA0B;UACjClB,MAAM,EAAE,CAAC,CAAC;QACZ;MACF;IACF,CAAC;IACD,IAAI,EAAE;MACJqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,qBAAqB;MAC5BI,QAAQ,EAAE;QACR,MAAM,EAAE;UACND,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,qCAAqC;UAC5ClB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,MAAM,EAAE;UACNqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,8BAA8B;UACrClB,MAAM,EAAE,CAAC,CAAC;QACZ;MACF;IACF,CAAC;IACD,IAAI,EAAE;MACJqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,0BAA0B;MACjCI,QAAQ,EAAE;QACR,MAAM,EAAE;UACND,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,wBAAwB;UAC/BlB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,MAAM,EAAE;UACNqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,sCAAsC;UAC7ClB,MAAM,EAAE,CAAC,CAAC;QACZ;MACF;IACF,CAAC;IACD,OAAO,EAAE;MACPqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,4BAA4B;MACnCI,QAAQ,EAAE;QACR,MAAM,EAAE;UACND,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,uCAAuC;UAC9ClB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,IAAI,EAAE;UACJqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,wBAAwB;UAC/BlB,MAAM,EAAE,CAAC,CAAC;QACZ;MACF;IACF,CAAC;IACD,MAAM,EAAE;MACNqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,sBAAsB;MAC7BI,QAAQ,EAAE;QACR,OAAO,EAAE;UACPD,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,sBAAsB;UAC7BlB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,MAAM,EAAE;UACNqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,oCAAoC;UAC3ClB,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC;QACf;MACF;IACF,CAAC;IACD,KAAK,EAAE;MACLqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,2BAA2B;MAClCI,QAAQ,EAAE;QACR,MAAM,EAAE;UACND,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,qCAAqC;UAC5ClB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,MAAM,EAAE;UACNqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,iCAAiC;UACxClB,MAAM,EAAE,CAAC,CAAC;QACZ;MACF;IACF,CAAC;IACD,MAAM,EAAE;MACNqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,2BAA2B;MAClCI,QAAQ,EAAE;QACR,UAAU,EAAE;UACVD,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,wBAAwB;UAC/BlB,MAAM,EAAE,CAAC,CAAC;QACZ;MACF;IACF,CAAC;IACD,KAAK,EAAE;MACLqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,sBAAsB;MAC7BI,QAAQ,EAAE;QACR,SAAS,EAAE;UACTD,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,+BAA+B;UACtClB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,OAAO,EAAE;UACPqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,iCAAiC;UACxClB,MAAM,EAAE,CAAC,CAAC;QACZ;MACF;IACF,CAAC;IACD,KAAK,EAAE;MACLqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,yBAAyB;MAChCI,QAAQ,EAAE;QACR,OAAO,EAAE;UACPD,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,kCAAkC;UACzClB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,KAAK,EAAE;UACLqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,0BAA0B;UACjClB,MAAM,EAAE,CAAC,CAAC;QACZ;MACF;IACF,CAAC;IACD,MAAM,EAAE;MACNqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,sBAAsB;MAC7BI,QAAQ,EAAE;QACR,MAAM,EAAE;UACND,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,kCAAkC;UACzClB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,MAAM,EAAE;UACNqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,0BAA0B;UACjClB,MAAM,EAAE,CAAC,CAAC;QACZ;MACF;IACF,CAAC;IACD,IAAI,EAAE;MACJqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,qBAAqB;MAC5BI,QAAQ,EAAE;QACR,MAAM,EAAE;UACND,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,wBAAwB;UAC/BlB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,SAAS,EAAE;UACTqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,yBAAyB;UAChClB,MAAM,EAAE,CAAC,CAAC;QACZ;MACF;IACF,CAAC;IACD,MAAM,EAAE;MACNqB,IAAI,EAAE,UAAU;MAChBH,KAAK,EAAE,gCAAgC;MACvCI,QAAQ,EAAE;QACR,KAAK,EAAE;UACLD,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,oBAAoB;UAC3BlB,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC;QACf,CAAC;QACD,IAAI,EAAE;UACJqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,wBAAwB;UAC/BlB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,OAAO,EAAE;UACPqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,gBAAgB;UACvBlB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,IAAI,EAAE;UACJqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,iBAAiB;UACxBlB,MAAM,EAAE,CAAC,CAAC;QACZ,CAAC;QACD,UAAU,EAAE;UACVqB,IAAI,EAAE,aAAa;UACnBH,KAAK,EAAE,wBAAwB;UAC/BlB,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC;QACf;MACF;IACF;EACF,CAAC;;EAED;EACA,MAAMuB,4BAA4B,GAAIC,KAAK,IAAK;IAC9C,IAAI,CAACA,KAAK,EAAE,OAAO,IAAI;IAEvB,MAAMC,UAAU,GAAGD,KAAK,CAACE,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAC7C,MAAMC,OAAO,GAAG,EAAE;IAElBC,MAAM,CAACC,IAAI,CAACV,mBAAmB,CAAC,CAACW,OAAO,CAACC,GAAG,IAAI;MAC9C,IAAIA,GAAG,CAACC,QAAQ,CAACR,UAAU,CAAC,IAAIL,mBAAmB,CAACY,GAAG,CAAC,CAACd,KAAK,CAACQ,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACR,UAAU,CAAC,EAAE;QACjGG,OAAO,CAACM,IAAI,CAAC;UACXF,GAAG,EAAEA,GAAG;UACRG,IAAI,EAAEf,mBAAmB,CAACY,GAAG,CAAC;UAC9BI,IAAI,EAAE,CAACJ,GAAG;QACZ,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;IAEF,OAAOJ,OAAO;EAChB,CAAC;;EAED;EACA,MAAMS,cAAc,GAAG,CACrB;IACEpD,EAAE,EAAE,gBAAgB;IACpBiC,KAAK,EAAE,wBAAwB;IAC/BoB,WAAW,EAAE,mCAAmC;IAChDjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE;EACX,CAAC,EACD;IACEvD,EAAE,EAAE,WAAW;IACfiC,KAAK,EAAE,uCAAuC;IAC9CoB,WAAW,EAAE,iCAAiC;IAC9CjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE;EACX,CAAC,EACD;IACEvD,EAAE,EAAE,SAAS;IACbiC,KAAK,EAAE,eAAe;IACtBoB,WAAW,EAAE,kBAAkB;IAC/BjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE;EACX,CAAC,EACD;IACEvD,EAAE,EAAE,kBAAkB;IACtBiC,KAAK,EAAE,sCAAsC;IAC7CoB,WAAW,EAAE,0BAA0B;IACvCjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,KAAK;IACfC,OAAO,EAAE;EACX,CAAC,EACD;IACEvD,EAAE,EAAE,gBAAgB;IACpBiC,KAAK,EAAE,+BAA+B;IACtCoB,WAAW,EAAE,kBAAkB;IAC/BjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,KAAK;IACfC,OAAO,EAAE;EACX,CAAC,EACD;IACEvD,EAAE,EAAE,aAAa;IACjBiC,KAAK,EAAE,sCAAsC;IAC7CoB,WAAW,EAAE,iBAAiB;IAC9BjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE;EACX,CAAC,EACD;IACEvD,EAAE,EAAE,gBAAgB;IACpBiC,KAAK,EAAE,4CAA4C;IACnDoB,WAAW,EAAE,oBAAoB;IACjCjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE;EACX,CAAC,EACD;IACEvD,EAAE,EAAE,mBAAmB;IACvBiC,KAAK,EAAE,mDAAmD;IAC1DoB,WAAW,EAAE,yBAAyB;IACtCjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE;EACX,CAAC,EACD;IACEvD,EAAE,EAAE,oBAAoB;IACxBiC,KAAK,EAAE,yCAAyC;IAChDoB,WAAW,EAAE,oBAAoB;IACjCjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,KAAK;IACfC,OAAO,EAAE;EACX,CAAC,EACD;IACEvD,EAAE,EAAE,oBAAoB;IACxBiC,KAAK,EAAE,mCAAmC;IAC1CoB,WAAW,EAAE,sBAAsB;IACnCjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,KAAK;IACfC,OAAO,EAAE;EACX,CAAC,EACD;IACEvD,EAAE,EAAE,sBAAsB;IAC1BiC,KAAK,EAAE,kCAAkC;IACzCoB,WAAW,EAAE,gBAAgB;IAC7BjB,IAAI,EAAE,UAAU;IAChBkB,QAAQ,EAAE,KAAK;IACfC,OAAO,EAAE;EACX,CAAC,CACF;EAED,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGtG,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAMuG,WAAW,GAAIC,IAAI,IAAK;IAC5B,IAAIA,IAAI,IAAIA,IAAI,CAACvB,IAAI,KAAK,iBAAiB,EAAE;MAC3C5D,eAAe,CAACmF,IAAI,CAAC;MACrBjF,eAAe,CAAC,IAAI,CAAC;MAErBkF,UAAU,CAAC,MAAM;QACf;QACA,IAAID,IAAI,CAACE,IAAI,CAACb,QAAQ,CAAC,OAAO,CAAC,EAAE;UAC/B,MAAMc,SAAS,GAAG,CAAC,CAAC;UACpBV,cAAc,CAACN,OAAO,CAACiB,CAAC,IAAI;YAC1B,IAAIA,CAAC,CAACR,OAAO,EAAE;cACbO,SAAS,CAACC,CAAC,CAAC/D,EAAE,CAAC,GAAG+D,CAAC,CAACR,OAAO;YAC7B;UACF,CAAC,CAAC;UACF3E,WAAW,CAACkF,SAAS,CAAC;QACxB,CAAC,MAAM;UACLlF,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE;QACpB;QACAF,eAAe,CAAC,KAAK,CAAC;QACtBJ,cAAc,CAAC,MAAM,CAAC;MACxB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,MAAM;MACL0F,KAAK,CAAC,qBAAqB,CAAC;IAC9B;EACF,CAAC;EAED,MAAMC,gBAAgB,GAAIC,CAAC,IAAK;IAC9B,MAAMP,IAAI,GAAGO,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9BV,WAAW,CAACC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMU,cAAc,GAAIH,CAAC,IAAK;IAC5BA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClBJ,CAAC,CAACK,eAAe,CAAC,CAAC;IACnBd,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,MAAMe,eAAe,GAAIN,CAAC,IAAK;IAC7BA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClBJ,CAAC,CAACK,eAAe,CAAC,CAAC;IACnBd,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;EAED,MAAMgB,UAAU,GAAIP,CAAC,IAAK;IACxBA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClBJ,CAAC,CAACK,eAAe,CAAC,CAAC;IACnBd,aAAa,CAAC,KAAK,CAAC;IAEpB,MAAME,IAAI,GAAGO,CAAC,CAACQ,YAAY,CAACN,KAAK,CAAC,CAAC,CAAC;IACpCV,WAAW,CAACC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMgB,iBAAiB,GAAGA,CAAC3E,EAAE,EAAE4E,KAAK,KAAK;IACvChG,WAAW,CAACiG,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAAC7E,EAAE,GAAG4E;IAAM,CAAC,CAAC,CAAC;EACjD,CAAC;EAED,MAAME,YAAY,GAAGA,CAAA,KAAM;IACzB;IACA,MAAMC,QAAQ,GAAG;MACf/E,EAAE,EAAEgF,IAAI,CAACC,GAAG,CAAC,CAAC;MACd1D,KAAK,EAAEhD,YAAY,GAAGA,YAAY,CAACsF,IAAI,CAACqB,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,MAAM;MACpE1D,OAAO,EAAE,oBAAoB;MAC7BC,OAAO,EAAE,cAAc;MACvBpC,IAAI,EAAE,IAAI2F,IAAI,CAAC,CAAC,CAACG,WAAW,CAAC,CAAC;MAC9BlG,KAAK,EAAE,0BAA0B;MACjCC,MAAM,EAAE,0BAA0B;MAClCE,QAAQ,EAAE,QAAQ;MAClBD,WAAW,EAAE,oBAAoB;MACjCuC,cAAc,EAAE/C,QAAQ,CAAC+C,cAAc,IAAI,gBAAgB;MAC3DC,qBAAqB,EAAEhD,QAAQ,CAACyG,cAAc,IAAI,SAAS;MAC3DxD,WAAW,EAAEjD,QAAQ,CAACiD,WAAW,IAAI,WAAW;MAChDC,cAAc,EAAElD,QAAQ,CAACkD,cAAc,IAAI,EAAE;MAC7CtD,YAAY,EAAEA,YAAY;MAC1BI,QAAQ,EAAEA,QAAQ;MAClB0G,aAAa,EAAEpE,qBAAqB;MACpCE,OAAO,EAAEA;IACX,CAAC;;IAED;IACAH,SAAS,CAACsE,UAAU,IAAI,CAACP,QAAQ,EAAE,GAAGO,UAAU,CAAC,CAAC;;IAElD;IACA1G,WAAW,CAAC,CAAC,CAAC,CAAC;IACfJ,eAAe,CAAC,IAAI,CAAC;IACrB0C,wBAAwB,CAAC,EAAE,CAAC;IAC5BE,UAAU,CAAC,EAAE,CAAC;IACd9C,cAAc,CAAC,QAAQ,CAAC;EAC1B,CAAC;EAED,MAAMiH,YAAY,GAAGA,CAACC,QAAQ,EAAEZ,KAAK,KAAK;IACxChE,kBAAkB,CAACiE,IAAI,IAAI;MACzB,MAAMY,OAAO,GAAGZ,IAAI,CAACW,QAAQ,CAAC;MAC9B,MAAME,OAAO,GAAGD,OAAO,CAACzC,QAAQ,CAAC4B,KAAK,CAAC,GACnCa,OAAO,CAACE,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKhB,KAAK,CAAC,GAChC,CAAC,GAAGa,OAAO,EAAEb,KAAK,CAAC;MACvB,OAAO;QAAE,GAAGC,IAAI;QAAE,CAACW,QAAQ,GAAGE;MAAQ,CAAC;IACzC,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,cAAc,GAAG9E,MAAM,CAAC4E,MAAM,CAACG,KAAK,IAAI;IAC5C,MAAMC,aAAa,GAAGlH,WAAW,KAAK,EAAE,IACtCiH,KAAK,CAACvE,KAAK,CAACkB,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACnE,WAAW,CAAC4D,WAAW,CAAC,CAAC,CAAC,IAC7DqD,KAAK,CAACtE,OAAO,CAACiB,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACnE,WAAW,CAAC4D,WAAW,CAAC,CAAC,CAAC,IAC/DqD,KAAK,CAACrE,OAAO,CAACgB,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACnE,WAAW,CAAC4D,WAAW,CAAC,CAAC,CAAC,IAC/DqD,KAAK,CAACpE,cAAc,CAACe,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACnE,WAAW,CAAC4D,WAAW,CAAC,CAAC,CAAC,IACtEqD,KAAK,CAACnE,qBAAqB,CAACc,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACnE,WAAW,CAAC4D,WAAW,CAAC,CAAC,CAAC,IAC7EqD,KAAK,CAAClE,WAAW,CAACa,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACnE,WAAW,CAAC4D,WAAW,CAAC,CAAC,CAAC,IACnEqD,KAAK,CAAC7G,KAAK,CAACwD,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACnE,WAAW,CAAC4D,WAAW,CAAC,CAAC,CAAC,IAC7DqD,KAAK,CAAC5G,MAAM,CAACuD,WAAW,CAAC,CAAC,CAACO,QAAQ,CAACnE,WAAW,CAAC4D,WAAW,CAAC,CAAC,CAAC;IAEhE,MAAMuD,YAAY,GAAGrF,eAAe,CAAC1B,KAAK,CAAC8C,MAAM,KAAK,CAAC,IAAIpB,eAAe,CAAC1B,KAAK,CAAC+D,QAAQ,CAAC8C,KAAK,CAAC7G,KAAK,CAAC;IACtG,MAAMgH,aAAa,GAAGtF,eAAe,CAACzB,MAAM,CAAC6C,MAAM,KAAK,CAAC,IAAIpB,eAAe,CAACzB,MAAM,CAAC8D,QAAQ,CAAC8C,KAAK,CAAC5G,MAAM,CAAC;IAC1G,MAAMgH,kBAAkB,GAAGvF,eAAe,CAACxB,WAAW,CAAC4C,MAAM,KAAK,CAAC,IAAIpB,eAAe,CAACxB,WAAW,CAAC6D,QAAQ,CAAC8C,KAAK,CAAC3G,WAAW,CAAC;IAC9H,MAAMgH,eAAe,GAAGxF,eAAe,CAACvB,QAAQ,CAAC2C,MAAM,KAAK,CAAC,IAAIpB,eAAe,CAACvB,QAAQ,CAAC4D,QAAQ,CAAC8C,KAAK,CAAC1G,QAAQ,CAAC;IAClH,MAAMgH,WAAW,GAAGzF,eAAe,CAACtB,IAAI,CAAC0C,MAAM,KAAK,CAAC,IAAIpB,eAAe,CAACtB,IAAI,CAAC2D,QAAQ,CAAC8C,KAAK,CAACzG,IAAI,CAAC;IAElG,OAAO0G,aAAa,IAAIC,YAAY,IAAIC,aAAa,IAAIC,kBAAkB,IAAIC,eAAe,IAAIC,WAAW;EAC/G,CAAC,CAAC;;EAEF;EACA,IAAI/H,WAAW,KAAK,QAAQ,EAAE;IAC5B,oBACEN,OAAA;MAAKsI,SAAS,EAAC,uBAAuB;MAAAC,QAAA,eACpCvI,OAAA;QAAKsI,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBAEjCvI,OAAA;UAAKsI,SAAS,EAAC,6CAA6C;UAAAC,QAAA,eAC1DvI,OAAA;YAAKsI,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrDvI,OAAA;cAAIsI,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAEjD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL3I,OAAA;cAAKsI,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBvI,OAAA;gBACE4I,OAAO,EAAEA,CAAA,KAAMrI,cAAc,CAAC,QAAQ,CAAE;gBACxC+H,SAAS,EAAC,iEAAiE;gBAAAC,QAAA,EAC5E;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT3I,OAAA;gBAAQsI,SAAS,EAAC,8EAA8E;gBAAAC,QAAA,EAAC;cAEjG;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN3I,OAAA;UAAKsI,SAAS,EAAC,uBAAuB;UAAAC,QAAA,gBACpCvI,OAAA;YAAKsI,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBvI,OAAA;cAAIsI,SAAS,EAAC,wCAAwC;cAAAC,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtE3I,OAAA;cAAGsI,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC,eAEN3I,OAAA;YAAKsI,SAAS,EAAC,mDAAmD;YAAAC,QAAA,gBAChEvI,OAAA;cACE6I,UAAU,EAAEvC,cAAe;cAC3BwC,WAAW,EAAErC,eAAgB;cAC7BsC,MAAM,EAAErC,UAAW;cACnB4B,SAAS,EAAE,qEACT7C,UAAU,GACN,4BAA4B,GAC5B,8CAA8C,EACjD;cAAA8C,QAAA,gBAEHvI,OAAA,CAACX,MAAM;gBAACiJ,SAAS,EAAE,4CACjB7C,UAAU,GAAG,eAAe,GAAG,eAAe;cAC7C;gBAAA+C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACN3I,OAAA;gBAAIsI,SAAS,EAAC,2CAA2C;gBAAAC,QAAA,EACtD9C,UAAU,GAAG,eAAe,GAAG;cAAa;gBAAA+C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3C,CAAC,eACL3I,OAAA;gBAAGsI,SAAS,EAAC,sCAAsC;gBAAAC,QAAA,EAChD9C,UAAU,gBACTzF,OAAA;kBAAMsI,SAAS,EAAC,6BAA6B;kBAAAC,QAAA,EAAC;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,gBAE9D3I,OAAA,CAAAE,SAAA;kBAAAqI,QAAA,GAAE,oLACiC,eAAAvI,OAAA;oBAAAwI,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACtC3I,OAAA;oBAAMsI,SAAS,EAAC,SAAS;oBAAAC,QAAA,EAAC;kBAAoC;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA,eACrE;cACH;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eAEJ3I,OAAA;gBAAOsI,SAAS,EAAC,cAAc;gBAAAC,QAAA,gBAC7BvI,OAAA;kBACEqE,IAAI,EAAC,MAAM;kBACX2E,MAAM,EAAC,MAAM;kBACbC,QAAQ,EAAE/C,gBAAiB;kBAC3BoC,SAAS,EAAC;gBAAQ;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC,eACF3I,OAAA;kBAAMsI,SAAS,EAAC,oGAAoG;kBAAAC,QAAA,EAAC;gBAErH;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CAAC,EAEPnI,YAAY,iBACXR,OAAA;gBAAKsI,SAAS,EAAC,oFAAoF;gBAAAC,QAAA,gBACjGvI,OAAA,CAACT,QAAQ;kBAAC+I,SAAS,EAAC;gBAAsB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAC7C3I,OAAA;kBAAMsI,SAAS,EAAC,6BAA6B;kBAAAC,QAAA,EAAE/H,YAAY,CAACsF;gBAAI;kBAAA0C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrE,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,EAELjI,YAAY,iBACXV,OAAA;cAAKsI,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChCvI,OAAA,CAACP,MAAM;gBAAC6I,SAAS,EAAC;cAAkD;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACvE3I,OAAA;gBAAGsI,SAAS,EAAC,0CAA0C;gBAAAC,QAAA,EAAC;cAExD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eACJ3I,OAAA;gBAAGsI,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAErC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGN3I,OAAA;YAAKsI,SAAS,EAAC,uDAAuD;YAAAC,QAAA,gBACpEvI,OAAA;cAAIsI,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChE3I,OAAA;cAAIsI,SAAS,EAAC,iCAAiC;cAAAC,QAAA,gBAC7CvI,OAAA;gBAAIsI,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,gBACpCvI,OAAA;kBAAMsI,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC7C3I,OAAA;kBAAAuI,QAAA,EAAM;gBAAuB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClC,CAAC,eACL3I,OAAA;gBAAIsI,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,gBACpCvI,OAAA;kBAAMsI,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC7C3I,OAAA;kBAAAuI,QAAA,EAAM;gBAA0B;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrC,CAAC,eACL3I,OAAA;gBAAIsI,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,gBACpCvI,OAAA;kBAAMsI,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC7C3I,OAAA;kBAAAuI,QAAA,EAAM;gBAAoB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/B,CAAC,eACL3I,OAAA;gBAAIsI,SAAS,EAAC,wBAAwB;gBAAAC,QAAA,gBACpCvI,OAAA;kBAAMsI,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC7C3I,OAAA;kBAAAuI,QAAA,EAAM;gBAAmB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,IAAIrI,WAAW,KAAK,MAAM,EAAE;IAC1B,oBACEN,OAAA;MAAKsI,SAAS,EAAC,uBAAuB;MAAAC,QAAA,eACpCvI,OAAA;QAAKsI,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBAEjCvI,OAAA;UAAKsI,SAAS,EAAC,6CAA6C;UAAAC,QAAA,eAC1DvI,OAAA;YAAKsI,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrDvI,OAAA;cAAIsI,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAEjD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL3I,OAAA;cAAKsI,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBvI,OAAA;gBACE4I,OAAO,EAAEA,CAAA,KAAMrI,cAAc,CAAC,QAAQ,CAAE;gBACxC+H,SAAS,EAAC,iEAAiE;gBAAAC,QAAA,EAC5E;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT3I,OAAA;gBAAQsI,SAAS,EAAC,8EAA8E;gBAAAC,QAAA,EAAC;cAEjG;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN3I,OAAA;UAAKsI,SAAS,EAAC,uBAAuB;UAAAC,QAAA,eACpCvI,OAAA;YAAKsI,SAAS,EAAC,gDAAgD;YAAAC,QAAA,gBAC/DvI,OAAA;cAAKsI,SAAS,EAAC,MAAM;cAAAC,QAAA,gBACnBvI,OAAA;gBAAIsI,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,EAAC;cAEtD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACL3I,OAAA;gBAAGsI,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAiC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/D,CAAC,EAGL3F,MAAM,CAACgB,MAAM,GAAG,CAAC,iBAChBhE,OAAA;cAAKsI,SAAS,EAAC,yDAAyD;cAAAC,QAAA,gBACtEvI,OAAA;gBAAKsI,SAAS,EAAC,8BAA8B;gBAAAC,QAAA,gBAC3CvI,OAAA,CAACF,KAAK;kBAACwI,SAAS,EAAC;gBAAuB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAC3C3I,OAAA;kBAAIsI,SAAS,EAAC,iCAAiC;kBAAAC,QAAA,EAAC;gBAEhD;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CAAC,eACN3I,OAAA;gBAAGsI,SAAS,EAAC,4BAA4B;gBAAAC,QAAA,EAAC;cAE1C;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eACJ3I,OAAA;gBAAKsI,SAAS,EAAC,oCAAoC;gBAAAC,QAAA,EAChDvF,MAAM,CAACkG,GAAG,CAACnB,KAAK,IAAI;kBACnB,MAAMoB,gBAAgB,GAAGjG,qBAAqB,CAACkG,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,KAAKvB,KAAK,CAAC9F,EAAE,CAAC;kBAChF,oBACEjC,OAAA;oBAAoBsI,SAAS,EAAC,qEAAqE;oBAAAC,QAAA,gBACjGvI,OAAA;sBACEqE,IAAI,EAAC,UAAU;sBACfkF,OAAO,EAAE,CAAC,CAACJ,gBAAiB;sBAC5BF,QAAQ,EAAG9C,CAAC,IAAK;wBACf,IAAIA,CAAC,CAACC,MAAM,CAACmD,OAAO,EAAE;0BACpBpG,wBAAwB,CAAC,CAAC,GAAGD,qBAAqB,EAAE;4BAClDoG,OAAO,EAAEvB,KAAK,CAAC9F,EAAE;4BACjBuH,gBAAgB,EAAE;0BACpB,CAAC,CAAC,CAAC;wBACL,CAAC,MAAM;0BACLrG,wBAAwB,CAACD,qBAAqB,CAAC0E,MAAM,CAACyB,CAAC,IAAIA,CAAC,CAACC,OAAO,KAAKvB,KAAK,CAAC9F,EAAE,CAAC,CAAC;wBACrF;sBACF,CAAE;sBACFqG,SAAS,EAAC;oBAAyB;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACpC,CAAC,eACF3I,OAAA;sBAAKsI,SAAS,EAAC,QAAQ;sBAAAC,QAAA,gBACrBvI,OAAA;wBAAGsI,SAAS,EAAC,qCAAqC;wBAAAC,QAAA,EAAER,KAAK,CAACvE;sBAAK;wBAAAgF,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,eACpE3I,OAAA;wBAAGsI,SAAS,EAAC,uBAAuB;wBAAAC,QAAA,GAAER,KAAK,CAACrE,OAAO,EAAC,IAAE,EAACqE,KAAK,CAACzG,IAAI,EAAC,GAAC;sBAAA;wBAAAkH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAG,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACpE,CAAC,EACLQ,gBAAgB,iBACfnJ,OAAA;sBACE6G,KAAK,EAAEsC,gBAAgB,CAACK,gBAAiB;sBACzCP,QAAQ,EAAG9C,CAAC,IAAK;wBACfhD,wBAAwB,CAACD,qBAAqB,CAACgG,GAAG,CAACG,CAAC,IAClDA,CAAC,CAACC,OAAO,KAAKvB,KAAK,CAAC9F,EAAE,GAAG;0BAAE,GAAGoH,CAAC;0BAAEG,gBAAgB,EAAErD,CAAC,CAACC,MAAM,CAACS;wBAAM,CAAC,GAAGwC,CACxE,CAAC,CAAC;sBACJ,CAAE;sBACFf,SAAS,EAAC,gEAAgE;sBAAAC,QAAA,EAEzEjF,iBAAiB,CAAC4F,GAAG,CAAC7E,IAAI,iBACzBrE,OAAA;wBAAmB6G,KAAK,EAAExC,IAAK;wBAAAkE,QAAA,EAAElE;sBAAI,GAAxBA,IAAI;wBAAAmE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAA6B,CAC/C;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACI,CACT;kBAAA,GAlCOZ,KAAK,CAAC9F,EAAE;oBAAAuG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAmCb,CAAC;gBAEV,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN,eAED3I,OAAA;cAAKsI,SAAS,EAAC,8CAA8C;cAAAC,QAAA,EAC1DlD,cAAc,CAAC6D,GAAG,CAAEO,QAAQ,iBAC3BzJ,OAAA;gBAAuBsI,SAAS,EAAC,eAAe;gBAAAC,QAAA,gBAC9CvI,OAAA;kBAAOsI,SAAS,EAAC,YAAY;kBAAAC,QAAA,eAC3BvI,OAAA;oBAAMsI,SAAS,EAAC,qCAAqC;oBAAAC,QAAA,GAClDkB,QAAQ,CAACvF,KAAK,EACduF,QAAQ,CAAClE,QAAQ,iBAAIvF,OAAA;sBAAMsI,SAAS,EAAC,mBAAmB;sBAAAC,QAAA,EAAC;oBAAC;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC9D;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF,CAAC,eACR3I,OAAA;kBACE6G,KAAK,EAAEjG,QAAQ,CAAC6I,QAAQ,CAACxH,EAAE,CAAC,IAAI,EAAG;kBACnCgH,QAAQ,EAAG9C,CAAC,IAAKS,iBAAiB,CAAC6C,QAAQ,CAACxH,EAAE,EAAEkE,CAAC,CAACC,MAAM,CAACS,KAAK,CAAE;kBAChEvB,WAAW,EAAEmE,QAAQ,CAACnE,WAAY;kBAClCgD,SAAS,EAAC,oHAAoH;kBAC9H/C,QAAQ,EAAEkE,QAAQ,CAAClE;gBAAS;kBAAAiD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7B,CAAC,eACF3I,OAAA;kBAAGsI,SAAS,EAAC,4BAA4B;kBAAAC,QAAA,EAAC;gBAE1C;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA,GAhBIc,QAAQ,CAACxH,EAAE;gBAAAuG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAiBhB,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAEN3I,OAAA;cAAKsI,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBAC9BvI,OAAA;gBACE4I,OAAO,EAAEA,CAAA,KAAMrI,cAAc,CAAC,QAAQ,CAAE;gBACxC+H,SAAS,EAAC,uFAAuF;gBAAAC,QAAA,EAClG;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT3I,OAAA;gBACE4I,OAAO,EAAE7B,YAAa;gBACtBuB,SAAS,EAAC,+EAA+E;gBAAAC,QAAA,EAC1F;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,IAAIrI,WAAW,KAAK,gBAAgB,EAAE;IACpC,oBACEN,OAAA;MAAKsI,SAAS,EAAC,yBAAyB;MAAAC,QAAA,eACtCvI,OAAA;QAAKsI,SAAS,EAAC,uBAAuB;QAAAC,QAAA,gBAEpCvI,OAAA;UAAKsI,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBvI,OAAA;YAAKsI,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrDvI,OAAA;cAAIsI,SAAS,EAAC,mCAAmC;cAAAC,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC3D3I,OAAA;cACE4I,OAAO,EAAEA,CAAA,KAAMrI,cAAc,CAAC,QAAQ,CAAE;cACxC+H,SAAS,EAAC,qDAAqD;cAAAC,QAAA,EAChE;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eACN3I,OAAA;YAAQsI,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrE,CAAC,eAGN3I,OAAA;UAAKsI,SAAS,EAAC,iCAAiC;UAAAC,QAAA,gBAC9CvI,OAAA;YAAQsI,SAAS,EAAC,iEAAiE;YAAAC,QAAA,EAAC;UAEpF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT3I,OAAA;YAAQsI,SAAS,EAAC,qDAAqD;YAAAC,QAAA,EAAC;UAExE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAGN3I,OAAA;UAAKsI,SAAS,EAAC,qDAAqD;UAAAC,QAAA,gBAClEvI,OAAA;YAAIsI,SAAS,EAAC,wCAAwC;YAAAC,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAEnE5G,kBAAkB,CAACmH,GAAG,CAAC,CAACQ,GAAG,EAAEC,KAAK,kBACjC3J,OAAA;YAAkBsI,SAAS,EAAC,MAAM;YAAAC,QAAA,eAChCvI,OAAA;cAAKsI,SAAS,EAAC,qCAAqC;cAAAC,QAAA,GACjDoB,KAAK,GAAG,CAAC,iBACR3J,OAAA;gBAAKsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,gBACzBvI,OAAA;kBAAOsI,SAAS,EAAC,gDAAgD;kBAAAC,QAAA,EAAC;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC/E3I,OAAA;kBACE6G,KAAK,EAAE6C,GAAG,CAACxH,OAAQ;kBACnB+G,QAAQ,EAAG9C,CAAC,IAAK;oBACf,MAAMyD,OAAO,GAAG,CAAC,GAAG7H,kBAAkB,CAAC;oBACvC6H,OAAO,CAACD,KAAK,CAAC,CAACzH,OAAO,GAAGiE,CAAC,CAACC,MAAM,CAACS,KAAK;oBACvC7E,qBAAqB,CAAC4H,OAAO,CAAC;kBAChC,CAAE;kBACFtB,SAAS,EAAC,yDAAyD;kBAAAC,QAAA,gBAEnEvI,OAAA;oBAAQ6G,KAAK,EAAC,KAAK;oBAAA0B,QAAA,EAAC;kBAAG;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAChC3I,OAAA;oBAAQ6G,KAAK,EAAC,IAAI;oBAAA0B,QAAA,EAAC;kBAAE;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAC9B3I,OAAA;oBAAQ6G,KAAK,EAAC,KAAK;oBAAA0B,QAAA,EAAC;kBAAG;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAChC3I,OAAA;oBAAQ6G,KAAK,EAAC,QAAQ;oBAAA0B,QAAA,EAAC;kBAAM;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACtC3I,OAAA;oBAAQ6G,KAAK,EAAC,SAAS;oBAAA0B,QAAA,EAAC;kBAAO;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACxC3I,OAAA;oBAAQ6G,KAAK,EAAC,SAAS;oBAAA0B,QAAA,EAAC;kBAAO;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CACN,eAED3I,OAAA;gBAAKsI,SAAS,EAAEqB,KAAK,KAAK,CAAC,GAAG,YAAY,GAAG,YAAa;gBAAApB,QAAA,gBACxDvI,OAAA;kBAAOsI,SAAS,EAAC,gDAAgD;kBAAAC,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC9E3I,OAAA;kBACEqE,IAAI,EAAC,MAAM;kBACXwC,KAAK,EAAE6C,GAAG,CAACvH,IAAK;kBAChB8G,QAAQ,EAAG9C,CAAC,IAAK;oBACf,MAAMyD,OAAO,GAAG,CAAC,GAAG7H,kBAAkB,CAAC;oBACvC6H,OAAO,CAACD,KAAK,CAAC,CAACxH,IAAI,GAAGgE,CAAC,CAACC,MAAM,CAACS,KAAK;oBACpC7E,qBAAqB,CAAC4H,OAAO,CAAC;kBAChC,CAAE;kBACFtB,SAAS,EAAC,yDAAyD;kBACnEhD,WAAW,EAAC;gBAAe;kBAAAkD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAEN3I,OAAA;gBAAKsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,gBACzBvI,OAAA;kBAAOsI,SAAS,EAAC,gDAAgD;kBAAAC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACjF3I,OAAA;kBACE6G,KAAK,EAAE6C,GAAG,CAACxI,KAAM;kBACjB+H,QAAQ,EAAG9C,CAAC,IAAK;oBACf,MAAMyD,OAAO,GAAG,CAAC,GAAG7H,kBAAkB,CAAC;oBACvC6H,OAAO,CAACD,KAAK,CAAC,CAACzI,KAAK,GAAGiF,CAAC,CAACC,MAAM,CAACS,KAAK;oBACrC7E,qBAAqB,CAAC4H,OAAO,CAAC;kBAChC,CAAE;kBACFtB,SAAS,EAAC,yDAAyD;kBAAAC,QAAA,gBAEnEvI,OAAA;oBAAQ6G,KAAK,EAAC,KAAK;oBAAA0B,QAAA,EAAC;kBAAM;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACnC3I,OAAA;oBAAQ6G,KAAK,EAAC,OAAO;oBAAA0B,QAAA,EAAC;kBAAI;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACnC3I,OAAA;oBAAQ6G,KAAK,EAAC,QAAQ;oBAAA0B,QAAA,EAAC;kBAAE;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eAClC3I,OAAA;oBAAQ6G,KAAK,EAAC,UAAU;oBAAA0B,QAAA,EAAC;kBAAE;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACpC3I,OAAA;oBAAQ6G,KAAK,EAAC,SAAS;oBAAA0B,QAAA,EAAC;kBAAE;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,EAELgB,KAAK,GAAG,CAAC,iBACR3J,OAAA;gBAAKsI,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,eAC9BvI,OAAA;kBACE4I,OAAO,EAAEA,CAAA,KAAM;oBACb5G,qBAAqB,CAACD,kBAAkB,CAAC6F,MAAM,CAACyB,CAAC,IAAIA,CAAC,CAACpH,EAAE,KAAKyH,GAAG,CAACzH,EAAE,CAAC,CAAC;kBACxE,CAAE;kBACFqG,SAAS,EAAC,kCAAkC;kBAAAC,QAAA,eAE5CvI,OAAA,CAACH,CAAC;oBAACyI,SAAS,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UAAC,GAtEEe,GAAG,CAACzH,EAAE;YAAAuG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAuEX,CACN,CAAC,eAEF3I,OAAA;YACE4I,OAAO,EAAEA,CAAA,KAAM;cACb5G,qBAAqB,CAAC,CACpB,GAAGD,kBAAkB,EACrB;gBAAEE,EAAE,EAAEgF,IAAI,CAACC,GAAG,CAAC,CAAC;gBAAEhF,OAAO,EAAE,KAAK;gBAAEC,IAAI,EAAE,EAAE;gBAAEjB,KAAK,EAAE;cAAM,CAAC,CAC3D,CAAC;YACJ,CAAE;YACFoH,SAAS,EAAC,gGAAgG;YAAAC,QAAA,gBAE1GvI,OAAA;cAAMsI,SAAS,EAAC,SAAS;cAAAC,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,6BACpC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAGT3I,OAAA;YAAKsI,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBvI,OAAA;cAAOsI,SAAS,EAAC,gDAAgD;cAAAC,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACpF3I,OAAA;cAAQsI,SAAS,EAAC,uDAAuD;cAAAC,QAAA,gBACvEvI,OAAA;gBAAAuI,QAAA,EAAQ;cAAG;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACpB3I,OAAA;gBAAAuI,QAAA,EAAQ;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAEN3I,OAAA;YACE4I,OAAO,EAAEA,CAAA,KAAM;cACb;cACArI,cAAc,CAAC,QAAQ,CAAC;YAC1B,CAAE;YACF+H,SAAS,EAAC,6EAA6E;YAAAC,QAAA,EACxF;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAGN3I,OAAA;UAAKsI,SAAS,EAAC,gDAAgD;UAAAC,QAAA,gBAC7DvI,OAAA;YAAIsI,SAAS,EAAC,wCAAwC;YAAAC,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAGrE3I,OAAA;YAAKsI,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBvI,OAAA;cAAIsI,SAAS,EAAC,0CAA0C;cAAAC,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrE3I,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvB,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAACW,GAAG,CAAC7E,IAAI,iBAC3CrE,OAAA;gBAAkBsI,SAAS,EAAC,gDAAgD;gBAAAC,QAAA,gBAC1EvI,OAAA;kBACEqE,IAAI,EAAC,UAAU;kBACfkF,OAAO,EAAE7G,iBAAiB,CAACuC,QAAQ,CAACZ,IAAI,CAAE;kBAC1C4E,QAAQ,EAAEA,CAAA,KAAM;oBACdtG,oBAAoB,CAACmE,IAAI,IACvBA,IAAI,CAAC7B,QAAQ,CAACZ,IAAI,CAAC,GAAGyC,IAAI,CAACc,MAAM,CAACiC,CAAC,IAAIA,CAAC,KAAKxF,IAAI,CAAC,GAAG,CAAC,GAAGyC,IAAI,EAAEzC,IAAI,CACrE,CAAC;kBACH,CAAE;kBACFiE,SAAS,EAAC;gBAAwB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnC,CAAC,eACF3I,OAAA;kBAAMsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAElE;gBAAI;kBAAAmE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA,GAXnCtE,IAAI;gBAAAmE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAYT,CACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGN3I,OAAA;YAAKsI,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBvI,OAAA;cAAIsI,SAAS,EAAC,0CAA0C;cAAAC,QAAA,EAAC;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjE3I,OAAA;cAAKsI,SAAS,EAAC,yBAAyB;cAAAC,QAAA,gBACtCvI,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAOsI,SAAS,EAAC,kCAAkC;kBAAAC,QAAA,EAAC;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC/D3I,OAAA;kBACEqE,IAAI,EAAC,MAAM;kBACXwC,KAAK,EAAEvE,QAAS;kBAChB2G,QAAQ,EAAG9C,CAAC,IAAK5D,WAAW,CAAC4D,CAAC,CAACC,MAAM,CAACS,KAAK,CAAE;kBAC7CvB,WAAW,EAAC,YAAY;kBACxBgD,SAAS,EAAC;gBAAuD;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACN3I,OAAA;gBAAKsI,SAAS,EAAC,MAAM;gBAAAC,QAAA,eACnBvI,OAAA;kBAAMsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrC,CAAC,eACN3I,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAOsI,SAAS,EAAC,kCAAkC;kBAAAC,QAAA,EAAC;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAClE3I,OAAA;kBACEqE,IAAI,EAAC,MAAM;kBACXwC,KAAK,EAAErE,MAAO;kBACdyG,QAAQ,EAAG9C,CAAC,IAAK1D,SAAS,CAAC0D,CAAC,CAACC,MAAM,CAACS,KAAK,CAAE;kBAC3CvB,WAAW,EAAC,YAAY;kBACxBgD,SAAS,EAAC;gBAAuD;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGN3I,OAAA;YAAKsI,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBvI,OAAA;cAAIsI,SAAS,EAAC,0CAA0C;cAAAC,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvE3I,OAAA;cAAKsI,SAAS,EAAC,uEAAuE;cAAAC,QAAA,EACnF1D,MAAM,CAACiF,OAAO,CAAC7F,WAAW,CAAC,CAACiF,GAAG,CAAC,CAAC,CAAClE,GAAG,EAAE+E,UAAU,CAAC,kBACjD/J,OAAA;gBAAAuI,QAAA,eACEvI,OAAA;kBAAOsI,SAAS,EAAC,4EAA4E;kBAAAC,QAAA,gBAC3FvI,OAAA;oBACEqE,IAAI,EAAC,UAAU;oBACfkF,OAAO,EAAEnH,mBAAmB,CAAC6C,QAAQ,CAACD,GAAG,CAAE;oBAC3CiE,QAAQ,EAAEA,CAAA,KAAM;sBACd5G,sBAAsB,CAACyE,IAAI,IACzBA,IAAI,CAAC7B,QAAQ,CAACD,GAAG,CAAC,GAAG8B,IAAI,CAACc,MAAM,CAACoC,CAAC,IAAIA,CAAC,KAAKhF,GAAG,CAAC,GAAG,CAAC,GAAG8B,IAAI,EAAE9B,GAAG,CAClE,CAAC;oBACH,CAAE;oBACFsD,SAAS,EAAC;kBAA+B;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1C,CAAC,eACF3I,OAAA;oBAAAuI,QAAA,gBACEvI,OAAA;sBAAKsI,SAAS,EAAC,2BAA2B;sBAAAC,QAAA,EAAEwB,UAAU,CAAC7F;oBAAK;sBAAAsE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,EAClEvG,mBAAmB,CAAC6C,QAAQ,CAACD,GAAG,CAAC,iBAChChF,OAAA;sBAAKsI,SAAS,EAAC,qBAAqB;sBAAAC,QAAA,EACjCwB,UAAU,CAAC5F,QAAQ,CAAC+E,GAAG,CAACe,OAAO,iBAC9BjK,OAAA;wBAAmBsI,SAAS,EAAC,sDAAsD;wBAAAC,QAAA,EAChF0B;sBAAO,GADAA,OAAO;wBAAAzB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAEZ,CACN;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC,CACN;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACE,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD;cAAC,GAxBA3D,GAAG;gBAAAwD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAyBR,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN3I,OAAA;YACE4I,OAAO,EAAEA,CAAA,KAAM;cACbrI,cAAc,CAAC,QAAQ,CAAC;YAC1B,CAAE;YACF+H,SAAS,EAAC,wEAAwE;YAAAC,QAAA,EACnF;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,IAAIrI,WAAW,KAAK,QAAQ,IAAIwC,YAAY,EAAE;IAC5C,oBACE9C,OAAA;MAAKsI,SAAS,EAAC,uBAAuB;MAAAC,QAAA,eACpCvI,OAAA;QAAKsI,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBAEjCvI,OAAA;UAAKsI,SAAS,EAAC,6CAA6C;UAAAC,QAAA,eAC1DvI,OAAA;YAAKsI,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrDvI,OAAA;cAAIsI,SAAS,EAAC,kCAAkC;cAAAC,QAAA,EAAC;YAEjD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL3I,OAAA;cAAKsI,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBvI,OAAA;gBACE4I,OAAO,EAAEA,CAAA,KAAM7F,eAAe,CAAC,IAAI,CAAE;gBACrCuF,SAAS,EAAC,iEAAiE;gBAAAC,QAAA,EAC5E;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT3I,OAAA;gBAAQsI,SAAS,EAAC,8EAA8E;gBAAAC,QAAA,EAAC;cAEjG;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN3I,OAAA;UAAKsI,SAAS,EAAC,uBAAuB;UAAAC,QAAA,gBACpCvI,OAAA;YAAKsI,SAAS,EAAC,gDAAgD;YAAAC,QAAA,gBAE7DvI,OAAA;cAAKsI,SAAS,EAAC,MAAM;cAAAC,QAAA,gBACnBvI,OAAA;gBAAMsI,SAAS,EAAC,+CAA+C;gBAAAC,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC3E3I,OAAA;gBAAIsI,SAAS,EAAC,6CAA6C;gBAAAC,QAAA,EACxDzF,YAAY,CAACU;cAAK;gBAAAgF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjB,CAAC,eACL3I,OAAA;gBAAGsI,SAAS,EAAC,4BAA4B;gBAAAC,QAAA,EAAEzF,YAAY,CAACW;cAAO;gBAAA+E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpE3I,OAAA;gBAAGsI,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,GAAC,gBAAI,EAACzF,YAAY,CAACY,OAAO;cAAA;gBAAA8E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChE3I,OAAA;gBAAGsI,SAAS,EAAC,8BAA8B;gBAAAC,QAAA,GAAC,kCACV,EAACzF,YAAY,CAACb,EAAE,EAAC,WAAS,EAACa,YAAY,CAACxB,IAAI,EAAC,aAC/E;cAAA;gBAAAkH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,eAGN3I,OAAA;cAAKsI,SAAS,EAAC,+CAA+C;cAAAC,QAAA,gBAC5DvI,OAAA;gBACE4I,OAAO,EAAEA,CAAA,KAAM;kBACb,IAAI9F,YAAY,CAACtC,YAAY,EAAE;oBAC7B,MAAM0J,OAAO,GAAGC,GAAG,CAACC,eAAe,CAACtH,YAAY,CAACtC,YAAY,CAAC;oBAC9D6J,MAAM,CAACC,IAAI,CAACJ,OAAO,EAAE,QAAQ,CAAC;kBAChC,CAAC,MAAM;oBACLjE,KAAK,CAAC,sBAAsB,CAAC;kBAC/B;gBACF,CAAE;gBACFqC,SAAS,EAAC,wEAAwE;gBAAAC,QAAA,EACnF;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT3I,OAAA;gBAAQsI,SAAS,EAAC,uFAAuF;gBAAAC,QAAA,EAAC;cAE1G;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT3I,OAAA;gBAAQsI,SAAS,EAAC,uFAAuF;gBAAAC,QAAA,EAAC;cAE1G;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eAGN3I,OAAA;cAAKsI,SAAS,EAAC,6BAA6B;cAAAC,QAAA,gBAC1CvI,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAClE3I,OAAA;kBAAGsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAEzF,YAAY,CAAC5B;gBAAK;kBAAAsH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClD,CAAC,eACN3I,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAClE3I,OAAA;kBAAGsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAEzF,YAAY,CAAC3B;gBAAM;kBAAAqH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CAAC,eACN3I,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACpE3I,OAAA;kBAAGsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAEzF,YAAY,CAACzB;gBAAQ;kBAAAmH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrD,CAAC,eACN3I,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAClE3I,OAAA;kBAAGsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAEzF,YAAY,CAAC1B;gBAAW;kBAAAoH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EAGL7F,YAAY,CAAClC,QAAQ,iBACpBZ,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACxBvI,OAAA;gBAAIsI,SAAS,EAAC,uEAAuE;gBAAAC,QAAA,EAAC;cAEtF;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAEL3I,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAClE3I,OAAA;kBAAGsI,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAAEzF,YAAY,CAACa;gBAAc;kBAAA6E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3E,CAAC,EAEL7F,YAAY,CAAClC,QAAQ,CAAC2J,SAAS,iBAC9BvK,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACtE3I,OAAA;kBAAGsI,SAAS,EAAC,mDAAmD;kBAAAC,QAAA,EAAEzF,YAAY,CAAClC,QAAQ,CAAC2J;gBAAS;kBAAA/B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnG,CACN,EAEA7F,YAAY,CAAClC,QAAQ,CAAC4J,OAAO,iBAC5BxK,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACjE3I,OAAA;kBAAGsI,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAAEzF,YAAY,CAAClC,QAAQ,CAAC4J;gBAAO;kBAAAhC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7E,CACN,EAEA7F,YAAY,CAAClC,QAAQ,CAAC6J,gBAAgB,iBACrCzK,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAM;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACpE3I,OAAA;kBAAGsI,SAAS,EAAC,mDAAmD;kBAAAC,QAAA,EAAEzF,YAAY,CAAClC,QAAQ,CAAC6J;gBAAgB;kBAAAjC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1G,CACN,EAEA7F,YAAY,CAACgB,cAAc,iBAC1B9D,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACvE3I,OAAA;kBAAGsI,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAAEzF,YAAY,CAACgB;gBAAc;kBAAA0E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3E,CACN,EAEA7F,YAAY,CAACe,WAAW,iBACvB7D,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACvE3I,OAAA;kBAAGsI,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAAEzF,YAAY,CAACe;gBAAW;kBAAA2E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxE,CACN,EAEA7F,YAAY,CAACc,qBAAqB,iBACjC5D,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACrE3I,OAAA;kBAAGsI,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAAEzF,YAAY,CAACc;gBAAqB;kBAAA4E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClF,CACN,EAEA7F,YAAY,CAAClC,QAAQ,CAAC8J,iBAAiB,iBACtC1K,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAkB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChF3I,OAAA;kBAAGsI,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAAEzF,YAAY,CAAClC,QAAQ,CAAC8J;gBAAiB;kBAAAlC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvF,CACN,EAEA7F,YAAY,CAAClC,QAAQ,CAAC+J,kBAAkB,iBACvC3K,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAO;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACrE3I,OAAA;kBAAGsI,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAAEzF,YAAY,CAAClC,QAAQ,CAAC+J;gBAAkB;kBAAAnC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxF,CACN,EAEA7F,YAAY,CAAClC,QAAQ,CAACgK,kBAAkB,iBACvC5K,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACvE3I,OAAA;kBAAGsI,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAAEzF,YAAY,CAAClC,QAAQ,CAACgK;gBAAkB;kBAAApC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxF,CACN,EAEA7F,YAAY,CAAClC,QAAQ,CAACiK,oBAAoB,iBACzC7K,OAAA;gBAAAuI,QAAA,gBACEvI,OAAA;kBAAIsI,SAAS,EAAC,0CAA0C;kBAAAC,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACtE3I,OAAA;kBAAGsI,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAAEzF,YAAY,CAAClC,QAAQ,CAACiK;gBAAoB;kBAAArC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1F,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CACN,EAGA7F,YAAY,CAACwE,aAAa,IAAIxE,YAAY,CAACwE,aAAa,CAACtD,MAAM,GAAG,CAAC,iBAClEhE,OAAA;cAAKsI,SAAS,EAAC,sCAAsC;cAAAC,QAAA,gBACnDvI,OAAA;gBAAIsI,SAAS,EAAC,+DAA+D;gBAAAC,QAAA,gBAC3EvI,OAAA,CAACF,KAAK;kBAACwI,SAAS,EAAC;gBAAuB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,6CAE7C;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACL3I,OAAA;gBAAKsI,SAAS,EAAC,WAAW;gBAAAC,QAAA,EACvBzF,YAAY,CAACwE,aAAa,CAAC4B,GAAG,CAAC4B,QAAQ,IAAI;kBAC1C,MAAMC,YAAY,GAAG/H,MAAM,CAACoG,IAAI,CAAC4B,CAAC,IAAIA,CAAC,CAAC/I,EAAE,KAAK6I,QAAQ,CAACxB,OAAO,CAAC;kBAChE,OAAOyB,YAAY,gBACjB/K,OAAA;oBAA4BsI,SAAS,EAAC,mDAAmD;oBAAAC,QAAA,eACvFvI,OAAA;sBAAKsI,SAAS,EAAC,kCAAkC;sBAAAC,QAAA,gBAC/CvI,OAAA;wBAAKsI,SAAS,EAAC,QAAQ;wBAAAC,QAAA,gBACrBvI,OAAA;0BAAGsI,SAAS,EAAC,6BAA6B;0BAAAC,QAAA,EAAEwC,YAAY,CAACvH;wBAAK;0BAAAgF,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAI,CAAC,eACnE3I,OAAA;0BAAGsI,SAAS,EAAC,4BAA4B;0BAAAC,QAAA,GAAEwC,YAAY,CAACrH,OAAO,EAAC,IAAE,EAACqH,YAAY,CAACzJ,IAAI,EAAC,GAAC;wBAAA;0BAAAkH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAG,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACvF,CAAC,eACN3I,OAAA;wBAAMsI,SAAS,EAAC,0EAA0E;wBAAAC,QAAA,EACvFuC,QAAQ,CAACtB;sBAAgB;wBAAAhB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACtB,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACJ;kBAAC,GATEmC,QAAQ,CAACxB,OAAO;oBAAAd,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAUrB,CAAC,GACJ,IAAI;gBACV,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGN3I,OAAA;YAAKsI,SAAS,EAAC,MAAM;YAAAC,QAAA,eACnBvI,OAAA;cACE4I,OAAO,EAAEA,CAAA,KAAM7F,eAAe,CAAC,IAAI,CAAE;cACrCuF,SAAS,EAAC,uFAAuF;cAAAC,QAAA,EAClG;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,oBACE3I,OAAA;IAAKsI,SAAS,EAAC,uBAAuB;IAAAC,QAAA,eACpCvI,OAAA;MAAKsI,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBAEjCvI,OAAA;QAAKsI,SAAS,EAAC,6CAA6C;QAAAC,QAAA,gBAC1DvI,OAAA;UAAKsI,SAAS,EAAC,wCAAwC;UAAAC,QAAA,gBACrDvI,OAAA;YAAIsI,SAAS,EAAC,kCAAkC;YAAAC,QAAA,EAAC;UAEjD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACL3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cACE4I,OAAO,EAAEA,CAAA,KAAMrI,cAAc,CAAC,QAAQ,CAAE;cACxC+H,SAAS,EAAC,iEAAiE;cAAAC,QAAA,EAC5E;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT3I,OAAA;cAAQsI,SAAS,EAAC,8EAA8E;cAAAC,QAAA,EAAC;YAEjG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN3I,OAAA;UAAKsI,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBvI,OAAA;YAAKsI,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvBvI,OAAA;cACEqE,IAAI,EAAC,MAAM;cACXwC,KAAK,EAAE/F,WAAY;cACnBmI,QAAQ,EAAG9C,CAAC,IAAKpF,cAAc,CAACoF,CAAC,CAACC,MAAM,CAACS,KAAK,CAAE;cAChDvB,WAAW,EAAC,mIAA0B;cACtCgD,SAAS,EAAC;YAA4G;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvH,CAAC,eACF3I,OAAA;cAAQsI,SAAS,EAAC,0DAA0D;cAAAC,QAAA,eAC1EvI,OAAA,CAACV,MAAM;gBAACgJ,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eACN3I,OAAA;YACE4I,OAAO,EAAEA,CAAA,KAAMrI,cAAc,CAAC,gBAAgB,CAAE;YAChD+H,SAAS,EAAC,0DAA0D;YAAAC,QAAA,EACrE;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN3I,OAAA;QAAKsI,SAAS,EAAC,MAAM;QAAAC,QAAA,gBAEnBvI,OAAA;UAAKsI,SAAS,EAAC,2DAA2D;UAAAC,QAAA,gBACxEvI,OAAA;YAAIsI,SAAS,EAAC,sCAAsC;YAAAC,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAGzEpH,kBAAkB,iBACjBvB,OAAA;YAAKsI,SAAS,EAAC,gFAAgF;YAAAC,QAAA,eAC7FvI,OAAA;cAAKsI,SAAS,EAAC,+EAA+E;cAAAC,QAAA,gBAC5FvI,OAAA;gBAAKsI,SAAS,EAAC,6DAA6D;gBAAAC,QAAA,eAC1EvI,OAAA;kBAAKsI,SAAS,EAAC,mCAAmC;kBAAAC,QAAA,gBAChDvI,OAAA;oBAAAuI,QAAA,gBACEvI,OAAA;sBAAIsI,SAAS,EAAC,oBAAoB;sBAAAC,QAAA,EAAC;oBAAsB;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAC9D3I,OAAA;sBAAGsI,SAAS,EAAC,cAAc;sBAAAC,QAAA,EAAC;oBAA4D;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzF,CAAC,eACN3I,OAAA;oBACE4I,OAAO,EAAEA,CAAA,KAAM;sBACbpH,qBAAqB,CAAC,KAAK,CAAC;sBAC5BE,sBAAsB,CAAC,EAAE,CAAC;sBAC1BE,eAAe,CAAC,EAAE,CAAC;sBACnBE,gBAAgB,CAAC,IAAI,CAAC;oBACxB,CAAE;oBACFwG,SAAS,EAAC,gEAAgE;oBAAAC,QAAA,eAE1EvI,OAAA,CAACH,CAAC;sBAACyI,SAAS,EAAC;oBAAS;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACnB,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAEN3I,OAAA;gBAAKsI,SAAS,EAAC,KAAK;gBAAAC,QAAA,GAEjB5G,YAAY,CAACqC,MAAM,GAAG,CAAC,iBACtBhE,OAAA;kBAAKsI,SAAS,EAAC,oDAAoD;kBAAAC,QAAA,gBACjEvI,OAAA;oBACE4I,OAAO,EAAEA,CAAA,KAAM;sBACbhH,eAAe,CAAC,EAAE,CAAC;sBACnBE,gBAAgB,CAAC,IAAI,CAAC;oBACxB,CAAE;oBACFwG,SAAS,EAAC,qBAAqB;oBAAAC,QAAA,EAChC;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,EACRhH,YAAY,CAACuH,GAAG,CAAC,CAAC+B,QAAQ,EAAEtB,KAAK,kBAChC3J,OAAA,CAACb,KAAK,CAACc,QAAQ;oBAAAsI,QAAA,gBACbvI,OAAA;sBAAAuI,QAAA,EAAM;oBAAC;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eACd3I,OAAA;sBACE4I,OAAO,EAAEA,CAAA,KAAM;wBACbhH,eAAe,CAACD,YAAY,CAACuJ,KAAK,CAAC,CAAC,EAAEvB,KAAK,GAAG,CAAC,CAAC,CAAC;wBACjD;wBACA,IAAIwB,MAAM,GAAG/G,mBAAmB;wBAChC,KAAK,IAAIgH,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIzB,KAAK,EAAEyB,CAAC,EAAE,EAAE;0BAC/BD,MAAM,GAAGA,MAAM,CAACxJ,YAAY,CAACyJ,CAAC,CAAC,CAAC;wBAClC;wBACAtJ,gBAAgB,CAACqJ,MAAM,CAAC;sBAC1B,CAAE;sBACF7C,SAAS,EAAC,mCAAmC;sBAAAC,QAAA,EAE5C0C;oBAAQ;sBAAAzC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH,CAAC;kBAAA,GAfUgB,KAAK;oBAAAnB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAgBV,CACjB,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CACN,eAGD3I,OAAA;kBAAKsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,gBAC5BvI,OAAA,CAACV,MAAM;oBAACgJ,SAAS,EAAC;kBAA6C;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eAClE3I,OAAA;oBACEqE,IAAI,EAAC,MAAM;oBACXwC,KAAK,EAAEpF,mBAAoB;oBAC3BwH,QAAQ,EAAG9C,CAAC,IAAKzE,sBAAsB,CAACyE,CAAC,CAACC,MAAM,CAACS,KAAK,CAAE;oBACxDvB,WAAW,EAAC,yEAAiC;oBAC7CgD,SAAS,EAAC,iHAAiH;oBAC3H+C,SAAS;kBAAA;oBAAA7C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACV,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eAGN3I,OAAA;kBAAKsI,SAAS,EAAC,+BAA+B;kBAAAC,QAAA,EAC3C9G,mBAAmB,KAAK,EAAE,IAAIE,YAAY,CAACqC,MAAM,KAAK,CAAC;kBAAA;kBACtD;kBACAhE,OAAA;oBAAKsI,SAAS,EAAC,WAAW;oBAAAC,QAAA,gBACxBvI,OAAA;sBAAGsI,SAAS,EAAC,4BAA4B;sBAAAC,QAAA,EAAC;oBAAgE;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,EAC7G9D,MAAM,CAACC,IAAI,CAACV,mBAAmB,CAAC,CAAC8E,GAAG,CAAClE,GAAG,iBACvChF,OAAA;sBAEE4I,OAAO,EAAEA,CAAA,KAAM;wBACbhH,eAAe,CAAC,CAACoD,GAAG,CAAC,CAAC;wBACtBlD,gBAAgB,CAACsC,mBAAmB,CAACY,GAAG,CAAC,CAAC;sBAC5C,CAAE;sBACFsD,SAAS,EAAC,kHAAkH;sBAAAC,QAAA,eAE5HvI,OAAA;wBAAKsI,SAAS,EAAC,mCAAmC;wBAAAC,QAAA,gBAChDvI,OAAA;0BAAAuI,QAAA,gBACEvI,OAAA;4BAAIsI,SAAS,EAAC,yBAAyB;4BAAAC,QAAA,EAAEnE,mBAAmB,CAACY,GAAG,CAAC,CAACd;0BAAK;4BAAAsE,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAK,CAAC,eAC7E3I,OAAA;4BAAGsI,SAAS,EAAC,4BAA4B;4BAAAC,QAAA,EACtCnE,mBAAmB,CAACY,GAAG,CAAC,CAACV,QAAQ,GAChC,GAAGO,MAAM,CAACC,IAAI,CAACV,mBAAmB,CAACY,GAAG,CAAC,CAACV,QAAQ,CAAC,CAACN,MAAM,UAAU,GAClE;0BAAO;4BAAAwE,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACR,CAAC;wBAAA;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACD,CAAC,eACN3I,OAAA,CAACN,WAAW;0BAAC4I,SAAS,EAAC;wBAA4C;0BAAAE,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAE,CAAC;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACnE;oBAAC,GAjBD3D,GAAG;sBAAAwD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAkBL,CACN,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC,GACJlH,mBAAmB,KAAK,EAAE;kBAAA;kBAC5B;kBACAzB,OAAA;oBAAKsI,SAAS,EAAC,WAAW;oBAAAC,QAAA,EACvB,EAAAlI,qBAAA,GAAAkE,4BAA4B,CAAC9C,mBAAmB,CAAC,cAAApB,qBAAA,uBAAjDA,qBAAA,CAAmD2D,MAAM,IAAG,CAAC,GAC5DO,4BAA4B,CAAC9C,mBAAmB,CAAC,CAACyH,GAAG,CAAC,CAACoC,KAAK,EAAE3B,KAAK;sBAAA,IAAA4B,kBAAA;sBAAA,oBACjEvL,OAAA;wBAEE4I,OAAO,EAAEA,CAAA,KAAM;0BACbhH,eAAe,CAAC0J,KAAK,CAAClG,IAAI,CAAC;0BAC3BtD,gBAAgB,CAACwJ,KAAK,CAACnG,IAAI,CAAC;0BAC5BzD,sBAAsB,CAAC,EAAE,CAAC;wBAC5B,CAAE;wBACF4G,SAAS,EAAC,kHAAkH;wBAAAC,QAAA,eAE5HvI,OAAA;0BAAKsI,SAAS,EAAC,mCAAmC;0BAAAC,QAAA,gBAChDvI,OAAA;4BAAAuI,QAAA,gBACEvI,OAAA;8BAAIsI,SAAS,EAAC,yBAAyB;8BAAAC,QAAA,EAAE+C,KAAK,CAACnG,IAAI,CAACjB;4BAAK;8BAAAsE,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAK,CAAC,eAC/D3I,OAAA;8BAAGsI,SAAS,EAAC,4BAA4B;8BAAAC,QAAA,EACtC+C,KAAK,CAACnG,IAAI,CAACb,QAAQ,GAClB,GAAGO,MAAM,CAACC,IAAI,CAACwG,KAAK,CAACnG,IAAI,CAACb,QAAQ,CAAC,CAACN,MAAM,UAAU,GACpD,GAAG,EAAAuH,kBAAA,GAAAD,KAAK,CAACnG,IAAI,CAACnC,MAAM,cAAAuI,kBAAA,uBAAjBA,kBAAA,CAAmBvH,MAAM,KAAI,CAAC;4BAAO;8BAAAwE,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OACzC,CAAC;0BAAA;4BAAAH,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACD,CAAC,eACN3I,OAAA,CAACN,WAAW;4BAAC4I,SAAS,EAAC;0BAA4C;4BAAAE,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAE,CAAC;wBAAA;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACnE;sBAAC,GAlBDgB,KAAK;wBAAAnB,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAmBP,CAAC;oBAAA,CACP,CAAC,gBAEF3I,OAAA;sBAAGsI,SAAS,EAAC,gCAAgC;sBAAAC,QAAA,EAAC;oBAAoC;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG;kBACtF;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACE,CAAC,GACJ9G,aAAa;kBAAA;kBACf;kBACA7B,OAAA;oBAAKsI,SAAS,EAAC,WAAW;oBAAAC,QAAA,GACvB1G,aAAa,CAACyC,QAAQ,IAAIO,MAAM,CAACC,IAAI,CAACjD,aAAa,CAACyC,QAAQ,CAAC,CAAC4E,GAAG,CAAClE,GAAG;sBAAA,IAAAwG,qBAAA;sBAAA,oBACpExL,OAAA;wBAEE4I,OAAO,EAAEA,CAAA,KAAM;0BACbhH,eAAe,CAAC,CAAC,GAAGD,YAAY,EAAEqD,GAAG,CAAC,CAAC;0BACvClD,gBAAgB,CAACD,aAAa,CAACyC,QAAQ,CAACU,GAAG,CAAC,CAAC;wBAC/C,CAAE;wBACFsD,SAAS,EAAC,kHAAkH;wBAAAC,QAAA,eAE5HvI,OAAA;0BAAKsI,SAAS,EAAC,mCAAmC;0BAAAC,QAAA,gBAChDvI,OAAA;4BAAAuI,QAAA,gBACEvI,OAAA;8BAAIsI,SAAS,EAAC,yBAAyB;8BAAAC,QAAA,EAAE1G,aAAa,CAACyC,QAAQ,CAACU,GAAG,CAAC,CAACd;4BAAK;8BAAAsE,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAAK,CAAC,eAChF3I,OAAA;8BAAGsI,SAAS,EAAC,4BAA4B;8BAAAC,QAAA,EACtC1G,aAAa,CAACyC,QAAQ,CAACU,GAAG,CAAC,CAACV,QAAQ,GACnC,GAAGO,MAAM,CAACC,IAAI,CAACjD,aAAa,CAACyC,QAAQ,CAACU,GAAG,CAAC,CAACV,QAAQ,CAAC,CAACN,MAAM,UAAU,GACrE,GAAG,EAAAwH,qBAAA,GAAA3J,aAAa,CAACyC,QAAQ,CAACU,GAAG,CAAC,CAAChC,MAAM,cAAAwI,qBAAA,uBAAlCA,qBAAA,CAAoCxH,MAAM,KAAI,CAAC;4BAAO;8BAAAwE,QAAA,EAAAC,YAAA;8BAAAC,UAAA;8BAAAC,YAAA;4BAAA,OAC1D,CAAC;0BAAA;4BAAAH,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OACD,CAAC,eACN3I,OAAA,CAACN,WAAW;4BAAC4I,SAAS,EAAC;0BAA4C;4BAAAE,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAE,CAAC;wBAAA;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACnE;sBAAC,GAjBD3D,GAAG;wBAAAwD,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAkBL,CAAC;oBAAA,CACP,CAAC,EACD9G,aAAa,CAACmB,MAAM,iBACnBhD,OAAA;sBAAKsI,SAAS,EAAC,gBAAgB;sBAAAC,QAAA,gBAC7BvI,OAAA;wBAAIsI,SAAS,EAAC,uCAAuC;wBAAAC,QAAA,EAAC;sBAAqB;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,EAC/E9G,aAAa,CAACmB,MAAM,CAACkG,GAAG,CAACI,OAAO,IAAI;wBACnC,MAAMvB,KAAK,GAAG/E,MAAM,CAACoG,IAAI,CAAC4B,CAAC,IAAIA,CAAC,CAAC/I,EAAE,KAAKqH,OAAO,CAAC;wBAChD,OAAOvB,KAAK,gBACV/H,OAAA;0BAEE4I,OAAO,EAAEA,CAAA,KAAM;4BAAA,IAAA6C,qBAAA;4BACbjK,qBAAqB,CAAC,KAAK,CAAC;4BAC5B;4BACA,CAAAiK,qBAAA,GAAAC,QAAQ,CAACC,cAAc,CAAC,SAAS5D,KAAK,CAAC9F,EAAE,EAAE,CAAC,cAAAwJ,qBAAA,uBAA5CA,qBAAA,CAA8CG,cAAc,CAAC;8BAAEC,QAAQ,EAAE;4BAAS,CAAC,CAAC;0BACtF,CAAE;0BACFvD,SAAS,EAAC,8GAA8G;0BAAAC,QAAA,gBAExHvI,OAAA;4BAAIsI,SAAS,EAAC,yBAAyB;4BAAAC,QAAA,EAAER,KAAK,CAACvE;0BAAK;4BAAAgF,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAK,CAAC,eAC1D3I,OAAA;4BAAGsI,SAAS,EAAC,4BAA4B;4BAAAC,QAAA,EAAER,KAAK,CAACtE;0BAAO;4BAAA+E,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAI,CAAC,eAC7D3I,OAAA;4BAAGsI,SAAS,EAAC,4BAA4B;4BAAAC,QAAA,GAAER,KAAK,CAACrE,OAAO,EAAC,IAAE,EAACqE,KAAK,CAACzG,IAAI,EAAC,GAAC;0BAAA;4BAAAkH,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAG,CAAC;wBAAA,GAVvEZ,KAAK,CAAC9F,EAAE;0BAAAuG,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAWV,CAAC,GACJ,IAAI;sBACV,CAAC,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC,CACN;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACE,CAAC,GACJ;gBAAI;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,eAGC3I,OAAA;YAAKsI,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBvI,OAAA;cACE4I,OAAO,EAAEA,CAAA,KAAM3H,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEE,KAAK,EAAE,CAACF,WAAW,CAACE;cAAK,CAAC,CAAE;cAC3EoH,SAAS,EAAC,qFAAqF;cAAAC,QAAA,gBAE/FvI,OAAA;gBAAAuI,QAAA,EAAM;cAAqB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EACjC3H,WAAW,CAACE,KAAK,gBAAGlB,OAAA,CAACL,SAAS;gBAAC2I,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAG3I,OAAA,CAACN,WAAW;gBAAC4I,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtF,CAAC,EACR3H,WAAW,CAACE,KAAK,iBAChBlB,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvB,CAAC,0BAA0B,EAAE,sBAAsB,EAAE,uBAAuB,EAAE,yBAAyB,EAAE,kCAAkC,CAAC,CAACW,GAAG,CAAChI,KAAK,iBACrJlB,OAAA;gBAAmBsI,SAAS,EAAC,6EAA6E;gBAAAC,QAAA,gBACxGvI,OAAA;kBACEqE,IAAI,EAAC,UAAU;kBACfkF,OAAO,EAAE3G,eAAe,CAAC1B,KAAK,CAAC+D,QAAQ,CAAC/D,KAAK,CAAE;kBAC/C+H,QAAQ,EAAEA,CAAA,KAAMzB,YAAY,CAAC,OAAO,EAAEtG,KAAK,CAAE;kBAC7CoH,SAAS,EAAC;gBAA+B;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1C,CAAC,eACF3I,OAAA;kBAAMsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAErH,KAAK,CAAC4K,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;gBAAC;kBAAAtD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA,GAPnDzH,KAAK;gBAAAsH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAQV,CACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGN3I,OAAA;YAAKsI,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBvI,OAAA;cACE4I,OAAO,EAAEA,CAAA,KAAM3H,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEG,MAAM,EAAE,CAACH,WAAW,CAACG;cAAM,CAAC,CAAE;cAC7EmH,SAAS,EAAC,qFAAqF;cAAAC,QAAA,gBAE/FvI,OAAA;gBAAAuI,QAAA,EAAM;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EACzB3H,WAAW,CAACG,MAAM,gBAAGnB,OAAA,CAACL,SAAS;gBAAC2I,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAG3I,OAAA,CAACN,WAAW;gBAAC4I,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvF,CAAC,EACR3H,WAAW,CAACG,MAAM,iBACjBnB,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvB,CAAC,0BAA0B,EAAE,kCAAkC,EAAE,qCAAqC,EAAE,eAAe,CAAC,CAACW,GAAG,CAAC/H,MAAM,iBAClInB,OAAA;gBAAoBsI,SAAS,EAAC,6EAA6E;gBAAAC,QAAA,gBACzGvI,OAAA;kBACEqE,IAAI,EAAC,UAAU;kBACfkF,OAAO,EAAE3G,eAAe,CAACzB,MAAM,CAAC8D,QAAQ,CAAC9D,MAAM,CAAE;kBACjD8H,QAAQ,EAAEA,CAAA,KAAMzB,YAAY,CAAC,QAAQ,EAAErG,MAAM,CAAE;kBAC/CmH,SAAS,EAAC;gBAA+B;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1C,CAAC,eACF3I,OAAA;kBAAMsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAEpH,MAAM,CAAC2K,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;gBAAC;kBAAAtD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA,GAPpDxH,MAAM;gBAAAqH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAQX,CACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGN3I,OAAA;YAAKsI,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBvI,OAAA;cACE4I,OAAO,EAAEA,CAAA,KAAM3H,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEI,WAAW,EAAE,CAACJ,WAAW,CAACI;cAAW,CAAC,CAAE;cACvFkH,SAAS,EAAC,qFAAqF;cAAAC,QAAA,gBAE/FvI,OAAA;gBAAAuI,QAAA,EAAM;cAAkB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EAC9B3H,WAAW,CAACI,WAAW,gBAAGpB,OAAA,CAACL,SAAS;gBAAC2I,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAG3I,OAAA,CAACN,WAAW;gBAAC4I,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5F,CAAC,EACR3H,WAAW,CAACI,WAAW,iBACtBpB,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvB,CAAC,oBAAoB,EAAE,wBAAwB,EAAE,kBAAkB,EAAE,iBAAiB,CAAC,CAACW,GAAG,CAAC6C,GAAG,iBAC9F/L,OAAA;gBAAiBsI,SAAS,EAAC,6EAA6E;gBAAAC,QAAA,gBACtGvI,OAAA;kBACEqE,IAAI,EAAC,UAAU;kBACfkF,OAAO,EAAE3G,eAAe,CAACxB,WAAW,CAAC6D,QAAQ,CAAC8G,GAAG,CAAE;kBACnD9C,QAAQ,EAAEA,CAAA,KAAMzB,YAAY,CAAC,aAAa,EAAEuE,GAAG,CAAE;kBACjDzD,SAAS,EAAC;gBAA+B;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1C,CAAC,eACF3I,OAAA;kBAAMsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAEwD,GAAG,CAACD,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;gBAAC;kBAAAtD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA,GAPjDoD,GAAG;gBAAAvD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAQR,CACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAGN3I,OAAA;YAAKsI,SAAS,EAAC,MAAM;YAAAC,QAAA,gBACnBvI,OAAA;cACE4I,OAAO,EAAEA,CAAA,KAAM3H,cAAc,CAAC;gBAAC,GAAGD,WAAW;gBAAEM,IAAI,EAAE,CAACN,WAAW,CAACM;cAAI,CAAC,CAAE;cACzEgH,SAAS,EAAC,qFAAqF;cAAAC,QAAA,gBAE/FvI,OAAA;gBAAAuI,QAAA,EAAM;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EACrB3H,WAAW,CAACM,IAAI,gBAAGtB,OAAA,CAACL,SAAS;gBAAC2I,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,gBAAG3I,OAAA,CAACN,WAAW;gBAAC4I,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrF,CAAC,EACR3H,WAAW,CAACM,IAAI,iBACftB,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EACvB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAACW,GAAG,CAAC5H,IAAI,iBAC1BtB,OAAA;gBAAkBsI,SAAS,EAAC,6EAA6E;gBAAAC,QAAA,gBACvGvI,OAAA;kBACEqE,IAAI,EAAC,UAAU;kBACfkF,OAAO,EAAE3G,eAAe,CAACtB,IAAI,CAAC2D,QAAQ,CAAC3D,IAAI,CAAE;kBAC7C2H,QAAQ,EAAEA,CAAA,KAAMzB,YAAY,CAAC,MAAM,EAAElG,IAAI,CAAE;kBAC3CgH,SAAS,EAAC;gBAA+B;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1C,CAAC,eACF3I,OAAA;kBAAMsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAEjH;gBAAI;kBAAAkH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA,GAPnCrH,IAAI;gBAAAkH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAQT,CACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN3I,OAAA;UAAKsI,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBvI,OAAA;YAAKsI,SAAS,EAAC,wCAAwC;YAAAC,QAAA,eACrDvI,OAAA;cAAGsI,SAAS,EAAC,uBAAuB;cAAAC,QAAA,gBAClCvI,OAAA;gBAAAuI,QAAA,EAAST,cAAc,CAAC9D;cAAM;gBAAAwE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAS,CAAC,6BAC1C;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAEN3I,OAAA;YAAKsI,SAAS,EAAC,WAAW;YAAAC,QAAA,EACzBT,cAAc,CAACoB,GAAG,CAACnB,KAAK,iBACvB/H,OAAA;cAAoBiC,EAAE,EAAE,SAAS8F,KAAK,CAAC9F,EAAE,EAAG;cAACqG,SAAS,EAAC,oCAAoC;cAAAC,QAAA,eACzFvI,OAAA;gBAAKsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,gBACzBvI,OAAA;kBAAKsI,SAAS,EAAC,eAAe;kBAAAC,QAAA,eAC5BvI,OAAA;oBAAOqE,IAAI,EAAC,UAAU;oBAACiE,SAAS,EAAC;kBAA6B;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9D,CAAC,eAEN3I,OAAA;kBAAKsI,SAAS,EAAC,QAAQ;kBAAAC,QAAA,gBACrBvI,OAAA;oBAAKsI,SAAS,EAAC,MAAM;oBAAAC,QAAA,eACnBvI,OAAA;sBAAMsI,SAAS,EAAC,+CAA+C;sBAAAC,QAAA,EAAC;oBAAI;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACxE,CAAC,eAEN3I,OAAA;oBACE4I,OAAO,EAAEA,CAAA,KAAM7F,eAAe,CAACgF,KAAK,CAAE;oBACtCO,SAAS,EAAC,sEAAsE;oBAAAC,QAAA,EAE/ER,KAAK,CAACvE;kBAAK;oBAAAgF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACV,CAAC,eAEL3I,OAAA;oBAAGsI,SAAS,EAAC,4BAA4B;oBAAAC,QAAA,EAAER,KAAK,CAACrE;kBAAO;oBAAA8E,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAE7D3I,OAAA;oBAAGsI,SAAS,EAAC,mCAAmC;oBAAAC,QAAA,GAAC,kCACf,EAACR,KAAK,CAAC9F,EAAE,EAAC,WAAS,EAAC8F,KAAK,CAACzG,IAAI,EAAC,aACjE;kBAAA;oBAAAkH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,eAEJ3I,OAAA;oBAAGsI,SAAS,EAAC,4CAA4C;oBAAAC,QAAA,GAAC,KACrD,EAACR,KAAK,CAACpE,cAAc,CAACqI,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,EAAC,KAC7C;kBAAA;oBAAAxD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,eAEJ3I,OAAA;oBACE4I,OAAO,EAAEA,CAAA,KAAM7F,eAAe,CAACgF,KAAK,CAAE;oBACtCO,SAAS,EAAC,mDAAmD;oBAAAC,QAAA,EAC9D;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC,eAEN3I,OAAA;kBAAKsI,SAAS,EAAC,wCAAwC;kBAAAC,QAAA,gBACrDvI,OAAA;oBACE4I,OAAO,EAAEA,CAAA,KAAM;sBACb,IAAIb,KAAK,CAACvH,YAAY,EAAE;wBACtB,MAAM0J,OAAO,GAAGC,GAAG,CAACC,eAAe,CAACrC,KAAK,CAACvH,YAAY,CAAC;wBACvD6J,MAAM,CAACC,IAAI,CAACJ,OAAO,EAAE,QAAQ,CAAC;sBAChC,CAAC,MAAM;wBACLjE,KAAK,CAAC,sBAAsB,CAAC;sBAC/B;oBACF,CAAE;oBACFqC,SAAS,EAAC,8EAA8E;oBAAAC,QAAA,EACzF;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACT3I,OAAA;oBAAQsI,SAAS,EAAC,6FAA6F;oBAAAC,QAAA,EAAC;kBAEhH;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACT3I,OAAA;oBAAQsI,SAAS,EAAC,6FAA6F;oBAAAC,QAAA,EAAC;kBAEhH;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,EACRZ,KAAK,CAACvH,YAAY,iBACjBR,OAAA;oBACE4I,OAAO,EAAEA,CAAA,KAAM;sBACb,IAAIyB,MAAM,CAAC4B,OAAO,CAAC,cAAc,CAAC,EAAE;wBAClChJ,SAAS,CAACsE,UAAU,IAAIA,UAAU,CAACK,MAAM,CAACoD,CAAC,IAAIA,CAAC,CAAC/I,EAAE,KAAK8F,KAAK,CAAC9F,EAAE,CAAC,CAAC;sBACpE;oBACF,CAAE;oBACFqG,SAAS,EAAC,0FAA0F;oBAAAC,QAAA,EACrG;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CACT;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC,GArEEZ,KAAK,CAAC9F,EAAE;cAAAuG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAsEb,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACvI,EAAA,CA14DID,GAAG;AAAA+L,EAAA,GAAH/L,GAAG;AA44DT,eAAeA,GAAG;AAAC,IAAA+L,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}