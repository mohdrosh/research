{"ast":null,"code":"var _jsxFileName = \"/Users/roshan/Desktop/spring8/spring8-mdrcg-system/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Upload, Search, FileText, Brain, Loader, ChevronDown, ChevronUp, Filter, X, Link2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  var _getAdvancedSearchSug;\n  const [currentView, setCurrentView] = useState('upload'); // 'upload', 'form', 'search'\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [formData, setFormData] = useState({});\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showFilters, setShowFilters] = useState({\n    field: true,\n    method: true,\n    application: false,\n    beamline: false,\n    year: false\n  });\n  const [showAdvancedSearch, setShowAdvancedSearch] = useState(false);\n  const [advancedSearchQuery, setAdvancedSearchQuery] = useState('');\n  const [selectedPath, setSelectedPath] = useState([]);\n  const [currentBranch, setCurrentBranch] = useState(null);\n  const [advancedSearchRows, setAdvancedSearchRows] = useState([{\n    id: 1,\n    boolean: 'AND',\n    term: '',\n    field: 'all'\n  }]);\n  const [selectedDisciplines, setSelectedDisciplines] = useState([]);\n  const [dateFrom, setDateFrom] = useState('');\n  const [dateTo, setDateTo] = useState('');\n  const [selectedItemTypes, setSelectedItemTypes] = useState([]);\n  const [selectedFilters, setSelectedFilters] = useState({\n    field: [],\n    method: [],\n    application: [],\n    beamline: [],\n    year: []\n  });\n  const [viewingPaper, setViewingPaper] = useState(null);\n  const [papers, setPapers] = useState([]);\n  const [selectedRelatedPapers, setSelectedRelatedPapers] = useState([]);\n  const [pdfText, setPdfText] = useState('');\n  const relationshipTypes = ['Cited', 'Builds upon', 'Contradicts', 'Extends', 'Similar method', 'Different approach', 'Complements'];\n\n  // サンプル研究データ (Sample Research Data)\n  const samplePapersInitial = [{\n    id: 1,\n    title: '高エネルギーX線回折による新規触媒材料の構造解析',\n    titleEn: 'Structural Analysis of Novel Catalyst Materials using High-Energy X-ray Diffraction',\n    authors: 'Hatsui, T., Takeshita, K.',\n    year: 2024,\n    field: '材料科学 (Materials Science)',\n    method: 'X線回折 (X-ray Diffraction)',\n    beamline: 'BL19B2',\n    application: '自動車産業 (Automotive)',\n    mainConclusion: '新規Pt-Co合金触媒の原子配列構造を解明し、触媒活性が30%向上することを実証',\n    industrialApplication: '自動車用燃料電池の効率向上、環境触媒技術',\n    crossDomain: '化学工学、エネルギー工学への応用可能',\n    failedApproach: '従来のTEM観察では動的変化を捉えられなかった'\n  }, {\n    id: 2,\n    title: 'タンパク質結晶構造解析による創薬ターゲット同定',\n    titleEn: 'Drug Target Identification through Protein Crystal Structure Analysis',\n    authors: 'Yamamoto, M., Tanaka, Y.',\n    year: 2024,\n    field: '生命科学 (Life Sciences)',\n    method: 'X線結晶構造解析 (X-ray Crystallography)',\n    beamline: 'BL41XU',\n    application: '製薬・医療 (Pharmaceutical)',\n    mainConclusion: '新規抗がん剤標的タンパク質の活性部位構造を原子レベルで解明',\n    industrialApplication: '製薬業界における新薬開発、個別化医療',\n    crossDomain: '構造生物学、計算化学への展開',\n    failedApproach: '低温凍結条件では生理的構造が維持できなかった'\n  }, {\n    id: 3,\n    title: 'ナノ材料の時間分解分光による電子状態ダイナミクス研究',\n    titleEn: 'Electronic State Dynamics of Nanomaterials via Time-Resolved Spectroscopy',\n    authors: 'Sato, K., Nakamura, H.',\n    year: 2023,\n    field: 'ナノサイエンス (Nanoscience)',\n    method: '時間分解分光 (Time-Resolved Spectroscopy)',\n    beamline: 'BL43IR',\n    application: 'エネルギー産業 (Energy)',\n    mainConclusion: '量子ドットの励起状態寿命が表面修飾により10倍延長可能',\n    industrialApplication: '高効率太陽電池、量子コンピュータ素子開発',\n    crossDomain: '半導体工学、光エレクトロニクス',\n    failedApproach: '室温測定では熱揺らぎの影響が大きすぎた'\n  }, {\n    id: 4,\n    title: '高分子材料の放射光X線小角散乱による階層構造解析',\n    titleEn: 'Hierarchical Structure Analysis of Polymer Materials by Synchrotron SAXS',\n    authors: 'Kobayashi, R., Ishida, M.',\n    year: 2023,\n    field: '高分子科学 (Polymer Science)',\n    method: '小角X線散乱 (SAXS)',\n    beamline: 'BL40B2',\n    application: '化学産業 (Chemical)',\n    mainConclusion: '新規生分解性プラスチックのナノ構造制御により強度が2倍向上',\n    industrialApplication: '環境対応型プラスチック製品、包装材料の高性能化',\n    crossDomain: '材料工学、環境科学への応用',\n    failedApproach: '従来のDSC測定では階層構造の詳細が不明瞭だった'\n  }, {\n    id: 5,\n    title: '磁性材料のX線磁気円二色性による電子状態観察',\n    titleEn: 'Electronic State Observation of Magnetic Materials by XMCD',\n    authors: 'Fujimoto, S., Watanabe, K.',\n    year: 2024,\n    field: '物性物理学 (Condensed Matter Physics)',\n    method: 'X線磁気円二色性 (XMCD)',\n    beamline: 'BL25SU',\n    application: 'エレクトロニクス (Electronics)',\n    mainConclusion: 'スピントロニクス材料の磁気異方性起源を原子レベルで解明',\n    industrialApplication: '次世代ハードディスク、磁気メモリの高密度化',\n    crossDomain: '情報工学、量子技術への展開',\n    failedApproach: 'SQUID測定では局所的な磁気構造が観測できなかった'\n  }, {\n    id: 6,\n    title: '半導体デバイスの高速X線イメージングによる動作解析',\n    titleEn: 'Operational Analysis of Semiconductor Devices by High-Speed X-ray Imaging',\n    authors: 'Suzuki, H., Ito, T.',\n    year: 2022,\n    field: '半導体工学 (Semiconductor Engineering)',\n    method: '高速X線イメージング (High-Speed X-ray Imaging)',\n    beamline: 'BL20XU',\n    application: 'エレクトロニクス (Electronics)',\n    mainConclusion: '次世代パワー半導体の熱応力分布をリアルタイムで可視化',\n    industrialApplication: '電気自動車用パワーデバイスの信頼性向上',\n    crossDomain: '電気工学、熱工学への応用',\n    failedApproach: '可視光観察では内部構造の変化が観測不可能だった'\n  }, {\n    id: 7,\n    title: '文化財の非破壊X線分析による製作技法の解明',\n    titleEn: 'Non-Destructive X-ray Analysis for Understanding Cultural Heritage Production Techniques',\n    authors: 'Nakamura, Y., Kimura, A.',\n    year: 2023,\n    field: '文化財科学 (Cultural Heritage Science)',\n    method: 'X線蛍光分析 (XRF)',\n    beamline: 'BL08W',\n    application: '文化・芸術 (Culture & Arts)',\n    mainConclusion: '江戸時代の陶磁器の釉薬組成と焼成温度を非破壊で特定',\n    industrialApplication: '文化財保存技術、伝統工芸の復元',\n    crossDomain: '考古学、歴史学への応用',\n    failedApproach: '従来の顕微鏡観察では内部構造が分からなかった'\n  }, {\n    id: 8,\n    title: '地球深部物質の高圧X線回折実験',\n    titleEn: 'High-Pressure X-ray Diffraction Experiments on Deep Earth Materials',\n    authors: 'Takahashi, N., Mori, D.',\n    year: 2024,\n    field: '地球科学 (Earth Science)',\n    method: '高圧X線回折 (High-Pressure XRD)',\n    beamline: 'BL10XU',\n    application: '資源探査 (Resource Exploration)',\n    mainConclusion: 'マントル遷移層の鉱物相転移圧力を精密決定し、地震波速度異常を説明',\n    industrialApplication: '鉱物資源探査、地震予測技術への貢献',\n    crossDomain: '地震学、鉱物学への展開',\n    failedApproach: '常圧実験では高圧相の構造が再現できなかった'\n  }, {\n    id: 9,\n    title: '食品成分の放射光赤外分光による分子構造解析',\n    titleEn: 'Molecular Structure Analysis of Food Components by Synchrotron Infrared Spectroscopy',\n    authors: 'Tanaka, M., Saito, E.',\n    year: 2023,\n    field: '食品科学 (Food Science)',\n    method: '赤外分光 (Infrared Spectroscopy)',\n    beamline: 'BL43IR',\n    application: '食品産業 (Food Industry)',\n    mainConclusion: '発酵食品中のタンパク質構造変化と風味の相関を解明',\n    industrialApplication: '機能性食品開発、発酵プロセス最適化',\n    crossDomain: '栄養学、微生物学への応用',\n    failedApproach: '通常の赤外分光では微量成分の検出が困難だった'\n  }];\n\n  // Initialize papers on first render\n  React.useEffect(() => {\n    if (papers.length === 0) {\n      setPapers(samplePapersInitial);\n    }\n  }, []);\n\n  // 学術分野データ (Academic Disciplines Data)\n  const disciplines = {\n    'Materials Science': {\n      label: '材料科学 (Materials Science)',\n      journals: ['Advanced Materials Research', 'Journal of Materials Chemistry', 'Materials Science and Engineering', 'Acta Materialia', 'Scripta Materialia']\n    },\n    'Life Sciences': {\n      label: '生命科学 (Life Sciences)',\n      journals: ['Cell', 'Nature Structural & Molecular Biology', 'Journal of Biological Chemistry', 'Protein Science', 'FEBS Letters']\n    },\n    'Nanoscience': {\n      label: 'ナノサイエンス (Nanoscience)',\n      journals: ['Nature Nanotechnology', 'Nano Letters', 'ACS Nano', 'Small', 'Nanoscale']\n    },\n    'Polymer Science': {\n      label: '高分子科学 (Polymer Science)',\n      journals: ['Macromolecules', 'Polymer', 'Journal of Polymer Science', 'Polymer Chemistry', 'European Polymer Journal']\n    },\n    'Condensed Matter Physics': {\n      label: '物性物理学 (Condensed Matter Physics)',\n      journals: ['Physical Review B', 'Journal of Physics: Condensed Matter', 'Applied Physics Letters', 'Physical Review Letters', 'Nature Physics']\n    },\n    'Semiconductor Engineering': {\n      label: '半導体工学 (Semiconductor Engineering)',\n      journals: ['IEEE Transactions on Electron Devices', 'Journal of Applied Physics', 'Semiconductor Science and Technology', 'Applied Physics Express', 'Solid-State Electronics']\n    },\n    'Cultural Heritage Science': {\n      label: '文化財科学 (Cultural Heritage Science)',\n      journals: ['Journal of Cultural Heritage', 'Studies in Conservation', 'Archaeometry', 'Heritage Science', 'Journal of Archaeological Science']\n    },\n    'Earth Science': {\n      label: '地球科学 (Earth Science)',\n      journals: ['Earth and Planetary Science Letters', 'Geology', 'Geophysical Research Letters', 'Journal of Geophysical Research', 'Nature Geoscience']\n    },\n    'Food Science': {\n      label: '食品科学 (Food Science)',\n      journals: ['Food Chemistry', 'Journal of Agricultural and Food Chemistry', 'Food Research International', 'Trends in Food Science & Technology', 'Food Hydrocolloids']\n    },\n    'Chemistry': {\n      label: '化学 (Chemistry)',\n      journals: ['Journal of the American Chemical Society', 'Angewandte Chemie', 'Chemical Reviews', 'Analytical Chemistry', 'Inorganic Chemistry']\n    }\n  };\n\n  // 高度検索ナレッジツリー (Advanced Search Knowledge Tree)\n  const searchKnowledgeTree = {\n    'x線': {\n      type: 'category',\n      label: 'X線技術 (X-ray Technology)',\n      branches: {\n        'x線回折': {\n          type: 'category',\n          label: 'X線回折 (X-ray Diffraction)',\n          branches: {\n            '高エネルギー': {\n              type: 'subcategory',\n              label: '高エネルギーX線回折 (High-Energy XRD)',\n              papers: [1]\n            },\n            '高圧': {\n              type: 'subcategory',\n              label: '高圧X線回折 (High-Pressure XRD)',\n              papers: [8]\n            },\n            '一般': {\n              type: 'subcategory',\n              label: '一般X線回折 (General XRD)',\n              papers: [1]\n            }\n          }\n        },\n        'x線結晶構造解析': {\n          type: 'subcategory',\n          label: 'X線結晶構造解析 (X-ray Crystallography)',\n          papers: [2]\n        },\n        'x線散乱': {\n          type: 'category',\n          label: 'X線散乱 (X-ray Scattering)',\n          branches: {\n            '小角散乱': {\n              type: 'subcategory',\n              label: '小角X線散乱 (SAXS)',\n              papers: [4]\n            }\n          }\n        },\n        'x線分光': {\n          type: 'category',\n          label: 'X線分光 (X-ray Spectroscopy)',\n          branches: {\n            '磁気円二色性': {\n              type: 'subcategory',\n              label: 'X線磁気円二色性 (XMCD)',\n              papers: [5]\n            },\n            '蛍光分析': {\n              type: 'subcategory',\n              label: 'X線蛍光分析 (XRF)',\n              papers: [7]\n            }\n          }\n        },\n        'x線イメージング': {\n          type: 'subcategory',\n          label: 'X線イメージング (X-ray Imaging)',\n          papers: [6]\n        }\n      }\n    },\n    '分光': {\n      type: 'category',\n      label: '分光技術 (Spectroscopy)',\n      branches: {\n        '時間分解': {\n          type: 'subcategory',\n          label: '時間分解分光 (Time-Resolved Spectroscopy)',\n          papers: [3]\n        },\n        '赤外分光': {\n          type: 'subcategory',\n          label: '赤外分光 (Infrared Spectroscopy)',\n          papers: [9]\n        }\n      }\n    },\n    '触媒': {\n      type: 'category',\n      label: '触媒研究 (Catalyst Research)',\n      branches: {\n        '合金触媒': {\n          type: 'subcategory',\n          label: '合金触媒 (Alloy Catalysts)',\n          papers: [1]\n        },\n        '構造解析': {\n          type: 'subcategory',\n          label: '触媒構造解析 (Catalyst Structure Analysis)',\n          papers: [1]\n        }\n      }\n    },\n    'タンパク質': {\n      type: 'category',\n      label: 'タンパク質研究 (Protein Research)',\n      branches: {\n        '結晶構造': {\n          type: 'subcategory',\n          label: 'タンパク質結晶構造 (Protein Crystal Structure)',\n          papers: [2]\n        },\n        '創薬': {\n          type: 'subcategory',\n          label: '創薬ターゲット (Drug Targets)',\n          papers: [2]\n        }\n      }\n    },\n    'ナノ材料': {\n      type: 'category',\n      label: 'ナノ材料 (Nanomaterials)',\n      branches: {\n        '量子ドット': {\n          type: 'subcategory',\n          label: '量子ドット (Quantum Dots)',\n          papers: [3]\n        },\n        '電子状態': {\n          type: 'subcategory',\n          label: '電子状態解析 (Electronic State Analysis)',\n          papers: [3, 5]\n        }\n      }\n    },\n    '高分子': {\n      type: 'category',\n      label: '高分子材料 (Polymer Materials)',\n      branches: {\n        '生分解性': {\n          type: 'subcategory',\n          label: '生分解性プラスチック (Biodegradable Plastics)',\n          papers: [4]\n        },\n        '階層構造': {\n          type: 'subcategory',\n          label: '階層構造解析 (Hierarchical Structure)',\n          papers: [4]\n        }\n      }\n    },\n    '磁性材料': {\n      type: 'category',\n      label: '磁性材料 (Magnetic Materials)',\n      branches: {\n        'スピントロニクス': {\n          type: 'subcategory',\n          label: 'スピントロニクス (Spintronics)',\n          papers: [5]\n        }\n      }\n    },\n    '半導体': {\n      type: 'category',\n      label: '半導体 (Semiconductors)',\n      branches: {\n        'パワーデバイス': {\n          type: 'subcategory',\n          label: 'パワー半導体 (Power Semiconductors)',\n          papers: [6]\n        },\n        '熱応力解析': {\n          type: 'subcategory',\n          label: '熱応力解析 (Thermal Stress Analysis)',\n          papers: [6]\n        }\n      }\n    },\n    '文化財': {\n      type: 'category',\n      label: '文化財 (Cultural Heritage)',\n      branches: {\n        '非破壊分析': {\n          type: 'subcategory',\n          label: '非破壊分析 (Non-Destructive Analysis)',\n          papers: [7]\n        },\n        '陶磁器': {\n          type: 'subcategory',\n          label: '陶磁器分析 (Ceramic Analysis)',\n          papers: [7]\n        }\n      }\n    },\n    '地球科学': {\n      type: 'category',\n      label: '地球科学 (Earth Science)',\n      branches: {\n        '高圧実験': {\n          type: 'subcategory',\n          label: '高圧実験 (High-Pressure Experiments)',\n          papers: [8]\n        },\n        'マントル': {\n          type: 'subcategory',\n          label: 'マントル研究 (Mantle Research)',\n          papers: [8]\n        }\n      }\n    },\n    '食品': {\n      type: 'category',\n      label: '食品科学 (Food Science)',\n      branches: {\n        '発酵食品': {\n          type: 'subcategory',\n          label: '発酵食品 (Fermented Foods)',\n          papers: [9]\n        },\n        'タンパク質構造': {\n          type: 'subcategory',\n          label: '食品タンパク質 (Food Proteins)',\n          papers: [9]\n        }\n      }\n    },\n    '産業応用': {\n      type: 'category',\n      label: '産業応用 (Industrial Applications)',\n      branches: {\n        '自動車': {\n          type: 'subcategory',\n          label: '自動車産業 (Automotive)',\n          papers: [1, 6]\n        },\n        '製薬': {\n          type: 'subcategory',\n          label: '製薬・医療 (Pharmaceutical)',\n          papers: [2]\n        },\n        'エネルギー': {\n          type: 'subcategory',\n          label: 'エネルギー (Energy)',\n          papers: [3]\n        },\n        '化学': {\n          type: 'subcategory',\n          label: '化学産業 (Chemical)',\n          papers: [4]\n        },\n        'エレクトロニクス': {\n          type: 'subcategory',\n          label: 'エレクトロニクス (Electronics)',\n          papers: [5, 6]\n        }\n      }\n    }\n  };\n\n  // 高度検索でマッチする項目を取得 (Get matching items for advanced search)\n  const getAdvancedSearchSuggestions = query => {\n    if (!query) return null;\n    const lowerQuery = query.toLowerCase().trim();\n    const matches = [];\n    Object.keys(searchKnowledgeTree).forEach(key => {\n      if (key.includes(lowerQuery) || searchKnowledgeTree[key].label.toLowerCase().includes(lowerQuery)) {\n        matches.push({\n          key: key,\n          data: searchKnowledgeTree[key],\n          path: [key]\n        });\n      }\n    });\n    return matches;\n  };\n\n  // MDRCG質問項目 (MDRCG Question Items)\n  const mdrcgQuestions = [{\n    id: 'mainConclusion',\n    label: '主な結論 (Main Conclusion)',\n    placeholder: 'この研究で明らかになった最も重要な発見を1-2文で記述してください',\n    type: 'textarea',\n    required: true,\n    aiDraft: '新規Pt-Co合金触媒の原子配列構造を解明し、従来触媒と比較して触媒活性が30%向上することを実証しました。'\n  }, {\n    id: 'priorWork',\n    label: '先行研究との関係 (Relationship to Prior Work)',\n    placeholder: 'この研究が基づいている3-5つの重要な先行研究を挙げてください',\n    type: 'textarea',\n    required: true,\n    aiDraft: '1) Smith et al. (2020)のPt触媒基礎研究\\n2) Tanaka et al. (2021)の合金触媒設計理論\\n3) Johnson et al. (2022)のX線回折技術改良'\n  }, {\n    id: 'novelty',\n    label: '新規性 (Novelty)',\n    placeholder: 'この研究の独自の貢献は何ですか？',\n    type: 'textarea',\n    required: true,\n    aiDraft: '高エネルギーX線回折とその場観察を組み合わせることで、触媒反応中の原子配列動的変化を初めてリアルタイムで捉えることに成功'\n  }, {\n    id: 'unknownQuestions',\n    label: '未解明の課題 (Remaining Unknown Questions)',\n    placeholder: 'この研究では答えられなかった2-3の具体的な疑問',\n    type: 'textarea',\n    required: false,\n    aiDraft: '1) 長期使用時の構造安定性\\n2) 他の金属組み合わせでの再現性\\n3) スケールアップ時の特性維持'\n  }, {\n    id: 'failedApproach',\n    label: '失敗したアプローチ (Failed Approaches)',\n    placeholder: 'うまくいかなかった手法とその理由',\n    type: 'textarea',\n    required: false,\n    aiDraft: '当初TEMでの観察を試みたが、電子線による試料ダメージと時間分解能の限界により動的変化の観察が困難でした'\n  }, {\n    id: 'crossDomain',\n    label: '異分野翻訳レイヤー (Cross-Domain Translation)',\n    placeholder: '他分野での類似問題や応用可能性',\n    type: 'textarea',\n    required: true,\n    aiDraft: '化学工学：反応器設計への応用\\nエネルギー工学：燃料電池電極材料開発\\n環境科学：排ガス浄化触媒への展開'\n  }, {\n    id: 'industrialPain',\n    label: '産業応用可能性 (Industrial Application Potential)',\n    placeholder: 'この研究が解決できる具体的な産業課題',\n    type: 'textarea',\n    required: true,\n    aiDraft: '自動車産業：燃料電池車の効率向上とコスト削減\\n化学産業：環境触媒の高性能化\\nエネルギー産業：水素製造触媒の改良'\n  }, {\n    id: 'abstractPrinciple',\n    label: '抽象化された原理 (Abstracted Principle - 5th Grade Level)',\n    placeholder: '小学5年生でも理解できるように説明してください',\n    type: 'textarea',\n    required: true,\n    aiDraft: '異なる金属を混ぜ合わせることで、それぞれの良いところを組み合わせた「スーパー触媒」を作ることができます。特殊なX線カメラで原子の並び方を見ながら、一番効率の良い組み合わせを見つけました。'\n  }, {\n    id: 'experimentalReason',\n    label: '実験設計の理由 (Experimental Design Rationale)',\n    placeholder: 'なぜこのパラメータ・手法を選んだのか',\n    type: 'textarea',\n    required: false,\n    aiDraft: '高エネルギーX線（113keV）を選択した理由：試料内部の情報を非破壊で取得可能\\n温度範囲300-800K：実際の触媒反応条件に対応'\n  }, {\n    id: 'scalingPossibility',\n    label: 'スケーリング可能性 (Scaling Possibilities)',\n    placeholder: 'この技術は異なるスケールで機能しますか？',\n    type: 'textarea',\n    required: false,\n    aiDraft: 'ナノスケール（触媒粒子）からマクロスケール（実用触媒層）まで適用可能。ただし工業スケールでは製造プロセスの最適化が必要。'\n  }, {\n    id: 'combinationPotential',\n    label: '組み合わせ可能性 (Combination Potential)',\n    placeholder: '他の技術と組み合わせる可能性',\n    type: 'textarea',\n    required: false,\n    aiDraft: '機械学習による構造予測と組み合わせることで、最適組成の探索時間を大幅短縮可能。計算科学との連携で新材料設計が加速。'\n  }];\n  const [isDragging, setIsDragging] = useState(false);\n  const processFile = async file => {\n    if (file && file.type === 'application/pdf') {\n      setUploadedFile(file);\n      setIsProcessing(true);\n      try {\n        var _data$candidates$, _data$candidates$$con, _data$candidates$$con2, _data$candidates$$con3;\n        // Extract text from PDF\n        const arrayBuffer = await file.arrayBuffer();\n        const pdfData = new Uint8Array(arrayBuffer);\n\n        // Convert PDF to text using pdf-parse\n        const pdfjsLib = window['pdfjs-dist/build/pdf'];\n        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';\n        const loadingTask = pdfjsLib.getDocument({\n          data: pdfData\n        });\n        const pdf = await loadingTask.promise;\n        let fullText = '';\n        for (let i = 1; i <= pdf.numPages; i++) {\n          const page = await pdf.getPage(i);\n          const textContent = await page.getTextContent();\n          const pageText = textContent.items.map(item => item.str).join(' ');\n          fullText += pageText + '\\n';\n        }\n        setPdfText(fullText);\n\n        // Call Gemini API to analyze the PDF\n        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDq3QtkT6UFOkkbpVpOW3ceOlvWp7uBq8c`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            contents: [{\n              parts: [{\n                text: `You are analyzing a research paper. Extract the following information from the text and respond ONLY with a JSON object (no markdown, no extra text):\n\nPDF Text:\n${fullText.substring(0, 15000)}\n\nPlease extract and create a JSON object with these fields:\n{\n  \"mainConclusion\": \"1-2 sentence summary of the main findings\",\n  \"priorWork\": \"List 3-5 key prior studies this builds on (numbered list format)\",\n  \"novelty\": \"What makes this research unique and new\",\n  \"unknownQuestions\": \"2-3 questions this research couldn't answer (numbered list)\",\n  \"failedApproach\": \"Methods that didn't work and why\",\n  \"crossDomain\": \"Applications in other fields\",\n  \"industrialPain\": \"Specific industrial problems this solves\",\n  \"abstractPrinciple\": \"Explain this to a 5th grader in simple terms\",\n  \"experimentalReason\": \"Why these specific parameters/methods were chosen\",\n  \"scalingPossibility\": \"Can this work at different scales?\",\n  \"combinationPotential\": \"How can this combine with other technologies?\"\n}\n\nRespond ONLY with valid JSON, no markdown formatting.`\n              }]\n            }]\n          })\n        });\n        const data = await response.json();\n        if (data.candidates && (_data$candidates$ = data.candidates[0]) !== null && _data$candidates$ !== void 0 && (_data$candidates$$con = _data$candidates$.content) !== null && _data$candidates$$con !== void 0 && (_data$candidates$$con2 = _data$candidates$$con.parts) !== null && _data$candidates$$con2 !== void 0 && (_data$candidates$$con3 = _data$candidates$$con2[0]) !== null && _data$candidates$$con3 !== void 0 && _data$candidates$$con3.text) {\n          let aiResponse = data.candidates[0].content.parts[0].text;\n\n          // Clean up the response - remove markdown code blocks if present\n          aiResponse = aiResponse.replace(/```json\\n?/g, '').replace(/```\\n?/g, '').trim();\n          try {\n            const extractedData = JSON.parse(aiResponse);\n            setFormData(extractedData);\n          } catch (parseError) {\n            console.error('JSON parse error:', parseError);\n            alert('PDFの解析中にエラーが発生しました。もう一度お試しください。');\n          }\n        }\n        setIsProcessing(false);\n        setCurrentView('form');\n      } catch (error) {\n        console.error('Error processing PDF:', error);\n        alert('PDFの処理中にエラーが発生しました: ' + error.message);\n        setIsProcessing(false);\n      }\n    } else {\n      alert('PDFファイルのみアップロード可能です');\n    }\n  };\n  const handleFileUpload = e => {\n    const file = e.target.files[0];\n    processFile(file);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    const file = e.dataTransfer.files[0];\n    processFile(file);\n  };\n  const handleInputChange = (id, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [id]: value\n    }));\n  };\n  const handleSubmit = () => {\n    // Create new paper from form data\n    const newPaper = {\n      id: Date.now(),\n      title: uploadedFile ? uploadedFile.name.replace('.pdf', '') : '新規論文',\n      titleEn: 'New Research Paper',\n      authors: 'Kitagawa, H.',\n      year: new Date().getFullYear(),\n      field: '材料科学 (Materials Science)',\n      method: 'X線回折 (X-ray Diffraction)',\n      beamline: 'BL19B2',\n      application: '自動車産業 (Automotive)',\n      mainConclusion: formData.mainConclusion || '新しく登録された研究論文です',\n      industrialApplication: formData.industrialPain || '産業応用の詳細',\n      crossDomain: formData.crossDomain || '異分野応用の可能性',\n      failedApproach: formData.failedApproach || '',\n      uploadedFile: uploadedFile,\n      formData: formData,\n      relatedPapers: selectedRelatedPapers,\n      pdfText: pdfText\n    };\n\n    // Add to papers state\n    setPapers(prevPapers => [newPaper, ...prevPapers]);\n\n    // Reset form and go to search\n    setFormData({});\n    setUploadedFile(null);\n    setSelectedRelatedPapers([]);\n    setPdfText('');\n    setCurrentView('search');\n  };\n  const toggleFilter = (category, value) => {\n    setSelectedFilters(prev => {\n      const current = prev[category];\n      const updated = current.includes(value) ? current.filter(v => v !== value) : [...current, value];\n      return {\n        ...prev,\n        [category]: updated\n      };\n    });\n  };\n  const filteredPapers = papers.filter(paper => {\n    const matchesSearch = searchQuery === '' || paper.title.toLowerCase().includes(searchQuery.toLowerCase()) || paper.titleEn.toLowerCase().includes(searchQuery.toLowerCase()) || paper.authors.toLowerCase().includes(searchQuery.toLowerCase()) || paper.mainConclusion.toLowerCase().includes(searchQuery.toLowerCase()) || paper.industrialApplication.toLowerCase().includes(searchQuery.toLowerCase()) || paper.crossDomain.toLowerCase().includes(searchQuery.toLowerCase()) || paper.field.toLowerCase().includes(searchQuery.toLowerCase()) || paper.method.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesField = selectedFilters.field.length === 0 || selectedFilters.field.includes(paper.field);\n    const matchesMethod = selectedFilters.method.length === 0 || selectedFilters.method.includes(paper.method);\n    const matchesApplication = selectedFilters.application.length === 0 || selectedFilters.application.includes(paper.application);\n    const matchesBeamline = selectedFilters.beamline.length === 0 || selectedFilters.beamline.includes(paper.beamline);\n    const matchesYear = selectedFilters.year.length === 0 || selectedFilters.year.includes(paper.year);\n    return matchesSearch && matchesField && matchesMethod && matchesApplication && matchesBeamline && matchesYear;\n  });\n\n  // アップロードビュー (Upload View)\n  if (currentView === 'upload') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-full mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-b border-gray-200 px-8 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"SPring-8 \\u7814\\u7A76\\u30C7\\u30FC\\u30BF\\u30D9\\u30FC\\u30B9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentView('search'),\n                className: \"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\",\n                children: \"\\u691C\\u7D22\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\",\n                children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 871,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 864,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 860,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-4xl mx-auto p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-4xl font-serif text-gray-900 mb-2\",\n              children: \"\\u7814\\u7A76\\u8AD6\\u6587\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"\\u591A\\u6B21\\u5143\\u7814\\u7A76\\u30B3\\u30F3\\u30C6\\u30AD\\u30B9\\u30C8\\u30B0\\u30E9\\u30D5\\u30B7\\u30B9\\u30C6\\u30E0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border-2 border-gray-300 rounded-lg p-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              onDragOver: handleDragOver,\n              onDragLeave: handleDragLeave,\n              onDrop: handleDrop,\n              className: `border-4 border-dashed rounded-lg p-16 text-center transition-all ${isDragging ? 'border-blue-500 bg-blue-50' : 'border-gray-300 bg-gray-50 hover:bg-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(Upload, {\n                className: `w-20 h-20 mx-auto mb-6 transition-colors ${isDragging ? 'text-blue-500' : 'text-gray-400'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-2xl font-semibold text-gray-800 mb-3\",\n                children: isDragging ? 'ここにドロップしてください' : '研究論文をアップロード'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 899,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-8 max-w-2xl mx-auto\",\n                children: isDragging ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 font-semibold\",\n                  children: \"\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u30C9\\u30ED\\u30C3\\u30D7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 904,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"PDF\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u30C9\\u30E9\\u30C3\\u30B0&\\u30C9\\u30ED\\u30C3\\u30D7\\u3001\\u307E\\u305F\\u306F\\u30AF\\u30EA\\u30C3\\u30AF\\u3057\\u3066\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 907,\n                    columnNumber: 56\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: \"(Drag & drop or click to upload PDF)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 908,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 902,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"inline-block\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \".pdf\",\n                  onChange: handleFileUpload,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold cursor-pointer inline-block\",\n                  children: \"PDF\\u30D5\\u30A1\\u30A4\\u30EB\\u3092\\u9078\\u629E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 920,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 17\n              }, this), uploadedFile && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-8 inline-flex items-center gap-3 bg-white p-4 rounded-lg border border-gray-300\",\n                children: [/*#__PURE__*/_jsxDEV(FileText, {\n                  className: \"w-6 h-6 text-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 927,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: uploadedFile.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 928,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 926,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 886,\n              columnNumber: 15\n            }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-12 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(Loader, {\n                className: \"w-16 h-16 mx-auto animate-spin text-red-800 mb-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 935,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl font-semibold text-gray-800 mb-2\",\n                children: \"AI\\u304C\\u8AD6\\u6587\\u3092\\u89E3\\u6790\\u4E2D...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 936,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"MDRCG\\u60C5\\u5831\\u3092\\u81EA\\u52D5\\u751F\\u6210\\u3057\\u3066\\u3044\\u307E\\u3059\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 934,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-gray-900 mb-3\",\n              children: \"\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\\u5F8C\\u306E\\u6D41\\u308C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 948,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-2 text-sm text-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 951,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"AI\\u304C\\u7814\\u7A76\\u8AD6\\u6587\\u3092\\u5206\\u6790\\u3057\\u3001\\u91CD\\u8981\\u306A\\u60C5\\u5831\\u3092\\u62BD\\u51FA\\u3057\\u307E\\u3059\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 952,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 950,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 955,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u81EA\\u52D5\\u751F\\u6210\\u3055\\u308C\\u305FMDRCG\\u30D5\\u30A9\\u30FC\\u30E0\\u3092\\u78BA\\u8A8D\\u30FB\\u7DE8\\u96C6\\u3067\\u304D\\u307E\\u3059\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 956,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 954,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 959,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u3042\\u306A\\u305F\\u306E\\u7814\\u7A76\\u304C\\u591A\\u6B21\\u5143\\u3067\\u691C\\u7D22\\u53EF\\u80FD\\u306B\\u306A\\u308A\\u307E\\u3059\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 960,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 958,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 963,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u7570\\u5206\\u91CE\\u3068\\u306E\\u95A2\\u9023\\u6027\\u304C\\u81EA\\u52D5\\u7684\\u306B\\u7279\\u5B9A\\u3055\\u308C\\u307E\\u3059\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 964,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 962,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 949,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 947,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 857,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 856,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Load PDF.js library\n  React.useEffect(() => {\n    if (!document.getElementById('pdfjs-script')) {\n      const script = document.createElement('script');\n      script.id = 'pdfjs-script';\n      script.src = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js';\n      document.head.appendChild(script);\n    }\n  }, []);\n\n  // フォームビュー (Form View)\n  if (currentView === 'form') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-full mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-b border-gray-200 px-8 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"SPring-8 \\u7814\\u7A76\\u30C7\\u30FC\\u30BF\\u30D9\\u30FC\\u30B9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 992,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentView('search'),\n                className: \"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\",\n                children: \"\\u691C\\u7D22\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 996,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\",\n                children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1002,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 995,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 990,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-5xl mx-auto p-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-300 rounded-lg p-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-bold text-gray-800 mb-2\",\n                children: \"MDRCG \\u60C5\\u5831\\u5165\\u529B\\u30D5\\u30A9\\u30FC\\u30E0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1013,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: \"Research Context Information Form\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1016,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 p-4 bg-green-50 border-l-4 border-green-500 rounded\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(Brain, {\n                    className: \"w-5 h-5 text-green-600 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1019,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-green-800\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"AI\\u30C9\\u30E9\\u30D5\\u30C8\\u751F\\u6210\\u5B8C\\u4E86\\uFF01\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1021,\n                      columnNumber: 21\n                    }, this), \" \\u4EE5\\u4E0B\\u306E\\u5185\\u5BB9\\u3092\\u78BA\\u8A8D\\u30FB\\u4FEE\\u6B63\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1022,\n                      columnNumber: 21\n                    }, this), \"(AI draft generated! Please review and edit as needed)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1020,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1018,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1017,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1012,\n              columnNumber: 13\n            }, this), papers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-8 p-6 bg-blue-50 border-2 border-blue-200 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(Link2, {\n                  className: \"w-5 h-5 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-xl font-bold text-gray-800\",\n                  children: \"\\u95A2\\u9023\\u8AD6\\u6587\\u306E\\u9078\\u629E (Related Papers)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1033,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600 mb-4\",\n                children: \"\\u3053\\u306E\\u8AD6\\u6587\\u3068\\u95A2\\u9023\\u3059\\u308B\\u65E2\\u5B58\\u306E\\u8AD6\\u6587\\u3092\\u9078\\u629E\\u3057\\u3001\\u95A2\\u4FC2\\u6027\\u3092\\u6307\\u5B9A\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1037,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3 max-h-64 overflow-y-auto\",\n                children: papers.map(paper => {\n                  const existingRelation = selectedRelatedPapers.find(r => r.paperId === paper.id);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3 p-3 bg-white rounded border border-gray-300\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: !!existingRelation,\n                      onChange: e => {\n                        if (e.target.checked) {\n                          setSelectedRelatedPapers([...selectedRelatedPapers, {\n                            paperId: paper.id,\n                            relationshipType: 'Cited'\n                          }]);\n                        } else {\n                          setSelectedRelatedPapers(selectedRelatedPapers.filter(r => r.paperId !== paper.id));\n                        }\n                      },\n                      className: \"w-4 h-4 accent-blue-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1045,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-semibold text-gray-800\",\n                        children: paper.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1061,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [paper.authors, \" (\", paper.year, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1062,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1060,\n                      columnNumber: 25\n                    }, this), existingRelation && /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: existingRelation.relationshipType,\n                      onChange: e => {\n                        setSelectedRelatedPapers(selectedRelatedPapers.map(r => r.paperId === paper.id ? {\n                          ...r,\n                          relationshipType: e.target.value\n                        } : r));\n                      },\n                      className: \"px-3 py-1 border-2 border-gray-300 rounded text-sm font-medium\",\n                      children: relationshipTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: type,\n                        children: type\n                      }, type, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1075,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1065,\n                      columnNumber: 27\n                    }, this)]\n                  }, paper.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1044,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1040,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1030,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6 max-h-[600px] overflow-y-auto pr-4\",\n              children: mdrcgQuestions.map(question => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-b pb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-lg font-semibold text-gray-800\",\n                    children: [question.label, question.required && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-red-500 ml-1\",\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1092,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1090,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1089,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: formData[question.id] || '',\n                  onChange: e => handleInputChange(question.id, e.target.value),\n                  placeholder: question.placeholder,\n                  className: \"w-full p-4 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none min-h-[120px] bg-yellow-50\",\n                  required: question.required\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1095,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500 mt-1\",\n                  children: \"\\uD83D\\uDCA1 AI\\u304C\\u751F\\u6210\\u3057\\u305F\\u5185\\u5BB9\\u3067\\u3059\\u3002\\u5FC5\\u8981\\u306B\\u5FDC\\u3058\\u3066\\u4FEE\\u6B63\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1102,\n                  columnNumber: 19\n                }, this)]\n              }, question.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1088,\n                columnNumber: 17\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1086,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-8 flex gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentView('upload'),\n                className: \"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\",\n                children: \"\\u2190 \\u623B\\u308B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1110,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSubmit,\n                className: \"flex-1 px-6 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\",\n                children: \"\\u767B\\u9332\\u3057\\u3066\\u516C\\u958B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1116,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1109,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1011,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1010,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 988,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 987,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 高度検索ビュー (Advanced Search View)\n  if (currentView === 'advancedSearch') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-4xl font-serif text-gray-900\",\n              children: \"\\u9AD8\\u5EA6\\u691C\\u7D22\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentView('search'),\n              className: \"text-sm text-blue-700 hover:text-blue-900 underline\",\n              children: \"\\u2190 \\u7C21\\u6613\\u691C\\u7D22\\u306B\\u623B\\u308B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1139,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"text-sm text-blue-700 hover:underline\",\n            children: \"\\u691C\\u7D22\\u30D8\\u30EB\\u30D7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b-2 border-gray-300 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"px-6 py-3 text-sm font-semibold border-b-4 border-black -mb-0.5\",\n            children: \"\\u5168\\u30B3\\u30F3\\u30C6\\u30F3\\u30C4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"px-6 py-3 text-sm text-gray-600 hover:text-gray-900\",\n            children: \"\\u753B\\u50CF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1154,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg border border-gray-300 p-8 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-serif text-gray-900 mb-6\",\n            children: \"\\u691C\\u7D22\\u30AF\\u30A8\\u30EA\\u3092\\u69CB\\u7BC9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1161,\n            columnNumber: 13\n          }, this), advancedSearchRows.map((row, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-12 gap-4 items-start\",\n              children: [index > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-semibold text-gray-700 mb-1\",\n                  children: \"\\u8AD6\\u7406\\u6F14\\u7B97\\u5B50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1168,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: row.boolean,\n                  onChange: e => {\n                    const newRows = [...advancedSearchRows];\n                    newRows[index].boolean = e.target.value;\n                    setAdvancedSearchRows(newRows);\n                  },\n                  className: \"w-full px-3 py-2 border border-gray-400 rounded text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"AND\",\n                    children: \"AND\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1178,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"OR\",\n                    children: \"OR\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1179,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"NOT\",\n                    children: \"NOT\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1180,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"NEAR 5\",\n                    children: \"NEAR 5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1181,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"NEAR 10\",\n                    children: \"NEAR 10\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1182,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"NEAR 25\",\n                    children: \"NEAR 25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1183,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1169,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: index === 0 ? 'col-span-6' : 'col-span-5',\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-semibold text-gray-700 mb-1\",\n                  children: \"\\u691C\\u7D22\\u8A9E\\u53E5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1189,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: row.term,\n                  onChange: e => {\n                    const newRows = [...advancedSearchRows];\n                    newRows[index].term = e.target.value;\n                    setAdvancedSearchRows(newRows);\n                  },\n                  className: \"w-full px-3 py-2 border border-gray-400 rounded text-sm\",\n                  placeholder: \"\\u691C\\u7D22\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1190,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1188,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-semibold text-gray-700 mb-1\",\n                  children: \"\\u691C\\u7D22\\u30D5\\u30A3\\u30FC\\u30EB\\u30C9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1204,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: row.field,\n                  onChange: e => {\n                    const newRows = [...advancedSearchRows];\n                    newRows[index].field = e.target.value;\n                    setAdvancedSearchRows(newRows);\n                  },\n                  className: \"w-full px-3 py-2 border border-gray-400 rounded text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"all\",\n                    children: \"\\u5168\\u30D5\\u30A3\\u30FC\\u30EB\\u30C9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1214,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"title\",\n                    children: \"\\u30BF\\u30A4\\u30C8\\u30EB\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1215,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"author\",\n                    children: \"\\u8457\\u8005\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1216,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"abstract\",\n                    children: \"\\u8981\\u65E8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1217,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"caption\",\n                    children: \"\\u8AAC\\u660E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1218,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1205,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1203,\n                columnNumber: 19\n              }, this), index > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-1 pt-6\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setAdvancedSearchRows(advancedSearchRows.filter(r => r.id !== row.id));\n                  },\n                  className: \"text-gray-600 hover:text-red-600\",\n                  children: /*#__PURE__*/_jsxDEV(X, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1230,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1224,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1223,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1165,\n              columnNumber: 17\n            }, this)\n          }, row.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1164,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setAdvancedSearchRows([...advancedSearchRows, {\n                id: Date.now(),\n                boolean: 'AND',\n                term: '',\n                field: 'all'\n              }]);\n            },\n            className: \"mt-4 px-4 py-2 text-sm border border-gray-400 rounded hover:bg-gray-50 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg\",\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1247,\n              columnNumber: 15\n            }, this), \" \\u884C\\u3092\\u8FFD\\u52A0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-xs font-semibold text-gray-700 mb-2\",\n              children: \"\\u30A2\\u30AF\\u30BB\\u30B9\\u30BF\\u30A4\\u30D7\\u3092\\u9078\\u629E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"w-80 px-3 py-2 border border-gray-400 rounded text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"\\u3059\\u3079\\u3066\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"\\u30A2\\u30AF\\u30BB\\u30B9\\u53EF\\u80FD\\u306A\\u30B3\\u30F3\\u30C6\\u30F3\\u30C4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              // Apply advanced search and go back to results\n              setCurrentView('search');\n            },\n            className: \"mt-6 px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\",\n            children: \"\\u9AD8\\u5EA6\\u691C\\u7D22\\u3092\\u5B9F\\u884C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg border border-gray-300 p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-serif text-gray-900 mb-6\",\n            children: \"\\u691C\\u7D22\\u7D50\\u679C\\u3092\\u7D5E\\u308A\\u8FBC\\u3080\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-semibold text-gray-900 mb-3\",\n              children: \"\\u30A2\\u30A4\\u30C6\\u30E0\\u30BF\\u30A4\\u30D7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: ['論文', '研究報告', 'レビュー', 'その他', '書籍'].map(type => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center gap-2 text-sm cursor-pointer\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedItemTypes.includes(type),\n                  onChange: () => {\n                    setSelectedItemTypes(prev => prev.includes(type) ? prev.filter(t => t !== type) : [...prev, type]);\n                  },\n                  className: \"w-4 h-4 accent-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1280,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1290,\n                  columnNumber: 21\n                }, this)]\n              }, type, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1279,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1277,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-semibold text-gray-900 mb-3\",\n              children: \"\\u51FA\\u7248\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs text-gray-600 mb-1\",\n                  children: \"\\u958B\\u59CB\\u65E5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1301,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: dateFrom,\n                  onChange: e => setDateFrom(e.target.value),\n                  placeholder: \"yyyy/mm/dd\",\n                  className: \"w-32 px-3 py-2 border border-gray-400 rounded text-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1302,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1300,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-6\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-600\",\n                  children: \"\\u301C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1311,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1310,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs text-gray-600 mb-1\",\n                  children: \"\\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1314,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: dateTo,\n                  onChange: e => setDateTo(e.target.value),\n                  placeholder: \"yyyy/mm/dd\",\n                  className: \"w-32 px-3 py-2 border border-gray-400 rounded text-sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1315,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1313,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1299,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-semibold text-gray-900 mb-3\",\n              children: \"\\u5B66\\u8853\\u5206\\u91CE\\u3067\\u7D5E\\u308A\\u8FBC\\u3080\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1 max-h-96 overflow-y-auto border border-gray-300 rounded p-4\",\n              children: Object.entries(disciplines).map(([key, discipline]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-50 p-1 rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: selectedDisciplines.includes(key),\n                    onChange: () => {\n                      setSelectedDisciplines(prev => prev.includes(key) ? prev.filter(d => d !== key) : [...prev, key]);\n                    },\n                    className: \"w-4 h-4 mt-0.5 accent-red-800\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1333,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium text-gray-900\",\n                      children: discipline.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1344,\n                      columnNumber: 25\n                    }, this), selectedDisciplines.includes(key) && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ml-6 mt-2 space-y-1\",\n                      children: discipline.journals.map(journal => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-blue-700 hover:underline cursor-pointer\",\n                        children: journal\n                      }, journal, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1348,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1346,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1343,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1332,\n                  columnNumber: 21\n                }, this)\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1331,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1329,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setCurrentView('search');\n            },\n            className: \"px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\",\n            children: \"\\u9AD8\\u5EA6\\u691C\\u7D22\\u3092\\u5B9F\\u884C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1361,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1133,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 論文詳細ビュー (Paper Detail View)\n  if (currentView === 'search' && viewingPaper) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-full mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border-b border-gray-200 px-8 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"SPring-8 \\u7814\\u7A76\\u30C7\\u30FC\\u30BF\\u30D9\\u30FC\\u30B9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setViewingPaper(null),\n                className: \"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\",\n                children: \"\\u2190 \\u691C\\u7D22\\u7D50\\u679C\\u306B\\u623B\\u308B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1387,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\",\n                children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1393,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1386,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1382,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-5xl mx-auto p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-300 rounded-lg p-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-600 uppercase tracking-wide\",\n                children: \"\\u5B66\\u8853\\u8AD6\\u6587\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1405,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-serif text-gray-900 mt-2 mb-4\",\n                children: viewingPaper.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1406,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl text-gray-600 mb-4\",\n                children: viewingPaper.titleEn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1409,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700 mb-2\",\n                children: [\"\\u8457\\u8005: \", viewingPaper.authors]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm italic text-gray-600\",\n                children: [\"SPring-8 Research Journal, Vol. \", viewingPaper.id, \", No. 1 (\", viewingPaper.year, \"), pp. 1-20\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1411,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-3 mb-8 pb-8 border-b border-gray-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  if (viewingPaper.uploadedFile) {\n                    const fileURL = URL.createObjectURL(viewingPaper.uploadedFile);\n                    window.open(fileURL, '_blank');\n                  } else {\n                    alert('この論文のPDFファイルは利用できません');\n                  }\n                },\n                className: \"px-6 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\",\n                children: \"PDF\\u3092\\u958B\\u304F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1418,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\",\n                children: \"\\u4FDD\\u5B58\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1431,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\",\n                children: \"\\u5F15\\u7528\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1434,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1417,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-6 mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"\\u7814\\u7A76\\u5206\\u91CE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1442,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: viewingPaper.field\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1443,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1441,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"\\u6E2C\\u5B9A\\u624B\\u6CD5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1446,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: viewingPaper.method\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1447,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1445,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"\\u30D3\\u30FC\\u30E0\\u30E9\\u30A4\\u30F3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1450,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: viewingPaper.beamline\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1451,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1449,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"\\u7523\\u696D\\u5FDC\\u7528\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1454,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: viewingPaper.application\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1455,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1453,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1440,\n              columnNumber: 15\n            }, this), viewingPaper.formData && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-300\",\n                children: \"MDRCG \\u8A73\\u7D30\\u60C5\\u5831\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1462,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u4E3B\\u306A\\u7D50\\u8AD6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1467,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.mainConclusion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1468,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1466,\n                columnNumber: 19\n              }, this), viewingPaper.formData.priorWork && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u5148\\u884C\\u7814\\u7A76\\u3068\\u306E\\u95A2\\u4FC2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1473,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed whitespace-pre-line\",\n                  children: viewingPaper.formData.priorWork\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1474,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1472,\n                columnNumber: 21\n              }, this), viewingPaper.formData.novelty && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u65B0\\u898F\\u6027\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1480,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.formData.novelty\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1481,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1479,\n                columnNumber: 21\n              }, this), viewingPaper.formData.unknownQuestions && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u672A\\u89E3\\u660E\\u306E\\u8AB2\\u984C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1487,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed whitespace-pre-line\",\n                  children: viewingPaper.formData.unknownQuestions\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1488,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1486,\n                columnNumber: 21\n              }, this), viewingPaper.failedApproach && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u5931\\u6557\\u3057\\u305F\\u30A2\\u30D7\\u30ED\\u30FC\\u30C1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1494,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.failedApproach\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1495,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1493,\n                columnNumber: 21\n              }, this), viewingPaper.crossDomain && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u7570\\u5206\\u91CE\\u7FFB\\u8A33\\u30EC\\u30A4\\u30E4\\u30FC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1501,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.crossDomain\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1502,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1500,\n                columnNumber: 21\n              }, this), viewingPaper.industrialApplication && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u7523\\u696D\\u5FDC\\u7528\\u53EF\\u80FD\\u6027\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1508,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.industrialApplication\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1509,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1507,\n                columnNumber: 21\n              }, this), viewingPaper.formData.abstractPrinciple && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u62BD\\u8C61\\u5316\\u3055\\u308C\\u305F\\u539F\\u7406\\uFF08\\u5C0F\\u5B665\\u5E74\\u751F\\u30EC\\u30D9\\u30EB\\uFF09\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1515,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.formData.abstractPrinciple\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1516,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1514,\n                columnNumber: 21\n              }, this), viewingPaper.formData.experimentalReason && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u5B9F\\u9A13\\u8A2D\\u8A08\\u306E\\u7406\\u7531\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1522,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.formData.experimentalReason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1523,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1521,\n                columnNumber: 21\n              }, this), viewingPaper.formData.scalingPossibility && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u30B9\\u30B1\\u30FC\\u30EA\\u30F3\\u30B0\\u53EF\\u80FD\\u6027\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1529,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.formData.scalingPossibility\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1530,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1528,\n                columnNumber: 21\n              }, this), viewingPaper.formData.combinationPotential && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"\\u7D44\\u307F\\u5408\\u308F\\u305B\\u53EF\\u80FD\\u6027\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1536,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 leading-relaxed\",\n                  children: viewingPaper.formData.combinationPotential\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1537,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1535,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1461,\n              columnNumber: 17\n            }, this), viewingPaper.relatedPapers && viewingPaper.relatedPapers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-8 pt-8 border-t-2 border-gray-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Link2, {\n                  className: \"w-6 h-6 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1547,\n                  columnNumber: 21\n                }, this), \"\\u95A2\\u9023\\u8AD6\\u6587 (Related Papers)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1546,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: viewingPaper.relatedPapers.map(relation => {\n                  const relatedPaper = papers.find(p => p.id === relation.paperId);\n                  return relatedPaper ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-4 bg-blue-50 border-l-4 border-blue-500 rounded\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-start justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-semibold text-gray-900\",\n                          children: relatedPaper.title\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1557,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600 mt-1\",\n                          children: [relatedPaper.authors, \" (\", relatedPaper.year, \")\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1558,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1556,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-4 px-3 py-1 bg-blue-600 text-white text-xs font-semibold rounded-full\",\n                        children: relation.relationshipType\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1560,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1555,\n                      columnNumber: 27\n                    }, this)\n                  }, relation.paperId, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1554,\n                    columnNumber: 25\n                  }, this) : null;\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1550,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1545,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1402,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setViewingPaper(null),\n              className: \"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\",\n              children: \"\\u2190 \\u691C\\u7D22\\u7D50\\u679C\\u306B\\u623B\\u308B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1574,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1573,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1401,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1379,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1378,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 検索ビュー (Search View)\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-full mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border-b border-gray-200 px-8 py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: \"SPring-8 Research Database\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1594,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentView('upload'),\n              className: \"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\",\n              children: \"\\u8AD6\\u6587\\u767B\\u9332 (Upload)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1598,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\",\n              children: \"Log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1604,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1597,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1593,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-3xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              placeholder: \"\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9\\u3001\\u7523\\u696D\\u5FDC\\u7528\\u3001\\u7570\\u5206\\u91CE\\u5FDC\\u7528\\u306A\\u3069\\u3067\\u691C\\u7D22...\",\n              className: \"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded focus:border-gray-400 focus:outline-none text-base\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1612,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"absolute right-3 top-3 text-gray-600 hover:text-gray-900\",\n              children: /*#__PURE__*/_jsxDEV(Search, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1620,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1619,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1611,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentView('advancedSearch'),\n            className: \"mt-2 text-sm text-blue-700 hover:text-blue-900 underline\",\n            children: \"\\u9AD8\\u5EA6\\u691C\\u7D22\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1623,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1610,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1592,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-64 border-r border-gray-200 bg-gray-50 p-6 min-h-screen\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold text-gray-900 mb-4\",\n            children: \"Refine Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1636,\n            columnNumber: 13\n          }, this), showAdvancedSearch && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-purple-600 to-blue-600 p-6 text-white\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                      className: \"text-2xl font-bold\",\n                      children: \"\\u9AD8\\u5EA6\\u691C\\u7D22 (Advanced Search)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1645,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm mt-1\",\n                      children: \"\\u968E\\u5C64\\u7684\\u306A\\u30CA\\u30EC\\u30C3\\u30B8\\u30C4\\u30EA\\u30FC\\u3067\\u63A2\\u7D22 (Explore through hierarchical knowledge tree)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1646,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1644,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setShowAdvancedSearch(false);\n                      setAdvancedSearchQuery('');\n                      setSelectedPath([]);\n                      setCurrentBranch(null);\n                    },\n                    className: \"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2\",\n                    children: /*#__PURE__*/_jsxDEV(X, {\n                      className: \"w-6 h-6\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1657,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1648,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1643,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1642,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6\",\n                children: [selectedPath.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4 flex items-center gap-2 text-sm text-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      setSelectedPath([]);\n                      setCurrentBranch(null);\n                    },\n                    className: \"hover:text-blue-600\",\n                    children: \"\\u30DB\\u30FC\\u30E0 (Home)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1666,\n                    columnNumber: 23\n                  }, this), selectedPath.map((pathItem, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\u2192\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1677,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        setSelectedPath(selectedPath.slice(0, index + 1));\n                        // Navigate to this level\n                        let branch = searchKnowledgeTree;\n                        for (let i = 0; i <= index; i++) {\n                          branch = branch[selectedPath[i]];\n                        }\n                        setCurrentBranch(branch);\n                      },\n                      className: \"hover:text-blue-600 font-semibold\",\n                      children: pathItem\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1678,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1676,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1665,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative mb-6\",\n                  children: [/*#__PURE__*/_jsxDEV(Search, {\n                    className: \"absolute left-4 top-4 text-gray-400 w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1699,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: advancedSearchQuery,\n                    onChange: e => setAdvancedSearchQuery(e.target.value),\n                    placeholder: \"\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B... (Enter keywords...)\",\n                    className: \"w-full pl-12 pr-4 py-4 border-2 border-purple-300 rounded-lg focus:border-purple-500 focus:outline-none text-lg\",\n                    autoFocus: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1700,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1698,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"max-h-[400px] overflow-y-auto\",\n                  children: advancedSearchQuery === '' && selectedPath.length === 0 ?\n                  /*#__PURE__*/\n                  // Show top level categories\n                  _jsxDEV(\"div\", {\n                    className: \"space-y-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 mb-4\",\n                      children: \"\\u30AB\\u30C6\\u30B4\\u30EA\\u30FC\\u3092\\u9078\\u629E\\u3059\\u308B\\u304B\\u3001\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044 (Select a category or enter keywords)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1715,\n                      columnNumber: 25\n                    }, this), Object.keys(searchKnowledgeTree).map(key => /*#__PURE__*/_jsxDEV(\"div\", {\n                      onClick: () => {\n                        setSelectedPath([key]);\n                        setCurrentBranch(searchKnowledgeTree[key]);\n                      },\n                      className: \"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                            className: \"font-bold text-gray-800\",\n                            children: searchKnowledgeTree[key].label\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1727,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500 mt-1\",\n                            children: searchKnowledgeTree[key].branches ? `${Object.keys(searchKnowledgeTree[key].branches).length} サブカテゴリー` : '論文を表示'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1728,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1726,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                          className: \"w-5 h-5 text-gray-400 transform -rotate-90\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1734,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1725,\n                        columnNumber: 29\n                      }, this)\n                    }, key, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1717,\n                      columnNumber: 27\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1714,\n                    columnNumber: 23\n                  }, this) : advancedSearchQuery !== '' ?\n                  /*#__PURE__*/\n                  // Show search suggestions\n                  _jsxDEV(\"div\", {\n                    className: \"space-y-3\",\n                    children: ((_getAdvancedSearchSug = getAdvancedSearchSuggestions(advancedSearchQuery)) === null || _getAdvancedSearchSug === void 0 ? void 0 : _getAdvancedSearchSug.length) > 0 ? getAdvancedSearchSuggestions(advancedSearchQuery).map((match, index) => {\n                      var _match$data$papers;\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: () => {\n                          setSelectedPath(match.path);\n                          setCurrentBranch(match.data);\n                          setAdvancedSearchQuery('');\n                        },\n                        className: \"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-between\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                              className: \"font-bold text-gray-800\",\n                              children: match.data.label\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1755,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-xs text-gray-500 mt-1\",\n                              children: match.data.branches ? `${Object.keys(match.data.branches).length} サブカテゴリー` : `${((_match$data$papers = match.data.papers) === null || _match$data$papers === void 0 ? void 0 : _match$data$papers.length) || 0} 件の論文`\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1756,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1754,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                            className: \"w-5 h-5 text-gray-400 transform -rotate-90\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1762,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1753,\n                          columnNumber: 31\n                        }, this)\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1744,\n                        columnNumber: 29\n                      }, this);\n                    }) : /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-center text-gray-500 py-8\",\n                      children: \"\\u8A72\\u5F53\\u3059\\u308B\\u7D50\\u679C\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\\u3067\\u3057\\u305F (No results found)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1767,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1741,\n                    columnNumber: 23\n                  }, this) : currentBranch ?\n                  /*#__PURE__*/\n                  // Show current branch contents\n                  _jsxDEV(\"div\", {\n                    className: \"space-y-3\",\n                    children: [currentBranch.branches && Object.keys(currentBranch.branches).map(key => {\n                      var _currentBranch$branch;\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: () => {\n                          setSelectedPath([...selectedPath, key]);\n                          setCurrentBranch(currentBranch.branches[key]);\n                        },\n                        className: \"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center justify-between\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                              className: \"font-bold text-gray-800\",\n                              children: currentBranch.branches[key].label\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1784,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"text-xs text-gray-500 mt-1\",\n                              children: currentBranch.branches[key].branches ? `${Object.keys(currentBranch.branches[key].branches).length} サブカテゴリー` : `${((_currentBranch$branch = currentBranch.branches[key].papers) === null || _currentBranch$branch === void 0 ? void 0 : _currentBranch$branch.length) || 0} 件の論文`\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1785,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1783,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                            className: \"w-5 h-5 text-gray-400 transform -rotate-90\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1791,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1782,\n                          columnNumber: 29\n                        }, this)\n                      }, key, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1774,\n                        columnNumber: 27\n                      }, this);\n                    }), currentBranch.papers && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-3 mt-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"font-bold text-gray-700 border-t pt-4\",\n                        children: \"\\u95A2\\u9023\\u8AD6\\u6587 (Related Papers)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1797,\n                        columnNumber: 29\n                      }, this), currentBranch.papers.map(paperId => {\n                        const paper = papers.find(p => p.id === paperId);\n                        return paper ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          onClick: () => {\n                            var _document$getElementB;\n                            setShowAdvancedSearch(false);\n                            // Scroll to paper in main view\n                            (_document$getElementB = document.getElementById(`paper-${paper.id}`)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.scrollIntoView({\n                              behavior: 'smooth'\n                            });\n                          },\n                          className: \"p-4 border-2 border-blue-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition-all\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                            className: \"font-bold text-gray-800\",\n                            children: paper.title\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1810,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm text-gray-600 mt-1\",\n                            children: paper.titleEn\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1811,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500 mt-2\",\n                            children: [paper.authors, \" (\", paper.year, \")\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1812,\n                            columnNumber: 35\n                          }, this)]\n                        }, paper.id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1801,\n                          columnNumber: 33\n                        }, this) : null;\n                      })]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1796,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1772,\n                    columnNumber: 23\n                  }, this) : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1711,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1662,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1641,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1640,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowFilters({\n                ...showFilters,\n                field: !showFilters.field\n              }),\n              className: \"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u7814\\u7A76\\u5206\\u91CE (Research Field)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1832,\n                columnNumber: 17\n              }, this), showFilters.field ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1833,\n                columnNumber: 38\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1833,\n                columnNumber: 74\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1828,\n              columnNumber: 15\n            }, this), showFilters.field && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: ['材料科学 (Materials Science)', '生命科学 (Life Sciences)', 'ナノサイエンス (Nanoscience)', '高分子科学 (Polymer Science)', '物性物理学 (Condensed Matter Physics)'].map(field => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedFilters.field.includes(field),\n                  onChange: () => toggleFilter('field', field),\n                  className: \"mt-0.5 w-4 h-4 accent-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1839,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: field.split(' (')[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1845,\n                  columnNumber: 23\n                }, this)]\n              }, field, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1838,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1836,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1827,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowFilters({\n                ...showFilters,\n                method: !showFilters.method\n              }),\n              className: \"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u6E2C\\u5B9A\\u624B\\u6CD5 (Method)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1858,\n                columnNumber: 17\n              }, this), showFilters.method ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1859,\n                columnNumber: 39\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1859,\n                columnNumber: 75\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1854,\n              columnNumber: 15\n            }, this), showFilters.method && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: ['X線回折 (X-ray Diffraction)', 'X線結晶構造解析 (X-ray Crystallography)', '時間分解分光 (Time-Resolved Spectroscopy)', '小角X線散乱 (SAXS)'].map(method => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedFilters.method.includes(method),\n                  onChange: () => toggleFilter('method', method),\n                  className: \"mt-0.5 w-4 h-4 accent-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1865,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: method.split(' (')[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1871,\n                  columnNumber: 23\n                }, this)]\n              }, method, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1864,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1862,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1853,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowFilters({\n                ...showFilters,\n                application: !showFilters.application\n              }),\n              className: \"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u7523\\u696D\\u5FDC\\u7528 (Application)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1884,\n                columnNumber: 17\n              }, this), showFilters.application ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1885,\n                columnNumber: 44\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1885,\n                columnNumber: 80\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1880,\n              columnNumber: 15\n            }, this), showFilters.application && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: ['自動車産業 (Automotive)', '製薬・医療 (Pharmaceutical)', 'エネルギー産業 (Energy)', '化学産業 (Chemical)'].map(app => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedFilters.application.includes(app),\n                  onChange: () => toggleFilter('application', app),\n                  className: \"mt-0.5 w-4 h-4 accent-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1891,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: app.split(' (')[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1897,\n                  columnNumber: 23\n                }, this)]\n              }, app, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1890,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1888,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1879,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowFilters({\n                ...showFilters,\n                year: !showFilters.year\n              }),\n              className: \"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u5E74\\u5EA6 (Year)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1910,\n                columnNumber: 17\n              }, this), showFilters.year ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1911,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1911,\n                columnNumber: 73\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1906,\n              columnNumber: 15\n            }, this), showFilters.year && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: [2024, 2023, 2022].map(year => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedFilters.year.includes(year),\n                  onChange: () => toggleFilter('year', year),\n                  className: \"mt-0.5 w-4 h-4 accent-red-800\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1917,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1923,\n                  columnNumber: 23\n                }, this)]\n              }, year, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1916,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1914,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1905,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1635,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 flex items-center justify-between\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: filteredPapers.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1935,\n                columnNumber: 17\n              }, this), \" \\u4EF6\\u306E\\u7D50\\u679C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1934,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1933,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: filteredPapers.map(paper => /*#__PURE__*/_jsxDEV(\"div\", {\n              id: `paper-${paper.id}`,\n              className: \"border-b border-gray-200 pb-6 mb-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    className: \"w-4 h-4 mt-1 accent-red-800\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1944,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1943,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-600 uppercase tracking-wide\",\n                      children: \"\\u5B66\\u8853\\u8AD6\\u6587\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1949,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1948,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    onClick: () => setViewingPaper(paper),\n                    className: \"text-xl font-serif text-gray-900 mb-2 hover:underline cursor-pointer\",\n                    children: paper.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1952,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-700 mb-2\",\n                    children: paper.authors\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1959,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm italic text-gray-600 mb-3\",\n                    children: [\"SPring-8 Research Journal, Vol. \", paper.id, \", No. 1 (\", paper.year, \"), pp. 1-20\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1961,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-800 leading-relaxed mb-3\",\n                    children: [\"...\", paper.mainConclusion.substring(0, 150), \"...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1965,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setViewingPaper(paper),\n                    className: \"text-sm text-blue-700 hover:underline font-medium\",\n                    children: \"\\u8A73\\u7D30\\u3092\\u8868\\u793A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1969,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1947,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-shrink-0 flex flex-col gap-2 w-32\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      if (paper.uploadedFile) {\n                        const fileURL = URL.createObjectURL(paper.uploadedFile);\n                        window.open(fileURL, '_blank');\n                      } else {\n                        alert('この論文のPDFファイルは利用できません');\n                      }\n                    },\n                    className: \"px-4 py-2 bg-red-800 text-white text-sm rounded hover:bg-red-900 font-medium\",\n                    children: \"\\u30AA\\u30F3\\u30E9\\u30A4\\u30F3\\u95B2\\u89A7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1978,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 font-medium\",\n                    children: \"\\u4FDD\\u5B58\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1991,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 font-medium\",\n                    children: \"\\u5F15\\u7528\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1994,\n                    columnNumber: 21\n                  }, this), paper.uploadedFile && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      if (window.confirm('この論文を削除しますか？')) {\n                        setPapers(prevPapers => prevPapers.filter(p => p.id !== paper.id));\n                      }\n                    },\n                    className: \"px-4 py-2 border border-red-300 text-red-700 text-sm rounded hover:bg-red-50 font-medium\",\n                    children: \"\\u524A\\u9664\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1998,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1977,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1942,\n                columnNumber: 17\n              }, this)\n            }, paper.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1941,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1939,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1932,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1633,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1590,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1589,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"1mBLFNkdH+/shW9uxOhsKci1HpY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Upload","Search","FileText","Brain","Loader","ChevronDown","ChevronUp","Filter","X","Link2","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","_getAdvancedSearchSug","currentView","setCurrentView","uploadedFile","setUploadedFile","isProcessing","setIsProcessing","formData","setFormData","searchQuery","setSearchQuery","showFilters","setShowFilters","field","method","application","beamline","year","showAdvancedSearch","setShowAdvancedSearch","advancedSearchQuery","setAdvancedSearchQuery","selectedPath","setSelectedPath","currentBranch","setCurrentBranch","advancedSearchRows","setAdvancedSearchRows","id","boolean","term","selectedDisciplines","setSelectedDisciplines","dateFrom","setDateFrom","dateTo","setDateTo","selectedItemTypes","setSelectedItemTypes","selectedFilters","setSelectedFilters","viewingPaper","setViewingPaper","papers","setPapers","selectedRelatedPapers","setSelectedRelatedPapers","pdfText","setPdfText","relationshipTypes","samplePapersInitial","title","titleEn","authors","mainConclusion","industrialApplication","crossDomain","failedApproach","useEffect","length","disciplines","label","journals","searchKnowledgeTree","type","branches","getAdvancedSearchSuggestions","query","lowerQuery","toLowerCase","trim","matches","Object","keys","forEach","key","includes","push","data","path","mdrcgQuestions","placeholder","required","aiDraft","isDragging","setIsDragging","processFile","file","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","_data$candidates$$con3","arrayBuffer","pdfData","Uint8Array","pdfjsLib","window","GlobalWorkerOptions","workerSrc","loadingTask","getDocument","pdf","promise","fullText","i","numPages","page","getPage","textContent","getTextContent","pageText","items","map","item","str","join","response","fetch","headers","body","JSON","stringify","contents","parts","text","substring","json","candidates","content","aiResponse","replace","extractedData","parse","parseError","console","error","alert","message","handleFileUpload","e","target","files","handleDragOver","preventDefault","stopPropagation","handleDragLeave","handleDrop","dataTransfer","handleInputChange","value","prev","handleSubmit","newPaper","Date","now","name","getFullYear","industrialPain","relatedPapers","prevPapers","toggleFilter","category","current","updated","filter","v","filteredPapers","paper","matchesSearch","matchesField","matchesMethod","matchesApplication","matchesBeamline","matchesYear","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onDragOver","onDragLeave","onDrop","accept","onChange","document","getElementById","script","createElement","src","head","appendChild","existingRelation","find","r","paperId","checked","relationshipType","question","row","index","newRows","t","entries","discipline","d","journal","fileURL","URL","createObjectURL","open","priorWork","novelty","unknownQuestions","abstractPrinciple","experimentalReason","scalingPossibility","combinationPotential","relation","relatedPaper","p","pathItem","slice","branch","autoFocus","match","_match$data$papers","_currentBranch$branch","_document$getElementB","scrollIntoView","behavior","split","app","confirm","_c","$RefreshReg$"],"sources":["/Users/roshan/Desktop/spring8/spring8-mdrcg-system/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Upload, Search, FileText, Brain, Loader, ChevronDown, ChevronUp, Filter, X, Link2 } from 'lucide-react';\n\nconst App = () => {\n  const [currentView, setCurrentView] = useState('upload'); // 'upload', 'form', 'search'\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [formData, setFormData] = useState({});\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showFilters, setShowFilters] = useState({\n    field: true,\n    method: true,\n    application: false,\n    beamline: false,\n    year: false\n  });\n  const [showAdvancedSearch, setShowAdvancedSearch] = useState(false);\n  const [advancedSearchQuery, setAdvancedSearchQuery] = useState('');\n  const [selectedPath, setSelectedPath] = useState([]);\n  const [currentBranch, setCurrentBranch] = useState(null);\n  const [advancedSearchRows, setAdvancedSearchRows] = useState([\n    { id: 1, boolean: 'AND', term: '', field: 'all' }\n  ]);\n  const [selectedDisciplines, setSelectedDisciplines] = useState([]);\n  const [dateFrom, setDateFrom] = useState('');\n  const [dateTo, setDateTo] = useState('');\n  const [selectedItemTypes, setSelectedItemTypes] = useState([]);\n  const [selectedFilters, setSelectedFilters] = useState({\n    field: [],\n    method: [],\n    application: [],\n    beamline: [],\n    year: []\n  });\n  const [viewingPaper, setViewingPaper] = useState(null);\n  const [papers, setPapers] = useState([]);\n  const [selectedRelatedPapers, setSelectedRelatedPapers] = useState([]);\n  const [pdfText, setPdfText] = useState('');\n\n  const relationshipTypes = [\n    'Cited',\n    'Builds upon',\n    'Contradicts',\n    'Extends',\n    'Similar method',\n    'Different approach',\n    'Complements'\n  ];\n\n  // サンプル研究データ (Sample Research Data)\n  const samplePapersInitial = [\n    {\n      id: 1,\n      title: '高エネルギーX線回折による新規触媒材料の構造解析',\n      titleEn: 'Structural Analysis of Novel Catalyst Materials using High-Energy X-ray Diffraction',\n      authors: 'Hatsui, T., Takeshita, K.',\n      year: 2024,\n      field: '材料科学 (Materials Science)',\n      method: 'X線回折 (X-ray Diffraction)',\n      beamline: 'BL19B2',\n      application: '自動車産業 (Automotive)',\n      mainConclusion: '新規Pt-Co合金触媒の原子配列構造を解明し、触媒活性が30%向上することを実証',\n      industrialApplication: '自動車用燃料電池の効率向上、環境触媒技術',\n      crossDomain: '化学工学、エネルギー工学への応用可能',\n      failedApproach: '従来のTEM観察では動的変化を捉えられなかった'\n    },\n    {\n      id: 2,\n      title: 'タンパク質結晶構造解析による創薬ターゲット同定',\n      titleEn: 'Drug Target Identification through Protein Crystal Structure Analysis',\n      authors: 'Yamamoto, M., Tanaka, Y.',\n      year: 2024,\n      field: '生命科学 (Life Sciences)',\n      method: 'X線結晶構造解析 (X-ray Crystallography)',\n      beamline: 'BL41XU',\n      application: '製薬・医療 (Pharmaceutical)',\n      mainConclusion: '新規抗がん剤標的タンパク質の活性部位構造を原子レベルで解明',\n      industrialApplication: '製薬業界における新薬開発、個別化医療',\n      crossDomain: '構造生物学、計算化学への展開',\n      failedApproach: '低温凍結条件では生理的構造が維持できなかった'\n    },\n    {\n      id: 3,\n      title: 'ナノ材料の時間分解分光による電子状態ダイナミクス研究',\n      titleEn: 'Electronic State Dynamics of Nanomaterials via Time-Resolved Spectroscopy',\n      authors: 'Sato, K., Nakamura, H.',\n      year: 2023,\n      field: 'ナノサイエンス (Nanoscience)',\n      method: '時間分解分光 (Time-Resolved Spectroscopy)',\n      beamline: 'BL43IR',\n      application: 'エネルギー産業 (Energy)',\n      mainConclusion: '量子ドットの励起状態寿命が表面修飾により10倍延長可能',\n      industrialApplication: '高効率太陽電池、量子コンピュータ素子開発',\n      crossDomain: '半導体工学、光エレクトロニクス',\n      failedApproach: '室温測定では熱揺らぎの影響が大きすぎた'\n    },\n    {\n      id: 4,\n      title: '高分子材料の放射光X線小角散乱による階層構造解析',\n      titleEn: 'Hierarchical Structure Analysis of Polymer Materials by Synchrotron SAXS',\n      authors: 'Kobayashi, R., Ishida, M.',\n      year: 2023,\n      field: '高分子科学 (Polymer Science)',\n      method: '小角X線散乱 (SAXS)',\n      beamline: 'BL40B2',\n      application: '化学産業 (Chemical)',\n      mainConclusion: '新規生分解性プラスチックのナノ構造制御により強度が2倍向上',\n      industrialApplication: '環境対応型プラスチック製品、包装材料の高性能化',\n      crossDomain: '材料工学、環境科学への応用',\n      failedApproach: '従来のDSC測定では階層構造の詳細が不明瞭だった'\n    },\n    {\n      id: 5,\n      title: '磁性材料のX線磁気円二色性による電子状態観察',\n      titleEn: 'Electronic State Observation of Magnetic Materials by XMCD',\n      authors: 'Fujimoto, S., Watanabe, K.',\n      year: 2024,\n      field: '物性物理学 (Condensed Matter Physics)',\n      method: 'X線磁気円二色性 (XMCD)',\n      beamline: 'BL25SU',\n      application: 'エレクトロニクス (Electronics)',\n      mainConclusion: 'スピントロニクス材料の磁気異方性起源を原子レベルで解明',\n      industrialApplication: '次世代ハードディスク、磁気メモリの高密度化',\n      crossDomain: '情報工学、量子技術への展開',\n      failedApproach: 'SQUID測定では局所的な磁気構造が観測できなかった'\n    },\n    {\n      id: 6,\n      title: '半導体デバイスの高速X線イメージングによる動作解析',\n      titleEn: 'Operational Analysis of Semiconductor Devices by High-Speed X-ray Imaging',\n      authors: 'Suzuki, H., Ito, T.',\n      year: 2022,\n      field: '半導体工学 (Semiconductor Engineering)',\n      method: '高速X線イメージング (High-Speed X-ray Imaging)',\n      beamline: 'BL20XU',\n      application: 'エレクトロニクス (Electronics)',\n      mainConclusion: '次世代パワー半導体の熱応力分布をリアルタイムで可視化',\n      industrialApplication: '電気自動車用パワーデバイスの信頼性向上',\n      crossDomain: '電気工学、熱工学への応用',\n      failedApproach: '可視光観察では内部構造の変化が観測不可能だった'\n    },\n    {\n      id: 7,\n      title: '文化財の非破壊X線分析による製作技法の解明',\n      titleEn: 'Non-Destructive X-ray Analysis for Understanding Cultural Heritage Production Techniques',\n      authors: 'Nakamura, Y., Kimura, A.',\n      year: 2023,\n      field: '文化財科学 (Cultural Heritage Science)',\n      method: 'X線蛍光分析 (XRF)',\n      beamline: 'BL08W',\n      application: '文化・芸術 (Culture & Arts)',\n      mainConclusion: '江戸時代の陶磁器の釉薬組成と焼成温度を非破壊で特定',\n      industrialApplication: '文化財保存技術、伝統工芸の復元',\n      crossDomain: '考古学、歴史学への応用',\n      failedApproach: '従来の顕微鏡観察では内部構造が分からなかった'\n    },\n    {\n      id: 8,\n      title: '地球深部物質の高圧X線回折実験',\n      titleEn: 'High-Pressure X-ray Diffraction Experiments on Deep Earth Materials',\n      authors: 'Takahashi, N., Mori, D.',\n      year: 2024,\n      field: '地球科学 (Earth Science)',\n      method: '高圧X線回折 (High-Pressure XRD)',\n      beamline: 'BL10XU',\n      application: '資源探査 (Resource Exploration)',\n      mainConclusion: 'マントル遷移層の鉱物相転移圧力を精密決定し、地震波速度異常を説明',\n      industrialApplication: '鉱物資源探査、地震予測技術への貢献',\n      crossDomain: '地震学、鉱物学への展開',\n      failedApproach: '常圧実験では高圧相の構造が再現できなかった'\n    },\n    {\n      id: 9,\n      title: '食品成分の放射光赤外分光による分子構造解析',\n      titleEn: 'Molecular Structure Analysis of Food Components by Synchrotron Infrared Spectroscopy',\n      authors: 'Tanaka, M., Saito, E.',\n      year: 2023,\n      field: '食品科学 (Food Science)',\n      method: '赤外分光 (Infrared Spectroscopy)',\n      beamline: 'BL43IR',\n      application: '食品産業 (Food Industry)',\n      mainConclusion: '発酵食品中のタンパク質構造変化と風味の相関を解明',\n      industrialApplication: '機能性食品開発、発酵プロセス最適化',\n      crossDomain: '栄養学、微生物学への応用',\n      failedApproach: '通常の赤外分光では微量成分の検出が困難だった'\n    }\n  ];\n\n  // Initialize papers on first render\n  React.useEffect(() => {\n    if (papers.length === 0) {\n      setPapers(samplePapersInitial);\n    }\n  }, []);\n\n  // 学術分野データ (Academic Disciplines Data)\n  const disciplines = {\n    'Materials Science': {\n      label: '材料科学 (Materials Science)',\n      journals: [\n        'Advanced Materials Research',\n        'Journal of Materials Chemistry',\n        'Materials Science and Engineering',\n        'Acta Materialia',\n        'Scripta Materialia'\n      ]\n    },\n    'Life Sciences': {\n      label: '生命科学 (Life Sciences)',\n      journals: [\n        'Cell',\n        'Nature Structural & Molecular Biology',\n        'Journal of Biological Chemistry',\n        'Protein Science',\n        'FEBS Letters'\n      ]\n    },\n    'Nanoscience': {\n      label: 'ナノサイエンス (Nanoscience)',\n      journals: [\n        'Nature Nanotechnology',\n        'Nano Letters',\n        'ACS Nano',\n        'Small',\n        'Nanoscale'\n      ]\n    },\n    'Polymer Science': {\n      label: '高分子科学 (Polymer Science)',\n      journals: [\n        'Macromolecules',\n        'Polymer',\n        'Journal of Polymer Science',\n        'Polymer Chemistry',\n        'European Polymer Journal'\n      ]\n    },\n    'Condensed Matter Physics': {\n      label: '物性物理学 (Condensed Matter Physics)',\n      journals: [\n        'Physical Review B',\n        'Journal of Physics: Condensed Matter',\n        'Applied Physics Letters',\n        'Physical Review Letters',\n        'Nature Physics'\n      ]\n    },\n    'Semiconductor Engineering': {\n      label: '半導体工学 (Semiconductor Engineering)',\n      journals: [\n        'IEEE Transactions on Electron Devices',\n        'Journal of Applied Physics',\n        'Semiconductor Science and Technology',\n        'Applied Physics Express',\n        'Solid-State Electronics'\n      ]\n    },\n    'Cultural Heritage Science': {\n      label: '文化財科学 (Cultural Heritage Science)',\n      journals: [\n        'Journal of Cultural Heritage',\n        'Studies in Conservation',\n        'Archaeometry',\n        'Heritage Science',\n        'Journal of Archaeological Science'\n      ]\n    },\n    'Earth Science': {\n      label: '地球科学 (Earth Science)',\n      journals: [\n        'Earth and Planetary Science Letters',\n        'Geology',\n        'Geophysical Research Letters',\n        'Journal of Geophysical Research',\n        'Nature Geoscience'\n      ]\n    },\n    'Food Science': {\n      label: '食品科学 (Food Science)',\n      journals: [\n        'Food Chemistry',\n        'Journal of Agricultural and Food Chemistry',\n        'Food Research International',\n        'Trends in Food Science & Technology',\n        'Food Hydrocolloids'\n      ]\n    },\n    'Chemistry': {\n      label: '化学 (Chemistry)',\n      journals: [\n        'Journal of the American Chemical Society',\n        'Angewandte Chemie',\n        'Chemical Reviews',\n        'Analytical Chemistry',\n        'Inorganic Chemistry'\n      ]\n    }\n  };\n\n  // 高度検索ナレッジツリー (Advanced Search Knowledge Tree)\n  const searchKnowledgeTree = {\n    'x線': {\n      type: 'category',\n      label: 'X線技術 (X-ray Technology)',\n      branches: {\n        'x線回折': {\n          type: 'category',\n          label: 'X線回折 (X-ray Diffraction)',\n          branches: {\n            '高エネルギー': {\n              type: 'subcategory',\n              label: '高エネルギーX線回折 (High-Energy XRD)',\n              papers: [1]\n            },\n            '高圧': {\n              type: 'subcategory',\n              label: '高圧X線回折 (High-Pressure XRD)',\n              papers: [8]\n            },\n            '一般': {\n              type: 'subcategory',\n              label: '一般X線回折 (General XRD)',\n              papers: [1]\n            }\n          }\n        },\n        'x線結晶構造解析': {\n          type: 'subcategory',\n          label: 'X線結晶構造解析 (X-ray Crystallography)',\n          papers: [2]\n        },\n        'x線散乱': {\n          type: 'category',\n          label: 'X線散乱 (X-ray Scattering)',\n          branches: {\n            '小角散乱': {\n              type: 'subcategory',\n              label: '小角X線散乱 (SAXS)',\n              papers: [4]\n            }\n          }\n        },\n        'x線分光': {\n          type: 'category',\n          label: 'X線分光 (X-ray Spectroscopy)',\n          branches: {\n            '磁気円二色性': {\n              type: 'subcategory',\n              label: 'X線磁気円二色性 (XMCD)',\n              papers: [5]\n            },\n            '蛍光分析': {\n              type: 'subcategory',\n              label: 'X線蛍光分析 (XRF)',\n              papers: [7]\n            }\n          }\n        },\n        'x線イメージング': {\n          type: 'subcategory',\n          label: 'X線イメージング (X-ray Imaging)',\n          papers: [6]\n        }\n      }\n    },\n    '分光': {\n      type: 'category',\n      label: '分光技術 (Spectroscopy)',\n      branches: {\n        '時間分解': {\n          type: 'subcategory',\n          label: '時間分解分光 (Time-Resolved Spectroscopy)',\n          papers: [3]\n        },\n        '赤外分光': {\n          type: 'subcategory',\n          label: '赤外分光 (Infrared Spectroscopy)',\n          papers: [9]\n        }\n      }\n    },\n    '触媒': {\n      type: 'category',\n      label: '触媒研究 (Catalyst Research)',\n      branches: {\n        '合金触媒': {\n          type: 'subcategory',\n          label: '合金触媒 (Alloy Catalysts)',\n          papers: [1]\n        },\n        '構造解析': {\n          type: 'subcategory',\n          label: '触媒構造解析 (Catalyst Structure Analysis)',\n          papers: [1]\n        }\n      }\n    },\n    'タンパク質': {\n      type: 'category',\n      label: 'タンパク質研究 (Protein Research)',\n      branches: {\n        '結晶構造': {\n          type: 'subcategory',\n          label: 'タンパク質結晶構造 (Protein Crystal Structure)',\n          papers: [2]\n        },\n        '創薬': {\n          type: 'subcategory',\n          label: '創薬ターゲット (Drug Targets)',\n          papers: [2]\n        }\n      }\n    },\n    'ナノ材料': {\n      type: 'category',\n      label: 'ナノ材料 (Nanomaterials)',\n      branches: {\n        '量子ドット': {\n          type: 'subcategory',\n          label: '量子ドット (Quantum Dots)',\n          papers: [3]\n        },\n        '電子状態': {\n          type: 'subcategory',\n          label: '電子状態解析 (Electronic State Analysis)',\n          papers: [3, 5]\n        }\n      }\n    },\n    '高分子': {\n      type: 'category',\n      label: '高分子材料 (Polymer Materials)',\n      branches: {\n        '生分解性': {\n          type: 'subcategory',\n          label: '生分解性プラスチック (Biodegradable Plastics)',\n          papers: [4]\n        },\n        '階層構造': {\n          type: 'subcategory',\n          label: '階層構造解析 (Hierarchical Structure)',\n          papers: [4]\n        }\n      }\n    },\n    '磁性材料': {\n      type: 'category',\n      label: '磁性材料 (Magnetic Materials)',\n      branches: {\n        'スピントロニクス': {\n          type: 'subcategory',\n          label: 'スピントロニクス (Spintronics)',\n          papers: [5]\n        }\n      }\n    },\n    '半導体': {\n      type: 'category',\n      label: '半導体 (Semiconductors)',\n      branches: {\n        'パワーデバイス': {\n          type: 'subcategory',\n          label: 'パワー半導体 (Power Semiconductors)',\n          papers: [6]\n        },\n        '熱応力解析': {\n          type: 'subcategory',\n          label: '熱応力解析 (Thermal Stress Analysis)',\n          papers: [6]\n        }\n      }\n    },\n    '文化財': {\n      type: 'category',\n      label: '文化財 (Cultural Heritage)',\n      branches: {\n        '非破壊分析': {\n          type: 'subcategory',\n          label: '非破壊分析 (Non-Destructive Analysis)',\n          papers: [7]\n        },\n        '陶磁器': {\n          type: 'subcategory',\n          label: '陶磁器分析 (Ceramic Analysis)',\n          papers: [7]\n        }\n      }\n    },\n    '地球科学': {\n      type: 'category',\n      label: '地球科学 (Earth Science)',\n      branches: {\n        '高圧実験': {\n          type: 'subcategory',\n          label: '高圧実験 (High-Pressure Experiments)',\n          papers: [8]\n        },\n        'マントル': {\n          type: 'subcategory',\n          label: 'マントル研究 (Mantle Research)',\n          papers: [8]\n        }\n      }\n    },\n    '食品': {\n      type: 'category',\n      label: '食品科学 (Food Science)',\n      branches: {\n        '発酵食品': {\n          type: 'subcategory',\n          label: '発酵食品 (Fermented Foods)',\n          papers: [9]\n        },\n        'タンパク質構造': {\n          type: 'subcategory',\n          label: '食品タンパク質 (Food Proteins)',\n          papers: [9]\n        }\n      }\n    },\n    '産業応用': {\n      type: 'category',\n      label: '産業応用 (Industrial Applications)',\n      branches: {\n        '自動車': {\n          type: 'subcategory',\n          label: '自動車産業 (Automotive)',\n          papers: [1, 6]\n        },\n        '製薬': {\n          type: 'subcategory',\n          label: '製薬・医療 (Pharmaceutical)',\n          papers: [2]\n        },\n        'エネルギー': {\n          type: 'subcategory',\n          label: 'エネルギー (Energy)',\n          papers: [3]\n        },\n        '化学': {\n          type: 'subcategory',\n          label: '化学産業 (Chemical)',\n          papers: [4]\n        },\n        'エレクトロニクス': {\n          type: 'subcategory',\n          label: 'エレクトロニクス (Electronics)',\n          papers: [5, 6]\n        }\n      }\n    }\n  };\n\n  // 高度検索でマッチする項目を取得 (Get matching items for advanced search)\n  const getAdvancedSearchSuggestions = (query) => {\n    if (!query) return null;\n    \n    const lowerQuery = query.toLowerCase().trim();\n    const matches = [];\n\n    Object.keys(searchKnowledgeTree).forEach(key => {\n      if (key.includes(lowerQuery) || searchKnowledgeTree[key].label.toLowerCase().includes(lowerQuery)) {\n        matches.push({\n          key: key,\n          data: searchKnowledgeTree[key],\n          path: [key]\n        });\n      }\n    });\n\n    return matches;\n  };\n\n  // MDRCG質問項目 (MDRCG Question Items)\n  const mdrcgQuestions = [\n    {\n      id: 'mainConclusion',\n      label: '主な結論 (Main Conclusion)',\n      placeholder: 'この研究で明らかになった最も重要な発見を1-2文で記述してください',\n      type: 'textarea',\n      required: true,\n      aiDraft: '新規Pt-Co合金触媒の原子配列構造を解明し、従来触媒と比較して触媒活性が30%向上することを実証しました。'\n    },\n    {\n      id: 'priorWork',\n      label: '先行研究との関係 (Relationship to Prior Work)',\n      placeholder: 'この研究が基づいている3-5つの重要な先行研究を挙げてください',\n      type: 'textarea',\n      required: true,\n      aiDraft: '1) Smith et al. (2020)のPt触媒基礎研究\\n2) Tanaka et al. (2021)の合金触媒設計理論\\n3) Johnson et al. (2022)のX線回折技術改良'\n    },\n    {\n      id: 'novelty',\n      label: '新規性 (Novelty)',\n      placeholder: 'この研究の独自の貢献は何ですか？',\n      type: 'textarea',\n      required: true,\n      aiDraft: '高エネルギーX線回折とその場観察を組み合わせることで、触媒反応中の原子配列動的変化を初めてリアルタイムで捉えることに成功'\n    },\n    {\n      id: 'unknownQuestions',\n      label: '未解明の課題 (Remaining Unknown Questions)',\n      placeholder: 'この研究では答えられなかった2-3の具体的な疑問',\n      type: 'textarea',\n      required: false,\n      aiDraft: '1) 長期使用時の構造安定性\\n2) 他の金属組み合わせでの再現性\\n3) スケールアップ時の特性維持'\n    },\n    {\n      id: 'failedApproach',\n      label: '失敗したアプローチ (Failed Approaches)',\n      placeholder: 'うまくいかなかった手法とその理由',\n      type: 'textarea',\n      required: false,\n      aiDraft: '当初TEMでの観察を試みたが、電子線による試料ダメージと時間分解能の限界により動的変化の観察が困難でした'\n    },\n    {\n      id: 'crossDomain',\n      label: '異分野翻訳レイヤー (Cross-Domain Translation)',\n      placeholder: '他分野での類似問題や応用可能性',\n      type: 'textarea',\n      required: true,\n      aiDraft: '化学工学：反応器設計への応用\\nエネルギー工学：燃料電池電極材料開発\\n環境科学：排ガス浄化触媒への展開'\n    },\n    {\n      id: 'industrialPain',\n      label: '産業応用可能性 (Industrial Application Potential)',\n      placeholder: 'この研究が解決できる具体的な産業課題',\n      type: 'textarea',\n      required: true,\n      aiDraft: '自動車産業：燃料電池車の効率向上とコスト削減\\n化学産業：環境触媒の高性能化\\nエネルギー産業：水素製造触媒の改良'\n    },\n    {\n      id: 'abstractPrinciple',\n      label: '抽象化された原理 (Abstracted Principle - 5th Grade Level)',\n      placeholder: '小学5年生でも理解できるように説明してください',\n      type: 'textarea',\n      required: true,\n      aiDraft: '異なる金属を混ぜ合わせることで、それぞれの良いところを組み合わせた「スーパー触媒」を作ることができます。特殊なX線カメラで原子の並び方を見ながら、一番効率の良い組み合わせを見つけました。'\n    },\n    {\n      id: 'experimentalReason',\n      label: '実験設計の理由 (Experimental Design Rationale)',\n      placeholder: 'なぜこのパラメータ・手法を選んだのか',\n      type: 'textarea',\n      required: false,\n      aiDraft: '高エネルギーX線（113keV）を選択した理由：試料内部の情報を非破壊で取得可能\\n温度範囲300-800K：実際の触媒反応条件に対応'\n    },\n    {\n      id: 'scalingPossibility',\n      label: 'スケーリング可能性 (Scaling Possibilities)',\n      placeholder: 'この技術は異なるスケールで機能しますか？',\n      type: 'textarea',\n      required: false,\n      aiDraft: 'ナノスケール（触媒粒子）からマクロスケール（実用触媒層）まで適用可能。ただし工業スケールでは製造プロセスの最適化が必要。'\n    },\n    {\n      id: 'combinationPotential',\n      label: '組み合わせ可能性 (Combination Potential)',\n      placeholder: '他の技術と組み合わせる可能性',\n      type: 'textarea',\n      required: false,\n      aiDraft: '機械学習による構造予測と組み合わせることで、最適組成の探索時間を大幅短縮可能。計算科学との連携で新材料設計が加速。'\n    }\n  ];\n\n  const [isDragging, setIsDragging] = useState(false);\n\n  const processFile = async (file) => {\n    if (file && file.type === 'application/pdf') {\n      setUploadedFile(file);\n      setIsProcessing(true);\n      \n      try {\n        // Extract text from PDF\n        const arrayBuffer = await file.arrayBuffer();\n        const pdfData = new Uint8Array(arrayBuffer);\n        \n        // Convert PDF to text using pdf-parse\n        const pdfjsLib = window['pdfjs-dist/build/pdf'];\n        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';\n        \n        const loadingTask = pdfjsLib.getDocument({ data: pdfData });\n        const pdf = await loadingTask.promise;\n        \n        let fullText = '';\n        for (let i = 1; i <= pdf.numPages; i++) {\n          const page = await pdf.getPage(i);\n          const textContent = await page.getTextContent();\n          const pageText = textContent.items.map(item => item.str).join(' ');\n          fullText += pageText + '\\n';\n        }\n        \n        setPdfText(fullText);\n        \n        // Call Gemini API to analyze the PDF\n        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDq3QtkT6UFOkkbpVpOW3ceOlvWp7uBq8c`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            contents: [{\n              parts: [{\n                text: `You are analyzing a research paper. Extract the following information from the text and respond ONLY with a JSON object (no markdown, no extra text):\n\nPDF Text:\n${fullText.substring(0, 15000)}\n\nPlease extract and create a JSON object with these fields:\n{\n  \"mainConclusion\": \"1-2 sentence summary of the main findings\",\n  \"priorWork\": \"List 3-5 key prior studies this builds on (numbered list format)\",\n  \"novelty\": \"What makes this research unique and new\",\n  \"unknownQuestions\": \"2-3 questions this research couldn't answer (numbered list)\",\n  \"failedApproach\": \"Methods that didn't work and why\",\n  \"crossDomain\": \"Applications in other fields\",\n  \"industrialPain\": \"Specific industrial problems this solves\",\n  \"abstractPrinciple\": \"Explain this to a 5th grader in simple terms\",\n  \"experimentalReason\": \"Why these specific parameters/methods were chosen\",\n  \"scalingPossibility\": \"Can this work at different scales?\",\n  \"combinationPotential\": \"How can this combine with other technologies?\"\n}\n\nRespond ONLY with valid JSON, no markdown formatting.`\n              }]\n            }]\n          })\n        });\n\n        const data = await response.json();\n        \n        if (data.candidates && data.candidates[0]?.content?.parts?.[0]?.text) {\n          let aiResponse = data.candidates[0].content.parts[0].text;\n          \n          // Clean up the response - remove markdown code blocks if present\n          aiResponse = aiResponse.replace(/```json\\n?/g, '').replace(/```\\n?/g, '').trim();\n          \n          try {\n            const extractedData = JSON.parse(aiResponse);\n            setFormData(extractedData);\n          } catch (parseError) {\n            console.error('JSON parse error:', parseError);\n            alert('PDFの解析中にエラーが発生しました。もう一度お試しください。');\n          }\n        }\n        \n        setIsProcessing(false);\n        setCurrentView('form');\n        \n      } catch (error) {\n        console.error('Error processing PDF:', error);\n        alert('PDFの処理中にエラーが発生しました: ' + error.message);\n        setIsProcessing(false);\n      }\n    } else {\n      alert('PDFファイルのみアップロード可能です');\n    }\n  };\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    processFile(file);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    \n    const file = e.dataTransfer.files[0];\n    processFile(file);\n  };\n\n  const handleInputChange = (id, value) => {\n    setFormData(prev => ({ ...prev, [id]: value }));\n  };\n\n  const handleSubmit = () => {\n    // Create new paper from form data\n    const newPaper = {\n      id: Date.now(),\n      title: uploadedFile ? uploadedFile.name.replace('.pdf', '') : '新規論文',\n      titleEn: 'New Research Paper',\n      authors: 'Kitagawa, H.',\n      year: new Date().getFullYear(),\n      field: '材料科学 (Materials Science)',\n      method: 'X線回折 (X-ray Diffraction)',\n      beamline: 'BL19B2',\n      application: '自動車産業 (Automotive)',\n      mainConclusion: formData.mainConclusion || '新しく登録された研究論文です',\n      industrialApplication: formData.industrialPain || '産業応用の詳細',\n      crossDomain: formData.crossDomain || '異分野応用の可能性',\n      failedApproach: formData.failedApproach || '',\n      uploadedFile: uploadedFile,\n      formData: formData,\n      relatedPapers: selectedRelatedPapers,\n      pdfText: pdfText\n    };\n    \n    // Add to papers state\n    setPapers(prevPapers => [newPaper, ...prevPapers]);\n    \n    // Reset form and go to search\n    setFormData({});\n    setUploadedFile(null);\n    setSelectedRelatedPapers([]);\n    setPdfText('');\n    setCurrentView('search');\n  };\n\n  const toggleFilter = (category, value) => {\n    setSelectedFilters(prev => {\n      const current = prev[category];\n      const updated = current.includes(value)\n        ? current.filter(v => v !== value)\n        : [...current, value];\n      return { ...prev, [category]: updated };\n    });\n  };\n\n  const filteredPapers = papers.filter(paper => {\n    const matchesSearch = searchQuery === '' || \n      paper.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.titleEn.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.authors.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.mainConclusion.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.industrialApplication.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.crossDomain.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.field.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      paper.method.toLowerCase().includes(searchQuery.toLowerCase());\n    \n    const matchesField = selectedFilters.field.length === 0 || selectedFilters.field.includes(paper.field);\n    const matchesMethod = selectedFilters.method.length === 0 || selectedFilters.method.includes(paper.method);\n    const matchesApplication = selectedFilters.application.length === 0 || selectedFilters.application.includes(paper.application);\n    const matchesBeamline = selectedFilters.beamline.length === 0 || selectedFilters.beamline.includes(paper.beamline);\n    const matchesYear = selectedFilters.year.length === 0 || selectedFilters.year.includes(paper.year);\n    \n    return matchesSearch && matchesField && matchesMethod && matchesApplication && matchesBeamline && matchesYear;\n  });\n\n  // アップロードビュー (Upload View)\n  if (currentView === 'upload') {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <div className=\"max-w-full mx-auto\">\n          {/* Header */}\n          <div className=\"bg-white border-b border-gray-200 px-8 py-4\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                SPring-8 研究データベース\n              </h1>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setCurrentView('search')}\n                  className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\"\n                >\n                  検索\n                </button>\n                <button className=\"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\">\n                  ログイン\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"max-w-4xl mx-auto p-8\">\n            <div className=\"mb-8\">\n              <h2 className=\"text-4xl font-serif text-gray-900 mb-2\">研究論文アップロード</h2>\n              <p className=\"text-gray-600\">多次元研究コンテキストグラフシステム</p>\n            </div>\n\n            <div className=\"bg-white border-2 border-gray-300 rounded-lg p-12\">\n              <div \n                onDragOver={handleDragOver}\n                onDragLeave={handleDragLeave}\n                onDrop={handleDrop}\n                className={`border-4 border-dashed rounded-lg p-16 text-center transition-all ${\n                  isDragging \n                    ? 'border-blue-500 bg-blue-50' \n                    : 'border-gray-300 bg-gray-50 hover:bg-gray-100'\n                }`}\n              >\n                <Upload className={`w-20 h-20 mx-auto mb-6 transition-colors ${\n                  isDragging ? 'text-blue-500' : 'text-gray-400'\n                }`} />\n                <h3 className=\"text-2xl font-semibold text-gray-800 mb-3\">\n                  {isDragging ? 'ここにドロップしてください' : '研究論文をアップロード'}\n                </h3>\n                <p className=\"text-gray-600 mb-8 max-w-2xl mx-auto\">\n                  {isDragging ? (\n                    <span className=\"text-blue-600 font-semibold\">ファイルをドロップ</span>\n                  ) : (\n                    <>\n                      PDFファイルをドラッグ&ドロップ、またはクリックしてアップロード<br/>\n                      <span className=\"text-sm\">(Drag & drop or click to upload PDF)</span>\n                    </>\n                  )}\n                </p>\n                \n                <label className=\"inline-block\">\n                  <input\n                    type=\"file\"\n                    accept=\".pdf\"\n                    onChange={handleFileUpload}\n                    className=\"hidden\"\n                  />\n                  <span className=\"px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold cursor-pointer inline-block\">\n                    PDFファイルを選択\n                  </span>\n                </label>\n\n                {uploadedFile && (\n                  <div className=\"mt-8 inline-flex items-center gap-3 bg-white p-4 rounded-lg border border-gray-300\">\n                    <FileText className=\"w-6 h-6 text-red-800\" />\n                    <span className=\"font-semibold text-gray-800\">{uploadedFile.name}</span>\n                  </div>\n                )}\n              </div>\n\n              {isProcessing && (\n                <div className=\"mt-12 text-center\">\n                  <Loader className=\"w-16 h-16 mx-auto animate-spin text-red-800 mb-6\" />\n                  <p className=\"text-xl font-semibold text-gray-800 mb-2\">\n                    AIが論文を解析中...\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    MDRCG情報を自動生成しています\n                  </p>\n                </div>\n              )}\n            </div>\n\n            {/* Instructions */}\n            <div className=\"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6\">\n              <h4 className=\"font-semibold text-gray-900 mb-3\">アップロード後の流れ</h4>\n              <ul className=\"space-y-2 text-sm text-gray-700\">\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\">•</span>\n                  <span>AIが研究論文を分析し、重要な情報を抽出します</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\">•</span>\n                  <span>自動生成されたMDRCGフォームを確認・編集できます</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\">•</span>\n                  <span>あなたの研究が多次元で検索可能になります</span>\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-blue-600 mt-1\">•</span>\n                  <span>異分野との関連性が自動的に特定されます</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Load PDF.js library\n  React.useEffect(() => {\n    if (!document.getElementById('pdfjs-script')) {\n      const script = document.createElement('script');\n      script.id = 'pdfjs-script';\n      script.src = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js';\n      document.head.appendChild(script);\n    }\n  }, []);\n\n  // フォームビュー (Form View)\n  if (currentView === 'form') {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <div className=\"max-w-full mx-auto\">\n          {/* Header */}\n          <div className=\"bg-white border-b border-gray-200 px-8 py-4\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                SPring-8 研究データベース\n              </h1>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setCurrentView('search')}\n                  className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\"\n                >\n                  検索\n                </button>\n                <button className=\"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\">\n                  ログイン\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"max-w-5xl mx-auto p-8\">\n            <div className=\"bg-white border border-gray-300 rounded-lg p-8\">\n            <div className=\"mb-6\">\n              <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\n                MDRCG 情報入力フォーム\n              </h1>\n              <p className=\"text-gray-600\">Research Context Information Form</p>\n              <div className=\"mt-4 p-4 bg-green-50 border-l-4 border-green-500 rounded\">\n                <div className=\"flex items-center\">\n                  <Brain className=\"w-5 h-5 text-green-600 mr-2\" />\n                  <p className=\"text-sm text-green-800\">\n                    <strong>AIドラフト生成完了！</strong> 以下の内容を確認・修正してください\n                    <br/>(AI draft generated! Please review and edit as needed)\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Paper Relationships Section */}\n            {papers.length > 0 && (\n              <div className=\"mb-8 p-6 bg-blue-50 border-2 border-blue-200 rounded-lg\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <Link2 className=\"w-5 h-5 text-blue-600\" />\n                  <h2 className=\"text-xl font-bold text-gray-800\">\n                    関連論文の選択 (Related Papers)\n                  </h2>\n                </div>\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  この論文と関連する既存の論文を選択し、関係性を指定してください\n                </p>\n                <div className=\"space-y-3 max-h-64 overflow-y-auto\">\n                  {papers.map(paper => {\n                    const existingRelation = selectedRelatedPapers.find(r => r.paperId === paper.id);\n                    return (\n                      <div key={paper.id} className=\"flex items-center gap-3 p-3 bg-white rounded border border-gray-300\">\n                        <input\n                          type=\"checkbox\"\n                          checked={!!existingRelation}\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              setSelectedRelatedPapers([...selectedRelatedPapers, {\n                                paperId: paper.id,\n                                relationshipType: 'Cited'\n                              }]);\n                            } else {\n                              setSelectedRelatedPapers(selectedRelatedPapers.filter(r => r.paperId !== paper.id));\n                            }\n                          }}\n                          className=\"w-4 h-4 accent-blue-600\"\n                        />\n                        <div className=\"flex-1\">\n                          <p className=\"text-sm font-semibold text-gray-800\">{paper.title}</p>\n                          <p className=\"text-xs text-gray-500\">{paper.authors} ({paper.year})</p>\n                        </div>\n                        {existingRelation && (\n                          <select\n                            value={existingRelation.relationshipType}\n                            onChange={(e) => {\n                              setSelectedRelatedPapers(selectedRelatedPapers.map(r =>\n                                r.paperId === paper.id ? { ...r, relationshipType: e.target.value } : r\n                              ));\n                            }}\n                            className=\"px-3 py-1 border-2 border-gray-300 rounded text-sm font-medium\"\n                          >\n                            {relationshipTypes.map(type => (\n                              <option key={type} value={type}>{type}</option>\n                            ))}\n                          </select>\n                        )}\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            )}\n\n            <div className=\"space-y-6 max-h-[600px] overflow-y-auto pr-4\">\n              {mdrcgQuestions.map((question) => (\n                <div key={question.id} className=\"border-b pb-6\">\n                  <label className=\"block mb-2\">\n                    <span className=\"text-lg font-semibold text-gray-800\">\n                      {question.label}\n                      {question.required && <span className=\"text-red-500 ml-1\">*</span>}\n                    </span>\n                  </label>\n                  <textarea\n                    value={formData[question.id] || ''}\n                    onChange={(e) => handleInputChange(question.id, e.target.value)}\n                    placeholder={question.placeholder}\n                    className=\"w-full p-4 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none min-h-[120px] bg-yellow-50\"\n                    required={question.required}\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    💡 AIが生成した内容です。必要に応じて修正してください\n                  </p>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"mt-8 flex gap-4\">\n              <button\n                onClick={() => setCurrentView('upload')}\n                className=\"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\"\n              >\n                ← 戻る\n              </button>\n              <button\n                onClick={handleSubmit}\n                className=\"flex-1 px-6 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\"\n              >\n                登録して公開\n              </button>\n            </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // 高度検索ビュー (Advanced Search View)\n  if (currentView === 'advancedSearch') {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <div className=\"max-w-6xl mx-auto p-8\">\n          {/* Header */}\n          <div className=\"mb-8\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h1 className=\"text-4xl font-serif text-gray-900\">高度検索</h1>\n              <button\n                onClick={() => setCurrentView('search')}\n                className=\"text-sm text-blue-700 hover:text-blue-900 underline\"\n              >\n                ← 簡易検索に戻る\n              </button>\n            </div>\n            <button className=\"text-sm text-blue-700 hover:underline\">検索ヘルプ</button>\n          </div>\n\n          {/* Tabs */}\n          <div className=\"border-b-2 border-gray-300 mb-8\">\n            <button className=\"px-6 py-3 text-sm font-semibold border-b-4 border-black -mb-0.5\">\n              全コンテンツ\n            </button>\n            <button className=\"px-6 py-3 text-sm text-gray-600 hover:text-gray-900\">\n              画像\n            </button>\n          </div>\n\n          {/* Construct Query Section */}\n          <div className=\"bg-white rounded-lg border border-gray-300 p-8 mb-8\">\n            <h2 className=\"text-2xl font-serif text-gray-900 mb-6\">検索クエリを構築</h2>\n            \n            {advancedSearchRows.map((row, index) => (\n              <div key={row.id} className=\"mb-4\">\n                <div className=\"grid grid-cols-12 gap-4 items-start\">\n                  {index > 0 && (\n                    <div className=\"col-span-2\">\n                      <label className=\"block text-xs font-semibold text-gray-700 mb-1\">論理演算子</label>\n                      <select\n                        value={row.boolean}\n                        onChange={(e) => {\n                          const newRows = [...advancedSearchRows];\n                          newRows[index].boolean = e.target.value;\n                          setAdvancedSearchRows(newRows);\n                        }}\n                        className=\"w-full px-3 py-2 border border-gray-400 rounded text-sm\"\n                      >\n                        <option value=\"AND\">AND</option>\n                        <option value=\"OR\">OR</option>\n                        <option value=\"NOT\">NOT</option>\n                        <option value=\"NEAR 5\">NEAR 5</option>\n                        <option value=\"NEAR 10\">NEAR 10</option>\n                        <option value=\"NEAR 25\">NEAR 25</option>\n                      </select>\n                    </div>\n                  )}\n                  \n                  <div className={index === 0 ? 'col-span-6' : 'col-span-5'}>\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">検索語句</label>\n                    <input\n                      type=\"text\"\n                      value={row.term}\n                      onChange={(e) => {\n                        const newRows = [...advancedSearchRows];\n                        newRows[index].term = e.target.value;\n                        setAdvancedSearchRows(newRows);\n                      }}\n                      className=\"w-full px-3 py-2 border border-gray-400 rounded text-sm\"\n                      placeholder=\"検索キーワードを入力...\"\n                    />\n                  </div>\n                  \n                  <div className=\"col-span-4\">\n                    <label className=\"block text-xs font-semibold text-gray-700 mb-1\">検索フィールド</label>\n                    <select\n                      value={row.field}\n                      onChange={(e) => {\n                        const newRows = [...advancedSearchRows];\n                        newRows[index].field = e.target.value;\n                        setAdvancedSearchRows(newRows);\n                      }}\n                      className=\"w-full px-3 py-2 border border-gray-400 rounded text-sm\"\n                    >\n                      <option value=\"all\">全フィールド</option>\n                      <option value=\"title\">タイトル</option>\n                      <option value=\"author\">著者</option>\n                      <option value=\"abstract\">要旨</option>\n                      <option value=\"caption\">説明</option>\n                    </select>\n                  </div>\n                  \n                  {index > 0 && (\n                    <div className=\"col-span-1 pt-6\">\n                      <button\n                        onClick={() => {\n                          setAdvancedSearchRows(advancedSearchRows.filter(r => r.id !== row.id));\n                        }}\n                        className=\"text-gray-600 hover:text-red-600\"\n                      >\n                        <X className=\"w-5 h-5\" />\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n            \n            <button\n              onClick={() => {\n                setAdvancedSearchRows([\n                  ...advancedSearchRows,\n                  { id: Date.now(), boolean: 'AND', term: '', field: 'all' }\n                ]);\n              }}\n              className=\"mt-4 px-4 py-2 text-sm border border-gray-400 rounded hover:bg-gray-50 flex items-center gap-2\"\n            >\n              <span className=\"text-lg\">+</span> 行を追加\n            </button>\n\n            {/* Access Type */}\n            <div className=\"mt-8\">\n              <label className=\"block text-xs font-semibold text-gray-700 mb-2\">アクセスタイプを選択</label>\n              <select className=\"w-80 px-3 py-2 border border-gray-400 rounded text-sm\">\n                <option>すべて</option>\n                <option>アクセス可能なコンテンツ</option>\n              </select>\n            </div>\n\n            <button\n              onClick={() => {\n                // Apply advanced search and go back to results\n                setCurrentView('search');\n              }}\n              className=\"mt-6 px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\"\n            >\n              高度検索を実行\n            </button>\n          </div>\n\n          {/* Narrow Results Section */}\n          <div className=\"bg-white rounded-lg border border-gray-300 p-8\">\n            <h2 className=\"text-2xl font-serif text-gray-900 mb-6\">検索結果を絞り込む</h2>\n            \n            {/* Item Type */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-900 mb-3\">アイテムタイプ</h3>\n              <div className=\"space-y-2\">\n                {['論文', '研究報告', 'レビュー', 'その他', '書籍'].map(type => (\n                  <label key={type} className=\"flex items-center gap-2 text-sm cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedItemTypes.includes(type)}\n                      onChange={() => {\n                        setSelectedItemTypes(prev =>\n                          prev.includes(type) ? prev.filter(t => t !== type) : [...prev, type]\n                        );\n                      }}\n                      className=\"w-4 h-4 accent-red-800\"\n                    />\n                    <span className=\"text-gray-700\">{type}</span>\n                  </label>\n                ))}\n              </div>\n            </div>\n\n            {/* Publication Date */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-900 mb-3\">出版日</h3>\n              <div className=\"flex items-center gap-4\">\n                <div>\n                  <label className=\"block text-xs text-gray-600 mb-1\">開始日</label>\n                  <input\n                    type=\"text\"\n                    value={dateFrom}\n                    onChange={(e) => setDateFrom(e.target.value)}\n                    placeholder=\"yyyy/mm/dd\"\n                    className=\"w-32 px-3 py-2 border border-gray-400 rounded text-sm\"\n                  />\n                </div>\n                <div className=\"pt-6\">\n                  <span className=\"text-gray-600\">〜</span>\n                </div>\n                <div>\n                  <label className=\"block text-xs text-gray-600 mb-1\">&nbsp;</label>\n                  <input\n                    type=\"text\"\n                    value={dateTo}\n                    onChange={(e) => setDateTo(e.target.value)}\n                    placeholder=\"yyyy/mm/dd\"\n                    className=\"w-32 px-3 py-2 border border-gray-400 rounded text-sm\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Disciplines */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-900 mb-3\">学術分野で絞り込む</h3>\n              <div className=\"space-y-1 max-h-96 overflow-y-auto border border-gray-300 rounded p-4\">\n                {Object.entries(disciplines).map(([key, discipline]) => (\n                  <div key={key}>\n                    <label className=\"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-50 p-1 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedDisciplines.includes(key)}\n                        onChange={() => {\n                          setSelectedDisciplines(prev =>\n                            prev.includes(key) ? prev.filter(d => d !== key) : [...prev, key]\n                          );\n                        }}\n                        className=\"w-4 h-4 mt-0.5 accent-red-800\"\n                      />\n                      <div>\n                        <div className=\"font-medium text-gray-900\">{discipline.label}</div>\n                        {selectedDisciplines.includes(key) && (\n                          <div className=\"ml-6 mt-2 space-y-1\">\n                            {discipline.journals.map(journal => (\n                              <div key={journal} className=\"text-xs text-blue-700 hover:underline cursor-pointer\">\n                                {journal}\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    </label>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <button\n              onClick={() => {\n                setCurrentView('search');\n              }}\n              className=\"px-8 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\"\n            >\n              高度検索を実行\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // 論文詳細ビュー (Paper Detail View)\n  if (currentView === 'search' && viewingPaper) {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <div className=\"max-w-full mx-auto\">\n          {/* Header */}\n          <div className=\"bg-white border-b border-gray-200 px-8 py-4\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                SPring-8 研究データベース\n              </h1>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setViewingPaper(null)}\n                  className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\"\n                >\n                  ← 検索結果に戻る\n                </button>\n                <button className=\"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\">\n                  ログイン\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Paper Detail Content */}\n          <div className=\"max-w-5xl mx-auto p-8\">\n            <div className=\"bg-white border border-gray-300 rounded-lg p-8\">\n              {/* Title Section */}\n              <div className=\"mb-6\">\n                <span className=\"text-xs text-gray-600 uppercase tracking-wide\">学術論文</span>\n                <h1 className=\"text-3xl font-serif text-gray-900 mt-2 mb-4\">\n                  {viewingPaper.title}\n                </h1>\n                <p className=\"text-xl text-gray-600 mb-4\">{viewingPaper.titleEn}</p>\n                <p className=\"text-gray-700 mb-2\">著者: {viewingPaper.authors}</p>\n                <p className=\"text-sm italic text-gray-600\">\n                  SPring-8 Research Journal, Vol. {viewingPaper.id}, No. 1 ({viewingPaper.year}), pp. 1-20\n                </p>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"flex gap-3 mb-8 pb-8 border-b border-gray-300\">\n                <button\n                  onClick={() => {\n                    if (viewingPaper.uploadedFile) {\n                      const fileURL = URL.createObjectURL(viewingPaper.uploadedFile);\n                      window.open(fileURL, '_blank');\n                    } else {\n                      alert('この論文のPDFファイルは利用できません');\n                    }\n                  }}\n                  className=\"px-6 py-3 bg-red-800 text-white rounded hover:bg-red-900 font-semibold\"\n                >\n                  PDFを開く\n                </button>\n                <button className=\"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\">\n                  保存\n                </button>\n                <button className=\"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\">\n                  引用\n                </button>\n              </div>\n\n              {/* Metadata */}\n              <div className=\"grid grid-cols-2 gap-6 mb-8\">\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">研究分野</h3>\n                  <p className=\"text-gray-900\">{viewingPaper.field}</p>\n                </div>\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">測定手法</h3>\n                  <p className=\"text-gray-900\">{viewingPaper.method}</p>\n                </div>\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">ビームライン</h3>\n                  <p className=\"text-gray-900\">{viewingPaper.beamline}</p>\n                </div>\n                <div>\n                  <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">産業応用</h3>\n                  <p className=\"text-gray-900\">{viewingPaper.application}</p>\n                </div>\n              </div>\n\n              {/* MDRCG Information */}\n              {viewingPaper.formData && (\n                <div className=\"space-y-6\">\n                  <h2 className=\"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-300\">\n                    MDRCG 詳細情報\n                  </h2>\n\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">主な結論</h3>\n                    <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.mainConclusion}</p>\n                  </div>\n\n                  {viewingPaper.formData.priorWork && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">先行研究との関係</h3>\n                      <p className=\"text-gray-700 leading-relaxed whitespace-pre-line\">{viewingPaper.formData.priorWork}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.novelty && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">新規性</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.formData.novelty}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.unknownQuestions && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">未解明の課題</h3>\n                      <p className=\"text-gray-700 leading-relaxed whitespace-pre-line\">{viewingPaper.formData.unknownQuestions}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.failedApproach && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">失敗したアプローチ</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.failedApproach}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.crossDomain && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">異分野翻訳レイヤー</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.crossDomain}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.industrialApplication && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">産業応用可能性</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.industrialApplication}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.abstractPrinciple && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">抽象化された原理（小学5年生レベル）</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.formData.abstractPrinciple}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.experimentalReason && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">実験設計の理由</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.formData.experimentalReason}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.scalingPossibility && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">スケーリング可能性</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.formData.scalingPossibility}</p>\n                    </div>\n                  )}\n\n                  {viewingPaper.formData.combinationPotential && (\n                    <div>\n                      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">組み合わせ可能性</h3>\n                      <p className=\"text-gray-700 leading-relaxed\">{viewingPaper.formData.combinationPotential}</p>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Related Papers Section */}\n              {viewingPaper.relatedPapers && viewingPaper.relatedPapers.length > 0 && (\n                <div className=\"mt-8 pt-8 border-t-2 border-gray-300\">\n                  <h2 className=\"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                    <Link2 className=\"w-6 h-6 text-blue-600\" />\n                    関連論文 (Related Papers)\n                  </h2>\n                  <div className=\"space-y-3\">\n                    {viewingPaper.relatedPapers.map(relation => {\n                      const relatedPaper = papers.find(p => p.id === relation.paperId);\n                      return relatedPaper ? (\n                        <div key={relation.paperId} className=\"p-4 bg-blue-50 border-l-4 border-blue-500 rounded\">\n                          <div className=\"flex items-start justify-between\">\n                            <div className=\"flex-1\">\n                              <p className=\"font-semibold text-gray-900\">{relatedPaper.title}</p>\n                              <p className=\"text-sm text-gray-600 mt-1\">{relatedPaper.authors} ({relatedPaper.year})</p>\n                            </div>\n                            <span className=\"ml-4 px-3 py-1 bg-blue-600 text-white text-xs font-semibold rounded-full\">\n                              {relation.relationshipType}\n                            </span>\n                          </div>\n                        </div>\n                      ) : null;\n                    })}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Back Button */}\n            <div className=\"mt-6\">\n              <button\n                onClick={() => setViewingPaper(null)}\n                className=\"px-6 py-3 border border-gray-400 text-gray-700 rounded hover:bg-gray-50 font-semibold\"\n              >\n                ← 検索結果に戻る\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // 検索ビュー (Search View)\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <div className=\"max-w-full mx-auto\">\n        {/* Header */}\n        <div className=\"bg-white border-b border-gray-200 px-8 py-4\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              SPring-8 Research Database\n            </h1>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => setCurrentView('upload')}\n                className=\"px-4 py-2 text-sm text-gray-700 hover:text-gray-900 font-medium\"\n              >\n                論文登録 (Upload)\n              </button>\n              <button className=\"px-4 py-2 text-sm bg-red-800 text-white rounded hover:bg-red-900 font-medium\">\n                Log in\n              </button>\n            </div>\n          </div>\n\n          <div className=\"max-w-3xl\">\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"キーワード、産業応用、異分野応用などで検索...\"\n                className=\"w-full px-4 py-3 pr-12 border-2 border-gray-300 rounded focus:border-gray-400 focus:outline-none text-base\"\n              />\n              <button className=\"absolute right-3 top-3 text-gray-600 hover:text-gray-900\">\n                <Search className=\"w-5 h-5\" />\n              </button>\n            </div>\n            <button\n              onClick={() => setCurrentView('advancedSearch')}\n              className=\"mt-2 text-sm text-blue-700 hover:text-blue-900 underline\"\n            >\n              高度検索\n            </button>\n          </div>\n        </div>\n\n        {/* Main Content Area */}\n        <div className=\"flex\">\n          {/* Left Sidebar - Filters */}\n          <div className=\"w-64 border-r border-gray-200 bg-gray-50 p-6 min-h-screen\">\n            <h2 className=\"text-lg font-bold text-gray-900 mb-4\">Refine Results</h2>\n\n          {/* Advanced Search Modal */}\n          {showAdvancedSearch && (\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n              <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-purple-600 to-blue-600 p-6 text-white\">\n                  <div className=\"flex justify-between items-center\">\n                    <div>\n                      <h2 className=\"text-2xl font-bold\">高度検索 (Advanced Search)</h2>\n                      <p className=\"text-sm mt-1\">階層的なナレッジツリーで探索 (Explore through hierarchical knowledge tree)</p>\n                    </div>\n                    <button\n                      onClick={() => {\n                        setShowAdvancedSearch(false);\n                        setAdvancedSearchQuery('');\n                        setSelectedPath([]);\n                        setCurrentBranch(null);\n                      }}\n                      className=\"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2\"\n                    >\n                      <X className=\"w-6 h-6\" />\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"p-6\">\n                  {/* Breadcrumb Path */}\n                  {selectedPath.length > 0 && (\n                    <div className=\"mb-4 flex items-center gap-2 text-sm text-gray-600\">\n                      <button\n                        onClick={() => {\n                          setSelectedPath([]);\n                          setCurrentBranch(null);\n                        }}\n                        className=\"hover:text-blue-600\"\n                      >\n                        ホーム (Home)\n                      </button>\n                      {selectedPath.map((pathItem, index) => (\n                        <React.Fragment key={index}>\n                          <span>→</span>\n                          <button\n                            onClick={() => {\n                              setSelectedPath(selectedPath.slice(0, index + 1));\n                              // Navigate to this level\n                              let branch = searchKnowledgeTree;\n                              for (let i = 0; i <= index; i++) {\n                                branch = branch[selectedPath[i]];\n                              }\n                              setCurrentBranch(branch);\n                            }}\n                            className=\"hover:text-blue-600 font-semibold\"\n                          >\n                            {pathItem}\n                          </button>\n                        </React.Fragment>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Search Input */}\n                  <div className=\"relative mb-6\">\n                    <Search className=\"absolute left-4 top-4 text-gray-400 w-5 h-5\" />\n                    <input\n                      type=\"text\"\n                      value={advancedSearchQuery}\n                      onChange={(e) => setAdvancedSearchQuery(e.target.value)}\n                      placeholder=\"キーワードを入力... (Enter keywords...)\"\n                      className=\"w-full pl-12 pr-4 py-4 border-2 border-purple-300 rounded-lg focus:border-purple-500 focus:outline-none text-lg\"\n                      autoFocus\n                    />\n                  </div>\n\n                  {/* Results Area */}\n                  <div className=\"max-h-[400px] overflow-y-auto\">\n                    {advancedSearchQuery === '' && selectedPath.length === 0 ? (\n                      // Show top level categories\n                      <div className=\"space-y-3\">\n                        <p className=\"text-sm text-gray-600 mb-4\">カテゴリーを選択するか、キーワードを入力してください (Select a category or enter keywords)</p>\n                        {Object.keys(searchKnowledgeTree).map(key => (\n                          <div\n                            key={key}\n                            onClick={() => {\n                              setSelectedPath([key]);\n                              setCurrentBranch(searchKnowledgeTree[key]);\n                            }}\n                            className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\"\n                          >\n                            <div className=\"flex items-center justify-between\">\n                              <div>\n                                <h3 className=\"font-bold text-gray-800\">{searchKnowledgeTree[key].label}</h3>\n                                <p className=\"text-xs text-gray-500 mt-1\">\n                                  {searchKnowledgeTree[key].branches ? \n                                    `${Object.keys(searchKnowledgeTree[key].branches).length} サブカテゴリー` : \n                                    '論文を表示'}\n                                </p>\n                              </div>\n                              <ChevronDown className=\"w-5 h-5 text-gray-400 transform -rotate-90\" />\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    ) : advancedSearchQuery !== '' ? (\n                      // Show search suggestions\n                      <div className=\"space-y-3\">\n                        {getAdvancedSearchSuggestions(advancedSearchQuery)?.length > 0 ? (\n                          getAdvancedSearchSuggestions(advancedSearchQuery).map((match, index) => (\n                            <div\n                              key={index}\n                              onClick={() => {\n                                setSelectedPath(match.path);\n                                setCurrentBranch(match.data);\n                                setAdvancedSearchQuery('');\n                              }}\n                              className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\"\n                            >\n                              <div className=\"flex items-center justify-between\">\n                                <div>\n                                  <h3 className=\"font-bold text-gray-800\">{match.data.label}</h3>\n                                  <p className=\"text-xs text-gray-500 mt-1\">\n                                    {match.data.branches ? \n                                      `${Object.keys(match.data.branches).length} サブカテゴリー` : \n                                      `${match.data.papers?.length || 0} 件の論文`}\n                                  </p>\n                                </div>\n                                <ChevronDown className=\"w-5 h-5 text-gray-400 transform -rotate-90\" />\n                              </div>\n                            </div>\n                          ))\n                        ) : (\n                          <p className=\"text-center text-gray-500 py-8\">該当する結果が見つかりませんでした (No results found)</p>\n                        )}\n                      </div>\n                    ) : currentBranch ? (\n                      // Show current branch contents\n                      <div className=\"space-y-3\">\n                        {currentBranch.branches && Object.keys(currentBranch.branches).map(key => (\n                          <div\n                            key={key}\n                            onClick={() => {\n                              setSelectedPath([...selectedPath, key]);\n                              setCurrentBranch(currentBranch.branches[key]);\n                            }}\n                            className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all\"\n                          >\n                            <div className=\"flex items-center justify-between\">\n                              <div>\n                                <h3 className=\"font-bold text-gray-800\">{currentBranch.branches[key].label}</h3>\n                                <p className=\"text-xs text-gray-500 mt-1\">\n                                  {currentBranch.branches[key].branches ? \n                                    `${Object.keys(currentBranch.branches[key].branches).length} サブカテゴリー` : \n                                    `${currentBranch.branches[key].papers?.length || 0} 件の論文`}\n                                </p>\n                              </div>\n                              <ChevronDown className=\"w-5 h-5 text-gray-400 transform -rotate-90\" />\n                            </div>\n                          </div>\n                        ))}\n                        {currentBranch.papers && (\n                          <div className=\"space-y-3 mt-4\">\n                            <h3 className=\"font-bold text-gray-700 border-t pt-4\">関連論文 (Related Papers)</h3>\n                            {currentBranch.papers.map(paperId => {\n                              const paper = papers.find(p => p.id === paperId);\n                              return paper ? (\n                                <div\n                                  key={paper.id}\n                                  onClick={() => {\n                                    setShowAdvancedSearch(false);\n                                    // Scroll to paper in main view\n                                    document.getElementById(`paper-${paper.id}`)?.scrollIntoView({ behavior: 'smooth' });\n                                  }}\n                                  className=\"p-4 border-2 border-blue-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition-all\"\n                                >\n                                  <h4 className=\"font-bold text-gray-800\">{paper.title}</h4>\n                                  <p className=\"text-sm text-gray-600 mt-1\">{paper.titleEn}</p>\n                                  <p className=\"text-xs text-gray-500 mt-2\">{paper.authors} ({paper.year})</p>\n                                </div>\n                              ) : null;\n                            })}\n                          </div>\n                        )}\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Research Field Filter */}\n            <div className=\"mb-6\">\n              <button\n                onClick={() => setShowFilters({...showFilters, field: !showFilters.field})}\n                className=\"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\"\n              >\n                <span>研究分野 (Research Field)</span>\n                {showFilters.field ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n              </button>\n              {showFilters.field && (\n                <div className=\"space-y-1\">\n                  {['材料科学 (Materials Science)', '生命科学 (Life Sciences)', 'ナノサイエンス (Nanoscience)', '高分子科学 (Polymer Science)', '物性物理学 (Condensed Matter Physics)'].map(field => (\n                    <label key={field} className=\"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedFilters.field.includes(field)}\n                        onChange={() => toggleFilter('field', field)}\n                        className=\"mt-0.5 w-4 h-4 accent-red-800\"\n                      />\n                      <span className=\"text-gray-700\">{field.split(' (')[0]}</span>\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Method Filter */}\n            <div className=\"mb-6\">\n              <button\n                onClick={() => setShowFilters({...showFilters, method: !showFilters.method})}\n                className=\"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\"\n              >\n                <span>測定手法 (Method)</span>\n                {showFilters.method ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n              </button>\n              {showFilters.method && (\n                <div className=\"space-y-1\">\n                  {['X線回折 (X-ray Diffraction)', 'X線結晶構造解析 (X-ray Crystallography)', '時間分解分光 (Time-Resolved Spectroscopy)', '小角X線散乱 (SAXS)'].map(method => (\n                    <label key={method} className=\"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedFilters.method.includes(method)}\n                        onChange={() => toggleFilter('method', method)}\n                        className=\"mt-0.5 w-4 h-4 accent-red-800\"\n                      />\n                      <span className=\"text-gray-700\">{method.split(' (')[0]}</span>\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Application Filter */}\n            <div className=\"mb-6\">\n              <button\n                onClick={() => setShowFilters({...showFilters, application: !showFilters.application})}\n                className=\"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\"\n              >\n                <span>産業応用 (Application)</span>\n                {showFilters.application ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n              </button>\n              {showFilters.application && (\n                <div className=\"space-y-1\">\n                  {['自動車産業 (Automotive)', '製薬・医療 (Pharmaceutical)', 'エネルギー産業 (Energy)', '化学産業 (Chemical)'].map(app => (\n                    <label key={app} className=\"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedFilters.application.includes(app)}\n                        onChange={() => toggleFilter('application', app)}\n                        className=\"mt-0.5 w-4 h-4 accent-red-800\"\n                      />\n                      <span className=\"text-gray-700\">{app.split(' (')[0]}</span>\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Year Filter */}\n            <div className=\"mb-6\">\n              <button\n                onClick={() => setShowFilters({...showFilters, year: !showFilters.year})}\n                className=\"flex items-center justify-between w-full text-left font-semibold text-gray-900 mb-2\"\n              >\n                <span>年度 (Year)</span>\n                {showFilters.year ? <ChevronUp className=\"w-4 h-4\" /> : <ChevronDown className=\"w-4 h-4\" />}\n              </button>\n              {showFilters.year && (\n                <div className=\"space-y-1\">\n                  {[2024, 2023, 2022].map(year => (\n                    <label key={year} className=\"flex items-start gap-2 text-sm cursor-pointer hover:bg-gray-100 p-1 rounded\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedFilters.year.includes(year)}\n                        onChange={() => toggleFilter('year', year)}\n                        className=\"mt-0.5 w-4 h-4 accent-red-800\"\n                      />\n                      <span className=\"text-gray-700\">{year}</span>\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Right Content Area - Results */}\n          <div className=\"flex-1 p-8\">\n            <div className=\"mb-4 flex items-center justify-between\">\n              <p className=\"text-sm text-gray-600\">\n                <strong>{filteredPapers.length}</strong> 件の結果\n              </p>\n            </div>\n\n            <div className=\"space-y-6\">\n            {filteredPapers.map(paper => (\n              <div key={paper.id} id={`paper-${paper.id}`} className=\"border-b border-gray-200 pb-6 mb-6\">\n                <div className=\"flex gap-4\">\n                  <div className=\"flex-shrink-0\">\n                    <input type=\"checkbox\" className=\"w-4 h-4 mt-1 accent-red-800\" />\n                  </div>\n                  \n                  <div className=\"flex-1\">\n                    <div className=\"mb-2\">\n                      <span className=\"text-xs text-gray-600 uppercase tracking-wide\">学術論文</span>\n                    </div>\n                    \n                    <h3 \n                      onClick={() => setViewingPaper(paper)}\n                      className=\"text-xl font-serif text-gray-900 mb-2 hover:underline cursor-pointer\"\n                    >\n                      {paper.title}\n                    </h3>\n                    \n                    <p className=\"text-sm text-gray-700 mb-2\">{paper.authors}</p>\n                    \n                    <p className=\"text-sm italic text-gray-600 mb-3\">\n                      SPring-8 Research Journal, Vol. {paper.id}, No. 1 ({paper.year}), pp. 1-20\n                    </p>\n                    \n                    <p className=\"text-sm text-gray-800 leading-relaxed mb-3\">\n                      ...{paper.mainConclusion.substring(0, 150)}...\n                    </p>\n                    \n                    <button\n                      onClick={() => setViewingPaper(paper)}\n                      className=\"text-sm text-blue-700 hover:underline font-medium\"\n                    >\n                      詳細を表示\n                    </button>\n                  </div>\n                  \n                  <div className=\"flex-shrink-0 flex flex-col gap-2 w-32\">\n                    <button \n                      onClick={() => {\n                        if (paper.uploadedFile) {\n                          const fileURL = URL.createObjectURL(paper.uploadedFile);\n                          window.open(fileURL, '_blank');\n                        } else {\n                          alert('この論文のPDFファイルは利用できません');\n                        }\n                      }}\n                      className=\"px-4 py-2 bg-red-800 text-white text-sm rounded hover:bg-red-900 font-medium\"\n                    >\n                      オンライン閲覧\n                    </button>\n                    <button className=\"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 font-medium\">\n                      保存\n                    </button>\n                    <button className=\"px-4 py-2 border border-gray-300 text-gray-700 text-sm rounded hover:bg-gray-50 font-medium\">\n                      引用\n                    </button>\n                    {paper.uploadedFile && (\n                      <button \n                        onClick={() => {\n                          if (window.confirm('この論文を削除しますか？')) {\n                            setPapers(prevPapers => prevPapers.filter(p => p.id !== paper.id));\n                          }\n                        }}\n                        className=\"px-4 py-2 border border-red-300 text-red-700 text-sm rounded hover:bg-red-50 font-medium\"\n                      >\n                        削除\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}